

<HTML>
<HEAD>
<TITLE>How to Configure Microsoft 16-Bit DLC Protocol with Windows 95 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q140126">
<META NAME="KBModify" CONTENT="1996/01/12">
<META NAME="KBCreate" CONTENT="1995/11/22">
<META NAME="Keywords" CONTENT="kbnetwork kbhowto">
<META NAME="KBArea" CONTENT="Support; KB; win95x, crossnet, winprint">
<META NAME="Description" CONTENT="  This article describes the configuration of the Microsoft 16-bit DLC (MSDLC) protocol with Windows 95 based on a prior IBM DLC protocol installation. This article assumes that an NDIS2 (real-mode) network card driver is in use and that the MSDLC pr...">
<META NAME="Product" CONTENT="Windows 95">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAHE,QBWO,QDL9,QBWN,QBXS,QAIB,QABA,QBWQ,QDI9,QAU9,QAC2,QBWS,QDIZ,QBFY,QAA1 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Configure Microsoft 16-Bit DLC Protocol with Windows 95</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 12, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q140126</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows 95
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article describes the configuration of the Microsoft 16-bit DLC
(MSDLC) protocol with Windows 95 based on a prior IBM DLC protocol
installation. This article assumes that an NDIS2 (real-mode) network card
driver is in use and that the MSDLC protocol will be bound to either an
Ethernet or Token-Ring network card.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The DLC protocol exposes the DLC interface commonly used for connectivity
to AS/400 and mainframe computer systems. This protocol cannot be used for
Windows 95 client connectivity or to share files or printers with the File
and Printer Sharing services in Windows 95.
<P>
If the IBM DLC protocol is currently installed, the following steps can be
used to install a network card driver in Windows 95 and install the MSDLC
protocol driver:

<OL><P><LI>Disable any of the following lines that appear in the Config.sys file
   by placing "REM" at the beginning of each such line. NOTE: Do not
   delete these lines as they may be necessary for reference.
<P>
<P><PRE>      DEVICE=C:\&lt;DLC_DIRECTORY&gt;\DXMA0MOD.SYS
      DEVICE=C:\&lt;DLC_DIRECTORY&gt;\DXMC0MOD.SYS  (for Token-Ring adapters)
      DEVICE=C:\&lt;DLC_DIRECTORY&gt;\DXME0MOD.SYS  (for Ethernet adapters)
      DEVICE=C:\&lt;DLC_DIRECTORY&gt;\DXMTOMOD.SYS  (for NetBIOS functionality)
      DEVICE=C:\&lt;DLC_DIRECTORY&gt;\DXMJ0MOD.SYS  (occasionally used instead
<PRE></PRE>                                               of Dxmt0mod.sys)

   An example of a disabled line should look like this:

      REM DEVICE=C:\&lt;DLC_DIRECTORY&gt;\DXMA0MOD.SYS

</PRE><P><LI>In Control Panel, double-click the Network icon.

<P><LI>Click the existing IBM DLC protocol, and then click Remove.

<P><LI>Click Add, click Protocol, and then click Add.

<P><LI>In the Manufacturers box, click Microsoft. In the Network Protocols
   box, click Microsoft DLC, and then click OK.

<P><LI>Click OK, and then click Yes.
<P>
</OL>After Windows 95 restarts, you are ready to configure the Microsoft DLC
protocol.
<P>
<P><h3>Configuring the Microsoft DLC Protocol</h3>
 
<P>
The following table outlines the standard DLC protocol settings and
the corresponding MSDLC Advanced property parameters:
<P>
Dxmt0mod.sys settings:
<P>
<PRE>   IBM DLC Settings/Abbreviations   MSDLC Settings
   ---------------------------------------------------------------
   STATIONS ST=                     stations
   SESSIONS S=                      sessions
   COMMANDS C=                      commands
   DHB.SIZE DS=                     trxbufsize
   DHB.NUMBER DN=                   trxbufsize
   DLC.MAXOUT MO=                   maxout
   DLC.MAXIN MI=                    maxin
   EXTRA.SAPS ES=                   xsaps0 for first adapter
                                    xsaps1 for second adapter
   EXTRA.STATIONS EST=              xstations0 for first adapter
                                    xstations1 for second adapter
   DLC.RETRY.COUNT RC=              dlcretries
   DLC.T1 T1=                       t1_tick_one for first adapter
                                    t1_tick_two for second adapter
   DLC.T2 T2=                       t2_tick_one for first adapter
                                    t2_tick_two for second adapter
   DLC.TI TI=                       ti_tick_one for first adapter
                                    ti_tick_two for second adapter
   TRANSMIT.TIMEOUT TT=             class1timeout

</PRE></OL><h3>Token-Ring Adapters</h3>
 
<P>
Dxmc0mod.sys addr0, mem0, etr0, addr1, mem1, etr1
<P>
This driver is used to set parameters for Token-Ring adapters that
must be set differently depending on which Token-Ring adapter is in
use. The parameters can be configured as follows:
<P>
<PRE>   addr0 - This parameter specifies the Locally Administered Address
           (LAA) and can be set using the NETADDRESS keyword in the
           Protocol.ini file. For additional information on Token-Ring
           network adapters and LAAs, please see the following article
           in the Microsoft Knowledge Base:

              ARTICLE-ID: <B><A href="../win3x/q93039.htm">Q93039</A></B>
              TITLE     : Token-Ring Cards and Local Addressing with
                          WFWG

   mem0 - This parameter specifies the upper memory address used by the
          Token-Ring adapter.

   etr0 - This parameter specifies whether or not Early Token Release is
          in use on the Token-Ring adapter.

</PRE>The remaining parameters are used with the second Token-Ring adapter.
<P>
<P><h3>Ethernet Adapters</h3>
 
<P>
Dxme0mod.sys addr0, wrk0, xmit_swap0, addr1, wrk1, xmit_swap1
<P>
This driver is used to set parameters for an Ethernet adapter when the
adapter is being handled by a Windows 95 NDIS2 adapter driver. The
parameters can be configured as follows:
<P>
<PRE>   addr0 - This parameter can be set using the NETADDRESS keyword in the
           Protocol.ini file.

   wrk0 - This parameter specifies the work space area in kilobytes
          (KB).

   xmit_swap0 - This parameter determines whether destination address
                bits are swapped, and whether 802.3 or Ethernet DIX 2.0
                frames are sent.

      0 - Transmit 802.2 frames and swap address bits (default).

      1 - Transmit Ethernet DIX frames and swap address bits.

      2 - Transmit 802.3 frames and do not swap address bits.

      3 - Transmit Ethernet DIX frames and do not swap address bits.

</PRE>Depending on the value of xmit_swap0, you should set the MSDLC parameters
as follows:
<P>
<PRE>   Dxme0mod.sys Setting   MSDLC Setting
   ----------------------------------------------
   xmit_swap0 = 0         usedix = 0 and swap = 1
   xmit_swap0 = 1         usedix = 1 and swap = 1
   xmit_swap0 = 2         usedix = 0 and swap = 0
   xmit_swap0 = 3         usedix = 1 and swap = 0

</PRE>Failure to set the appropriate MSDLC parameters correctly could cause DLC
applications to fail when trying to connect to a host system.
<P>
<P><h3>Dxma0mod.sys</h3>
 
<P>
This driver is primarily used for interrupt 0x5C arbitration. Therefore,
no Windows 95 drivers need to be installed in lieu of this driver.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbnetwork kbhowto<BR>
KBSubcategory: win95 ndis2<BR>
Additional reference words: 95<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 12, 1996</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
