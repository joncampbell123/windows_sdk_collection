

<HTML>
<HEAD>
<TITLE>Err Msg: Drive C Contains Errors That Must Be Corrected... </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q132883">
<META NAME="KBModify" CONTENT="1996/02/27">
<META NAME="KBCreate" CONTENT="1995/07/19">
<META NAME="Keywords" CONTENT="kbtool kberrmsg">
<META NAME="KBArea" CONTENT="Support; KB; win95x, crossnet, winprint">
<META NAME="Description" CONTENT="  You may experience one of the following problems while using DriveSpace:   - When you upgrade a compressed drive from DriveSpace to DriveSpace 3,    you may receive the following error message:        You cannot upgrade drive X because it contains ...">
<META NAME="Product" CONTENT="Windows 95">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAB4,QAAP,QAR4,QBJQ,QAFI,QDL9,QBWO,QBWN,QDJ6,QDL7,QDJ2,QBWS,QBWQ,QAEF,QAKP V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Err Msg: Drive C Contains Errors That Must Be Corrected...</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 27, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q132883</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows 95
<LI>Microsoft Plus! for Windows 95
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
You may experience one of the following problems while using DriveSpace:

<UL><LI>When you upgrade a compressed drive from DriveSpace to DriveSpace 3,
   you may receive the following error message:
<P>
<P><PRE>      You cannot upgrade drive X because it contains errors. To upgrade
      this drive, first run ScanDisk on it, and then try again to upgrade
      it.
</PRE><P>
<P><PRE>      ID Number: DRVSPACE 424
</PRE><P>
   -or-

<LI>When you compress an existing uncompressed drive, you may receive the
   following error message:
<P>
<P><PRE>      Drive X contains errors that must be corrected before the drive can
      be compressed. To correct them run ScanDisk.
</PRE><P>
<P><PRE>      ID Number: DRVSPACE 306
</PRE><P>
   -or-

<LI>When you uncompress a compressed drive, you may receive the following
   error message:
<P>
<P><PRE>      Drive X contains errors that must be corrected before the drive can
      be uncompressed. To correct them, run ScanDisk.
</PRE><P>
<P><PRE>      ID Number: DRVSPACE 307
</PRE><P>
   -or-

<LI>When you create a new empty compressed drive, you may receive the
   following error message:
<P>
<P><PRE>      Drive C contains errors that must be corrected before the drive can
      be used to create a new compressed drive. To correct them run
      ScanDisk.
</PRE><P>
<P><PRE>      ID Number: DRVSPACE 308
</PRE><P>
</UL><h2>CAUSE</h2>
 
<P>
These errors can occur if the drive contains a folder with a path that
contains more than 66 characters. For example, the following path contains
more than 66 characters:
<P>
<PRE>   C:\Windows\Profiles\&lt;username&gt;\Startm~1\Programs\Winapp\Winword\Setup

</PRE><h2>RESOLUTION</h2>
 
<P>
To work around this problem, follow these steps:

<OL><P><LI>Start ScanDisk. Click the Automatically Fix Errors check box to clear
   it, and then begin checking the drive.

<P><LI>When you receive the error message
<P>
<P><PRE>      The &lt;path&gt; folder could not be opened in MS-DOS mode because
      its complete short name was longer than 66 characters.
</PRE><P>
   make a note of the path that is longer than 66 characters, and then
   click Ignore. If you receive more than one such message, note each
   path.

<P><LI>After ScanDisk is finished, move each folder whose path contains more
   than 66 characters to another location with a shorter path.

<P><LI>Perform the DriveSpace operation you want.

<P><LI>After the DriveSpace operation is finished, move each folder that
   you moved in step 3 back to its original location.
<P>
</OL><h2>MORE INFORMATION</h2>
 
<P>
This is not a limitation in Windows 95 or DriveSpace. Windows 95 allows
paths with more than 66 characters. However, MS-DOS does not allow these
long paths. When you use the Automatically Fix Errors option in ScanDisk,
a path that is longer than 66 characters is considered valid to Windows 95
and invalid to MS-DOS.
<P>
ScanDisk does not try to fix the path because the path is valid to Windows
95. However, when DriveSpace runs in mini-Windows mode, a folder with a
path longer than 66 characters cannot be processed correctly.
<P>
This situation may occur when you are using user profiles because of the
long directory structure that is created. User profiles can store the
entire Start Menu directory structure, creating paths longer than 66
characters.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbtool kberrmsg<BR>
KBSubcategory: win95 winplus drvspace scandskw<BR>
Additional reference words: 95<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 27, 1996</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
