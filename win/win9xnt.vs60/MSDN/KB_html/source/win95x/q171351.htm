

<HTML>
<HEAD>
<TITLE>Loopback Send/Receive Over IPX/SPX May Not Work Under Stress </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q171351">
<META NAME="KBModify" CONTENT="1997/07/14">
<META NAME="KBCreate" CONTENT="1997/07/14">
<META NAME="Keywords" CONTENT="kbnetwork win95">
<META NAME="KBArea" CONTENT="Support; KB; win95x, crossnet, winprint">
<META NAME="Description" CONTENT="  In Windows 95, the IPX/SPX-compatible protocol (NWLINK) may not  successfully send and receive data under the following conditions:    - The same computer is both the sender and receiver of the data.   - A large amount of data is being sent in a co...">
<META NAME="Product" CONTENT="Windows 95">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAVZ,QBVV,QAH6,QAU9,QAYY,QDL9,QBWO,QBWN,QAJQ,QAVX,QAVW,QAO4,QAKP,QBWP,QAMB V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Loopback Send/Receive Over IPX/SPX May Not Work Under Stress</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 14, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q171351</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows 95
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
In Windows 95, the IPX/SPX-compatible protocol (NWLINK) may not 
successfully send and receive data under the following conditions: 

<UL><LI>The same computer is both the sender and receiver of the data.

<LI>A large amount of data is being sent in a continuous stream.

<LI>The network adapter (NDIS) driver does not provide loopback
   functionality.
<P>
</UL>Symptoms of this problem may include:

<UL><LI>The data transfer never finishes. This is the most common symptom.

<LI>The computer may restart. This occurs rarely, and only if a large block
   of data is being transferred.

<LI>The computer may stop responding (hang), requiring a cold boot (power-
   off or reset). This occurs rarely, and only if a large block of data is
   being transferred.
<P>
</UL><h2>CAUSE</h2>
 
<P>
Loopback packets (in which the source and destination addresses are the 
same) are not recognized and handled internally by NWLINK. Instead, they 
are passed to the network adapter driver. If the network adapter driver 
does not recognize and handle loopback packets, the packet is sent out on 
the network wire. Under continuous stress of this type, and under certain 
timing conditions, the symptoms listed above may occur.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Windows 95. We are 
researching this problem and will post new information here in the 
Microsoft Knowledge Base as it becomes available.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
This condition may occur when you are running a program designed to test 
data throughput over IPX/SPX (including WinSock over IPX/SPX). We 
recommend that such tests be conducted between two separate computers, 
instead of on one computer in loopback mode. This not only avoids the 
problems mentioned here, but also returns more meaningful results.
<P>
You can also work around this problem by using a network adapter driver 
that handles loopback packets internally without transmitting them on the 
network medium. For information about whether a particular network adapter
driver handles loopback packets internally, contact the vendor of your 
network adapter.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
For additional information about issues related to loopback operations 
with NWLINK, please see the following articles in the Microsoft Knowledge
Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../urjump.htm">Q146107</A></B>
   TITLE     : Local File Transfer Using UNC Slow with NWLnkIPX

   ARTICLE-ID: <B><A href="../winnt/q127054.htm">Q127054</A></B>
   TITLE     : Loopback Functionality Does Not Work with Miniport Drivers

   ARTICLE-ID: <B><A href="../winnt/q124648.htm">Q124648</A></B>
   TITLE     : DC21040 Causes Windows NT 3.5 to Stop Responding (Hang)
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 95<BR>
Keywords            : kbnetwork win95<BR>
Version             : WINDOWS:95<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 14, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
