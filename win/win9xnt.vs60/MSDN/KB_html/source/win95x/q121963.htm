

<HTML>
<HEAD>
<TITLE>Requirements to Boot Previous Operating System </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q121963">
<META NAME="KBModify" CONTENT="1997/08/13">
<META NAME="KBCreate" CONTENT="1994/10/24">
<META NAME="Keywords" CONTENT="win95 winboot kbfaq">
<META NAME="KBArea" CONTENT="Support; KB; win95x, crossnet, winprint">
<META NAME="Description" CONTENT="  When you press the F4 key at the  Starting Windows 95  message to boot your previous operating system, your previous operating system may not be loaded and Windows 95 may continue to load normally. In addition, one of the following messages may be ...">
<META NAME="Product" CONTENT="Windows 95">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QDIR,QBWO,QDL9,QBWN,QBWQ,QAGY,QDIV,QAC9,QANE,QAA1,QDI2,QBFY,QBSO,QDNF,QBVV V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Requirements to Boot Previous Operating System</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  August 13, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q121963</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows 95
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you press the F4 key at the "Starting Windows 95" message to boot your
previous operating system, your previous operating system may not be loaded
and Windows 95 may continue to load normally. In addition, one of the
following messages may be displayed:

<UL><LI>Now loading your previous version of MS-DOS, please wait.
<P>
   Your previous MS-DOS version is not supported. MS-DOS startup failed.

<LI>Now loading your previous version of MS-DOS, please wait.
<P>
   Your previous MS-DOS files were not found. MS-DOS startup failed.
<P>
</UL><h2>CAUSE</h2>
 
<P>
This behavior can be caused by any of the following conditions:

<UL><LI>The line "BootMulti=1" is not present in the Msdos.sys file in the root
   folder of the boot drive. If drive C is compressed, this line must be
   present in the Msdos.sys file located on the host drive for drive C
   (instead of in the Msdos.sys file located on drive C).

<LI>You did not install Windows 95 over Microsoft MS-DOS version 5.0 or
   later, or IBM PC-DOS version 5.x or 6.x. You must install Windows 95
   over one of these MS-DOS or PC-DOS versions in order to boot your
   previous operating system after installing Windows 95.

<LI>The system files from your previous operating system are missing or
   damaged.
<P>
</UL><h2>RESOLUTION</h2>
 
<P>
To resolve this issue, use the appropriate method:

<UL><LI>Add the line "BootMulti=1" (without quotation marks) to the Msdos.sys
   file in the root folder of the boot drive. To do so, follow these
   steps:
<P>
   1. Type the following line at a command prompt, and then press ENTER:
<P>
<PRE>         attrib c:\msdos.sys -s -h -r

      NOTE: If drive C is compressed, use the ATTRIB command to modify
      the Msdos.sys file located on the host drive for drive C instead
      of the Msdos.sys file located on drive C.

   2. Use any text editor (such as Notepad) to open the Msdos.sys file.

      NOTE: If drive C is compressed, edit the Msdos.sys file located on
      the host drive for drive C instead of the Msdos.sys file located on
      drive C.

   3. Add the following line to the [Options] section of the file, if the
      line does not already exist:

         BootMulti=1

   4. Save and then close the Msdos.sys file.

   5. Type the following line at a command prompt, and then press ENTER:

         attrib c:\msdos.sys +s +h +r

      NOTE: If drive C is compressed, use the ATTRIB command to modify
      the Msdos.sys file located on the host drive for drive C instead
      of the Msdos.sys file located on drive C.

</PRE><LI>Use a bootable floppy disk that starts your previous operating system
   to restore the system files from the previous operating system. To do
   so, follow these steps:
<P>
   1. Remove the Hidden, System, and Read-Only attributes from the MS-DOS
<P><PRE>      Io.sys and Msdos.sys files on the floppy disk. To do so, type the
      following commands at a command prompt, pressing ENTER after each
      command
</PRE><P>
<PRE>         attrib &lt;drive&gt;:\io.sys -s -h -r
         attrib &lt;drive&gt;:\msdos.sys -s -h -r

      where &lt;drive&gt; is the drive letter of the floppy disk drive contain-
      ing the bootable floppy disk.

   2. Copy the MS-DOS system files from the floppy disk to the root folder
      of the boot drive. To do so, type the following commands from a
      command prompt, pressing ENTER after each command

         copy a:\io.sys &lt;boot&gt;:\io.dos
         copy a:\msdos.sys &lt;boot&gt;:\msdos.dos
         copy a:\command.com &lt;boot&gt;:\command.dos

      where &lt;boot&gt; is the drive letter of the boot drive.

   3. Remove all floppy disks from the disk drives, and then restart the
      computer.

</PRE></UL>NOTE: If you did not install Windows 95 over Microsoft MS-DOS version 5.0
or later, or IBM PC-DOS version 5.x or 6.x, you cannot boot your previous
operating system.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Booting Previous Operating System Without Restarting Computer</h3>
 
<P>
To boot your previous operating system after installing Windows 95 in a
new folder, you must restart the computer. You cannot switch between
Windows 95 and your previous operating system without restarting the
computer.
<P>
<P><h3>Dual-Booting MS-DOS 5.x or Later or PC-DOS 5.x or 6.x</h3>
 
<P>
Versions of MS-DOS earlier than 5.0 require that the first three
sectors of the Io.sys file reside in the first three sectors of the
data area of the hard disk. MS-DOS versions 5.0 and later do not have
this requirement. It is this flexibility that allows you to dual-boot
between Windows 95 and an earlier version of MS-DOS or PC-DOS.
<P>
When you install Windows 95 on a computer running MS-DOS version 5.0 or
later, Setup preserves the Io.sys, Msdos.sys, Command.com, Autoexec.bat,
and Config.sys files from your previous operating system by renaming them
to Io.dos, Msdos.dos, Command.dos, Autoexec.dos, and Config.dos. If you
choose to install Windows 95 in a new folder, Setup automatically adds the
line "BootMulti=1" to the Msdos.sys file so that the computer can dual-
boot Windows 95 and MS-DOS. If the Io.dos, Msdos.dos, or Command.dos file
is removed from the computer, moved to a folder other than the root folder
of the boot drive, or becomes damaged, you cannot boot your previous
operating system.
<P>
<P><h3>Booting MS-DOS on a Computer with Preinstalled Windows 95</h3>
 
<P>
Most original equipment manufacturers (OEMs) do not install Windows 95
over an existing copy of MS-DOS. If the version of Windows 95 that you
use came preinstalled on a new computer that you recently purchased,
the MS-DOS system files are most likely not present on your hard disk.
<P>
<P><h3>Running a Previous Version of Windows or Windows for Workgroups</h3>
 
<P>
If you installed Windows 95 in a new folder, you can run your previous
version of Windows or Windows for Workgroups after booting your
previous operating system. If you upgraded your earlier version of
Windows to Windows 95, you cannot run your previous version of Windows.
To run your previous version of Windows if you installed Windows 95 in
a new folder, boot your previous operating system, and then run your
previous version of Windows from the command prompt.
<P>
<P><h3>Booting a Previous Operating System Is Not Supported in OSR2</h3>
 
<P>
Windows 95 OEM Service Release 2 (OSR2) is designed to be preinstalled 
on new computers only, and cannot boot back into Windows 95 from a 
previous operating system. If you format the hard disk, install 
MS-DOS, install OSR2, boot the previous operating system, and then 
try to reboot to Windows 95, the computer stops responding (hangs).
<P>
For additional information, see the following article in the Microsoft 
Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../win95x/q155364.htm">Q155364</A></B>
   TITLE     : OSR2 Hangs After Booting Previous Operating System

</PRE>PC-DOS is manufactured by IBM, a vendor independent of Microsoft; we make
no warranty, implied or otherwise, regarding this product's performance or
reliability.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbenv kbusage kb3rdparty<BR>
KBSubcategory: win95 winboot<BR>
Additional reference words: 95 multiboot msdos drdos dr-dos dr dos novell<BR>
Keywords          : win95 winboot kbfaq<BR>
Version           : 95<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  August 13, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
