

<HTML>
<HEAD>
<TITLE>Cannot Exit MS-DOS Mode </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q151717">
<META NAME="KBModify" CONTENT="1996/07/11">
<META NAME="KBCreate" CONTENT="1996/05/29">
<META NAME="Keywords" CONTENT="kbprb">
<META NAME="KBArea" CONTENT="Support; KB; win95x, crossnet, winprint">
<META NAME="Description" CONTENT="  When you try to exit MS-DOS mode, the computer may boot back into MS-DOS mode.  CAUSE =====  This behavior can occur if multiple instances of MS-DOS mode were started and the original Config.sys and Autoexec.bat files have been replaced.  RESOLUTIO...">
<META NAME="Product" CONTENT="Windows 95">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QDJH,QDKI,QAIJ,QDKH,QAFY,QDL9,QBWO,QBWN,QAGB,QDIV,QBWS,QAFI,QBWQ,QA5W,QABA V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Cannot Exit MS-DOS Mode</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 11, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q151717</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows 95
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you try to exit MS-DOS mode, the computer may boot back into MS-DOS
mode.
<P>
<P><h2>CAUSE</h2>
 
<P>
This behavior can occur if multiple instances of MS-DOS mode were started
and the original Config.sys and Autoexec.bat files have been replaced.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To work around this problem, follow these steps:

<OL><P><LI>Use any text editor (such as Edit.com) to create a new Config.sys file
   in the root folder of your boot drive. The Config.sys file must not
   contain the following line:
<P>
<P><PRE>      DOS=Single
</PRE>
<P><LI>Create a new Autoexec.bat file in the root folder of your boot drive.
   The Autoexec.bat file must not contain the following line:
<P>
<P><PRE>      c:\&lt;windows&gt;\win.com /wx
</PRE><P>
   where &lt;windows&gt; is the name of your Windows folder.

<P><LI>Restart the computer.
<P>
</OL><h2>MORE INFORMATION</h2>
 
<P>
When you restart the computer in MS-DOS mode, you can specify custom
Config.sys and Autoexec.bat files in any of the following locations:

<UL><LI>The properties for the program you are running in MS-DOS mode.

<LI>The properties for a shortcut that starts the program you are running
   in MS-DOS mode.

<LI>The properties for the "Exit to Dos.pif" file that is used to start
   Windows 95 in MS-DOS mode.
<P>
</UL>When you double-click the program or shortcut, or click the "Restart the
computer in MS-DOS mode" option in the Shut Down Windows dialog box, the
Config.sys and Autoexec.bat files in the root folder of the boot drive are
renamed to Config.wos and Autoexec.wos, and the custom Config.sys and
Autoexec.bat files are copied from one of the above locations to the root
folder. When you exit MS-DOS mode, the current Config.sys and Autoexec.bat
files are renamed to Config.app and Autoexec.app, the original Config.sys
and Autoexec.bat files are restored from the Config.wos and Autoexec.wos
files, and the Config.wos and Autoexec.wos files are deleted.
<P>
If a second instance of MS-DOS mode is started before you exit the first
instance, the original Config.sys file contained in the Config.wos file may
be replaced with a Config.sys file that contains the following line:
<P>
<PRE>   DOS=Single

</PRE></OL>When you then attempt to exit MS-DOS mode and start Windows 95 normally,
the original Config.sys file is restored from the Config.wos file. Because
this Config.sys file contains the above line, the computer boots into
MS-DOS mode.
<P>
For additional information about the process that occurs when you restart
your computer in MS-DOS mode, please see the following article in the
Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../win95x/q138996.htm">Q138996</A></B>
   TITLE     : Description of Restarting Computer in MS-DOS Mode
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbprb<BR>
KBSubcategory: win95 winboot<BR>
Additional reference words:<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 11, 1996</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
