

<HTML>
<HEAD>
<TITLE>Possible Network Data Corruption If Locking Not Used </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q152186">
<META NAME="KBModify" CONTENT="1998/02/04">
<META NAME="KBCreate" CONTENT="1996/06/06">
<META NAME="Keywords" CONTENT="win95 kb3rdparty kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; win95x, crossnet, winprint">
<META NAME="Description" CONTENT="  When you use certain programs to access a common data file over the network from multiple workstations, the data may be read incorrectly or may become damaged.  CAUSE =====  The Microsoft Client for Microsoft Networks and Microsoft Client for NetWa...">
<META NAME="Product" CONTENT="Windows 95">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QARL,QAVZ,QAYY,QDL9,QBWO,QBWN,QBVV,QAJ4,QAY2,QAXB,QAGI,QAH4,QABT,QBW7,QBFN V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Possible Network Data Corruption If Locking Not Used</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 4, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q152186</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
95
WINDOWS
kbnetwork kb3rdparty
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows 95
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you use certain programs to access a common data file over the
network from multiple workstations, the data may be read incorrectly or
may become damaged.
<P>
<P><h2>CAUSE</h2>
 
<P>
The Microsoft Client for Microsoft Networks and Microsoft Client for
NetWare Networks cache some network data on the client computer for
enhanced network performance. If the program does not use locking calls to
guarantee data synchronization and integrity, this cached data may not be
kept in synchronization with the data on the network server.
<P>
If an opened file is not locked, it may be cached by the client. If the
file is then modified by a second client, the first client may read
incorrect file data from the cache, instead of reading the current file
data from the network server. Subequent writes by the first client may
result in incorrect data being written to the file, and damage to the file
data.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Contact the program's manufacturer for additional information about using
the program with Windows 95.
<P>
When you create a multiple-user program that allows for multiple users
concurrently accessing and modifying a common data source, use locking
calls when reading and writing data to ensure data integrity.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Microsoft Windows 95 and
OEM Service Release 2 (OSR2). An update to address this problem is now
available, but is not fully regression-tested and should be applied only
to systems experiencing this specific problem. Unless you are severely
impacted by this specific problem, Microsoft does not recommend
implementing this update at this time. Contact Microsoft Technical Support
for additional information about the availability of this update.
<P>
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
When locking calls are not used, the integrity of data cannot be
guaranteed by a network client that employs caching for enhanced
performance. Such network clients include the Microsoft Client for
NetWare Networks and the Microsoft Client for Microsoft Networks included
in Windows 95.
<P>
If a program locks the file or range of bytes that it intends to read from
or write to, the server locks that file, or that range of the file. This
denies access to that data to other users, and forces the client to read
the current data from the server instead of from the cache. This technique
is advised for maintaining data integrity when required, while providing
the performance benefits of caching when it is safe to do so.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbnetwork kb3rdparty<BR>
KBSubcategory: win95<BR>
Additional reference words: 95<BR>
Keywords          : win95 kb3rdparty kbnetwork<BR>
Version           : 95<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 4, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
