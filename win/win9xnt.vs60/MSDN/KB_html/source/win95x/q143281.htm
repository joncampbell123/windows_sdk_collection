

<HTML>
<HEAD>
<TITLE>Built-In Anti-Virus Support in Windows 95 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q143281">
<META NAME="KBModify" CONTENT="1997/08/14">
<META NAME="KBCreate" CONTENT="1996/01/30">
<META NAME="Keywords" CONTENT="win95 kbfaq">
<META NAME="KBArea" CONTENT="Support; KB; win95x, crossnet, winprint">
<META NAME="Description" CONTENT="  Windows 95 does not include an anti-virus program similar to the Microsoft Anti-Virus program included with Microsoft MS-DOS versions 6.0 and later. However, Windows 95 includes several features that make it extremely difficult for viruses to infec...">
<META NAME="Product" CONTENT="Windows 95">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWN,QDL9,QBWO,QBHJ,QBWQ,QBQ9,QAC9,QAH4,QBW7,QAI5,QAEF,QDNF,QAMR,QAIJ,QAU9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Built-In Anti-Virus Support in Windows 95</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  August 14, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q143281</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
95
WINDOWS
kbusage
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows 95
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Windows 95 does not include an anti-virus program similar to the Microsoft
Anti-Virus program included with Microsoft MS-DOS versions 6.0 and later.
However, Windows 95 includes several features that make it extremely
difficult for viruses to infect your computer. This article discusses
these features, and explains how the features make it difficult for
viruses to infect your computer. The following topics are discussed in
this article:

<UL><LI>Blocking direct disk access
<LI>Recognizing master boot record (MBR) modifications
<LI>Identifying unknown device drivers
<P>
</UL><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Blocking Direct Disk Access</h3>
 
<P>
Some viruses and other programs attempt to bypass the operating system
and system ROM BIOS and use INT25h or INT26h to write to the hard disk
directly. When a program attempts to access the hard disk in this
manner, Windows 95 prevents the program from doing so and displays the
following error message:
<P>
<PRE>   Windows has disabled direct disk access to protect your long file-
   names. To override this protection, see the LOCK /? command for more
   information.

   The system has been halted. Press CTRL+ALT+DELETE to restart your
   computer.

</PRE>This feature prevents many viruses from infecting your computer and
damaging the data on your hard disk.
<P>
<P><h3>Recognizing Master Boot Record (MBR) Modifications</h3>
 
<P>
Most viruses infect your computer by modifying the MBR and hooking the
INT13h chain. This allows the virus to monitor hard disk access and
damage the data on your hard disk. Windows 95 prevents this type of
virus from damaging your data by maintaining a list of the programs that
are currently hooking the INT13h chain. Each time you start your
computer, Windows 95 checks to see which programs are monitoring the
INT13h chain, and then compares this list of programs with the list that
it recorded the last time Windows 95 started. If any new programs that
Windows 95 does not recognize have hooked the INT13h chain, the following
message is displayed:
<P>
<PRE>   WARNING: Your computer may have a virus. The Master Boot Record on your
   computer has been modified. Would you like to see more information?

</PRE>If you click Yes, the Performance tab in System Properties is displayed,
which provides more information and allows you to begin troubleshooting the
problem.
<P>
This situation is most likely to occur when you start an operating
system other than Windows 95 using a bootable floppy disk. If the floppy
disk is infected with a virus, the virus will most likely modify the MBR
on the hard disk and hook the INT13h chain. When you remove the floppy
disk and start your computer normally, Windows 95 recognizes that the
MBR has been modified and that the INT13h chain has been hooked by an
unknown program. The warning you receive gives you an opportunity to
remove the virus before it can damage your data.
<P>
When a virus modifies the MBR, the Performance tab in System properties
and the Ios.log file typically report that a file called Mbrint13.sys is
causing drives to be accessed in MS-DOS Compatibility mode. To access
the Performance tab, double-click the System icon in Control Panel, and
then click the Performance tab.
<P>
<P><h3>Identifying Unknown Device Drivers</h3>
 
<P>
Windows 95 maintains a list of all the real-mode device drivers that it
can safely replace with its own protected-mode drivers. If you add a new
device driver that hooks the INT13h or INT21h chain, and the driver is
not on the list of drivers that can safely be replaced, Windows 95 is
forced to access drives using MS-DOS Compatibility mode instead of
protected mode. When this occurs, the following message is displayed:
<P>
<PRE>   A new MS-DOS resident program named '&lt;filename&gt;' may decrease your
   system performance. Would you like to see more information about this
   problem?

</PRE>where &lt;filename&gt; is the name of the new device driver. If you click Yes,
the Performance tab in System Properties is displayed, which typically
identifies the driver that is causing the problem and shows you how to
remove the driver from your computer.
<P>
This feature allows Windows 95 to identify those viruses that propagate
from a device driver instead of modifying the MBR. By identifying device
drivers that it does not recognize, Windows 95 gives you an opportunity
to investigate the situation and remove any viruses before they can
damage your data.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbusage<BR>
KBSubcategory: win95<BR>
Additional reference words: 95<BR>
Keywords          : win95 kbfaq<BR>
Version           : 95<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  August 14, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
