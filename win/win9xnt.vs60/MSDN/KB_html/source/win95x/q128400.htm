

<HTML>
<HEAD>
<TITLE>Windows 95 Setup Switches </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q128400">
<META NAME="KBModify" CONTENT="1997/11/17">
<META NAME="KBCreate" CONTENT="1995/03/30">
<META NAME="Keywords" CONTENT="win95 kbsetup kbfaq kbfasttip">
<META NAME="KBArea" CONTENT="Support; KB; win95x, crossnet, winprint">
<META NAME="Description" CONTENT="  This article describes the switches you can use with the Windows 95 Setup program.  MORE INFORMATION  The following switches can be added to the Setup command. For example,     setup /?  /? -  This switch provides a brief summary of the available S...">
<META NAME="Product" CONTENT="Windows 95">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAHE,QAKR,QAA1,QDI2,QDIZ,QAPF,QBVV,QAH4,QABA,QA4P V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Windows 95 Setup Switches</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q128400</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows 95
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article describes the switches you can use with the Windows 95 Setup
program.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following switches can be added to the Setup command. For example,
<P>
<PRE>   setup /?

</PRE>/? -  This switch provides a brief summary of the available Setup switches
<PRE>      and the correct command line syntax.

</PRE>/c -  This switch causes Setup to not run SMARTDrive.
<P>
/d -  If you do not want Setup to use your existing Windows configuration
<PRE>      (such as your current Win.ini and System.ini files), use this
      switch.

</PRE>/id - If you do not want Setup to check for the minimum disk space
<PRE>      required to install Windows 95, use this switch.

</PRE>/it - If you do not want Setup to check for the presence of "dirty" or
<PRE>      "deadly" terminate-and-stay-resident programs (TSRs) that are known
      to cause problems with Windows 95 Setup, use this switch.

</PRE>/ih - This switch causes Setup to run ScanDisk in the foreground.
<P>
/iq - If you use the /is switch to bypass ScanDisk or ScanDisk fails,
<PRE>      Setup checks your drive for cross-linked files. Use the /iq switch
      to prevent Setup from doing this.

</PRE>/is - This switch causes Setup to not run ScanDisk.
<P>
/l -  Use this switch if you have a Logitech mouse and want it enabled
<PRE>      during Setup.

</PRE>You must run Setup from your previous version of MS-DOS or start Windows
95 in MS-DOS mode for these switches to function.
<P>
/n -  This switch causes Setup to run without a mouse.
<P>
/p - The /p switch causes Setup to pass string(s) directly to Detection
<PRE>     Manager (or Sysdetmg.dll). Setup does not interpret the content of
     the string. The string can contain one or more detection options.

     The /p switch is not to be used by itself. For more information on
     the /p switch, please see the "/p Detection Switch Option String
     Defined" section below.

</PRE>-s -  Use this switch to use an alternate Setup.inf file.
<P>
/t:&lt;dir&gt; - This switch lets you to specify where Setup will copy its
<PRE>           temporary files. WARNING: Any existing files in this
           directory will be deleted.

</PRE><h3>/p Detection Switch Option String Defined</h3>
 

<UL><LI>The string can contain one or more detection switches separated by a
   semicolon (;). For example, if you want to use "/p f" and "/p i" you
   type "setup /p f;i".

<LI>Some switches are simply On/Off switches. The absence of the switch
   implies Off; the presence of the switch turns it On. A minus sign (-)
   appended immediately after a switch turns it Off.

<LI>Some switches take parameters in the form of &lt;c&gt;=&lt;params&gt;. If there
   is more than one parameter to a switch, the parameters are separated
   by a comma (,).

<LI>There must not be any spaces in the detection option string.
<P>
</UL>Valid Detection Switches:
<P>
a - This switch enables safe detection. It tells each detection module
<PRE>    to try safer detection methods. Safer detection methods may not
    detect devices correctly.

    The default during Setup is enabled. The default in other cases is
    disabled.

    Example: setup /p a

</PRE>b - This switch enables Prompt Before mode. It prompts you before a
<PRE>    detection module is called so that you can step through each
    detection module manually and decide if you want to skip it.

    The default is disabled.

    Example: setup /p b

</PRE>c - This switch enables class detection. Class detection is a mechanism
<PRE>    for finding hints for a certain class of devices. For example, adapter
    class detection looks for hints in the Config.sys and System.ini files
    for CD-ROM drivers. If it does not find any, Setup displays a CD-ROM
    check box asking if you have a CD-ROM drive.

    The default during Setup is enabled. The default when you use the
    Add New Hardware tool and docking/undocking detection is disabled.

    Example: setup /p c

</PRE>c- - Setup /p c- disables safe class detection. For example, this switch
<PRE>     tells Setup to always search on all network adapter cards, sound
     cards, and CD-ROM drives.

     Example: setup /p c-

</PRE>d=&lt;name&gt; - This switch detects the listed detection modules only, where
<PRE>           &lt;name&gt; is a detection module name or a device class name.

           Detection module names (such as DetectPIC and DetectAHA154x)
           are found in the Msdet.inf file. Device class names can be
           SCSIAdapter, net, and so on.

           Example: setup /p d=detectpic

</PRE>e - This switch enables Setup mode detection.
<P>
<PRE>    The default during Setup is enabled. The default in other cases is
    disabled.

    Example: setup /p e

</PRE>f - This switch enables Clean Registry mode. It forces Detection to
<PRE>    clean the root branch of the registry before starting. This switch
    is ignored when Setup is run in the Windows 95 graphical user
    interface (GUI).

    The default is disabled.

    Example: setup /p f

</PRE>g=&lt;n&gt; - This switch specifies the verbose level, where &lt;n&gt; is 0 to 3.
<P>
<PRE>        This switch controls how verbose the built-in progress bar is. At
        maximum level (3), it shows all the resources of the detected
        devices along with the progress bar. This switch can help to
        identify which detection module causes a certain problem. For
        example, if your mouse stops responding (hangs) during detection
        but the system continues, there is no way to determine from the
        log files which module hung the mouse. By turning this option on
        and constantly moving the mouse during Setup, you can determine
        which module is running when the mouse hangs.

        The default is disabled (0).

        Example: setup /p g=3

</PRE>i - This switch tells Setup not to report the existence of a Plug and
<PRE>    Play BIOS. It is useful on systems that have a Plug and Play BIOS
    that is not reported in Machine.inf.

    Example: setup /p i

</PRE>j - This switch tells Setup to undo the results of the "Setup /p i"
<PRE>    switch. This switch should only be used after a machine that
    required "Setup /p i" has updated their Plug and Play BIOS.

    Example: setup /p j

</PRE>l=&lt;n&gt; - This switch specifies the logging level for Detlog.txt, where
<PRE>        &lt;n&gt; is 0 to 3.

        The default is maximum logging (3).

        Example: setup /p l=0

</PRE>m - This switch enables Mini-windows mode.
<P>
<PRE>    This is enabled only when Setup is run under MS-DOS.

    Example: setup /p m

</PRE>n - This switch enables No Recovery mode. This option can be used to
<PRE>    turn off the Windows 95 Setup recovery mechanism (for example, this
    switch prevents the creation of the Detcrash.log file).

    The default is disabled.

    Example: setup /p n

</PRE>o=&lt;traceoutput&gt; - This switch specifies the trace output. The information
<PRE>                  is written to the Tracelog.txt file in the current
                  directory.

                  This option is available only in the Debug version of
                  Sysdetmg.dll.

                  Example: setup /p o

</PRE>p - This switch enables performance logging. It writes performance
<PRE>    timing information to the DETLOG.TXT file.

    The default is disabled.

    Example: setup /p p

</PRE>r - This switch enables Recovery mode. It causes Detection to use the
<PRE>    Detcrash.log file, if found, for recovery. If this switch is not
    enabled, Detection ignores and deletes Detcrash.log even if it is
    found.

    This switch is used if Safe Recovery is selected during Setup,
    otherwise it is not used.

    Example: setup /p r

</PRE>s=&lt;name&gt; - This switch skips the listed detection modules or classes of
<PRE>           detection modules, where &lt;name&gt; is a detection module name or a
           device class name.

           Detection module names (such as DetectPIC and DetectAHA154x)
           are in the Msdet.inf file. Device class names are SCSIAdapter,
           net, and so on.

           Example: setup /p s=detectpic

</PRE>t=&lt;n&gt; - This switch specifies the trace level, where &lt;n&gt; is 0 to 9.
<P>
<PRE>        The default is disabled (0).

        This option is available only in the Debug version of Sysdetmg.dll.

        Example: setup /p t=9

</PRE>v - This switch enables Verify Only mode. Detection has two stages:
<P>
<PRE>    1. Verify existing devices in the registry.

    2. Detect new devices.

    This switch tells Detection to perform only stage 1. This switch is
    used by the PCMCIA Wizard to verify legacy devices in the registry.

    The default is disabled.

    Example: setup /p v

</PRE>x=&lt;res list&gt; - This switch excludes the listed resources from detection,
<PRE>               where &lt;res list&gt; is one of four possibilities:

                - io(xxx-yyy,xxx-yyy,...)

                - mem(xxxxx-yyyyy,xxxxx-yyyyy,...)

                - irq(x,y,z,...)

                - dma(x,y,z,...)

                This switch protects resources so that no detection
                modules can access them.

                Example: setup /p x=io(300-30f,240-24f)
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 95<BR>
Keywords          : win95 kbsetup kbfaq kbfasttip<BR>
Version           : 95<BR>
Platform          : WINDOWS<BR>
Issue type        : kbref<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 17, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
