

<HTML>
<HEAD>
<TITLE>PRB: Anonymous User in NT Admin Group Breaks Source Control </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q165831">
<META NAME="KBModify" CONTENT="1997/07/28">
<META NAME="KBCreate" CONTENT="1997/03/25">
<META NAME="Keywords" CONTENT="ssidev ssint vss kbprb">
<META NAME="KBArea" CONTENT="Support; KB; ssafe">
<META NAME="Description" CONTENT="  Files will appear to be checked out or modified by the system's anonymous user when they are actually checked out to valid SourceSafe accounts.  CAUSE =====  The machine's Anonymous User account is a member of the Admin user group.  Visual SourceSa...">
<META NAME="Product" CONTENT="Visual SourceSafe">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAGU,QABI,QAVZ,QBWP,QABO,QAEF,QAN0,QABH,QBWF,QDML,QBG2,QA56,QA55,QA5E,QAGR V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: Anonymous User in NT Admin Group Breaks Source Control</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 28, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q165831</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Visual SourceSafe for Windows, version 5.0
<LI>Microsoft Visual InterDev, version 1.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Files will appear to be checked out or modified by the system's anonymous
user when they are actually checked out to valid SourceSafe accounts.
<P>
<P><h2>CAUSE</h2>
 
<P>
The machine's Anonymous User account is a member of the Admin user group.
<P>
Visual SourceSafe will always attempt to perform actions as the anonymous
user before trying to use the actual logged-in user's name. Only when an
action exceeds the user rights allowed to the system's anonymous user will
it attempt to authenticate as the actual user. Because the anonymous user
is a member of the Admin group, it will always have the rights that are
required to succeed in checking out files.
<P>
Another possible cause is that the anonymous user has either Author and
Browse, or Author, Browse, and Administer web permissions.
<P>
This can also be caused by using a Windows NT Server that has been
formatted with FAT partitions as the Web server because, unlike drives
formatted with NTFS, FAT drives have no direct way of securing files based
on user id.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Remove the anonymous user from the system's Admin group, and make sure that
the anonymous account does not have permissions to author or administer the
web.
<P>
<P><h2>STATUS</h2>
 
<P>
This behavior is by design.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
There are no known cases where a default installation would cause this
situation. It was first discovered on a machine with manually modified
rights.
<P>
The anonymous user mentioned here is an account name introduced by
Microsoft Internet Information Server. It will have the format
IUSR_&lt;machinename&gt;, and can be found in the Internet Service Manager under
the properties for the World Wide Web Service.
<P>
<P><h3>Steps to Reproduce Behavior</h3>
 

<OL><P><LI>Using the Windows NT User Manager, add the system's anonymous user to
   the group of Admin users.

<P><LI>Check out a file while logged in as a valid user.

<P><LI>Look in Visual SourceSafe on the server and you will see the files
   checked out to the anonymous user rather than the valid user.
</OL> 
<PRE>Keywords          : ssidev ssint vss kbprb
Technology        : kbInetDev
Version           : 1.0 5.0
Platform          : WINDOWS
Issue type        : kbprb</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 28, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
