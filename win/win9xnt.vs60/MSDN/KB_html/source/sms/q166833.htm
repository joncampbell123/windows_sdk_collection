

<HTML>
<HEAD>
<TITLE>SMS: Failed Status MIF Does Not Update Job Status </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q166833">
<META NAME="KBModify" CONTENT="1997/05/27">
<META NAME="KBCreate" CONTENT="1997/04/11">
<META NAME="Keywords" CONTENT="kbbug1.20 kbnetwork smsdespooler smspcm">
<META NAME="KBArea" CONTENT="Support; KB; sms">
<META NAME="Description" CONTENT="  The Package Command Manager (PCM) status MIF contains an InstallStatus Group that has two attributes: Status and Description. If the Status attribute is set to  Failed , the status in the job detail does not reflect a job failure, but rather a  ret...">
<META NAME="Product" CONTENT="Systems Management Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAIJ,QAUJ,QDIV,QA4H,QBW7,QAI5,QATX,QABO,QAKD,QBWG,QAWI,QAH4,QARM,QBWS,QAP2 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SMS: Failed Status MIF Does Not Update Job Status</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 27, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q166833</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Systems Management Server, version 1.2
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The Package Command Manager (PCM) status MIF contains an InstallStatus
Group that has two attributes: Status and Description. If the Status
attribute is set to "Failed", the status in the job detail does not reflect
a job failure, but rather a "retrying" status.
<P>
<P><h2>CAUSE</h2>
 
<P>
If a program writes a .mif file to the Windows directory, Package Command
Manager collects the file and places it in the Despoolr.box directory
specified by the ResultsSharePoint entry in the client's Sms.ini file. The
date and time of the .mif file must be later than the date and time
specified for the job start time, or Package Command Manager will not
collect the file.
<P>
The Status attribute set in the status .mif file determines the status
reported back to the originating site. If a job has a status of Failed,
Systems Management Server should perform the following steps:

<OL><P><LI>Change the site job status to "Failed".

<P><LI>Write an event in the site server's Event Log. The Event ID is 374,
   and the Description is:
<P>
<P><PRE>      The workstation install job has failed on workstation &lt;machine name&gt;
      in Domain &lt;domain name&gt;, the description generated by the setup
      script is &lt;text entered in the Description attribute of the Status
      MIF&gt;.
</PRE><P>
<P><PRE>      MachineName = &lt;Machine Name&gt;
      SiteCode = &lt;Site Code&gt;
      Component = SMS_DESPOOLER
      JobID = &lt;Job ID&gt;
      JobDestination = &lt;Site Code&gt;"
</PRE><P>
</OL><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Systems Management Server
version 1.2. We are researching this problem and will post new information
here in the Microsoft Knowledge Base as it becomes available.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following is an example of a Status MIF:
<P>
<PRE>   START COMPONENT
     NAME = "WORKSTATION"
     START GROUP
       NAME = "ComponentID"
       ID = 1
       CLASS = "DMTF|ComponentID|1.0"
       START ATTRIBUTE
         NAME = "Jamalz"
         ID = 1
         ACCESS = READ-ONLY
         STORAGE = SPECIFIC
         TYPE = STRING(45)
         VALUE = "Manufacturer"
       END ATTRIBUTE
       START ATTRIBUTE
         NAME = "Product"
         ID = 2
         ACCESS = READ-ONLY
         STORAGE = SPECIFIC
         TYPE = STRING(45)
         VALUE = "JamalTest"
       END ATTRIBUTE
       START ATTRIBUTE
         NAME = "Version"
         ID = 3
         ACCESS = READ-ONLY
         STORAGE = SPECIFIC
         TYPE = STRING(45)
         VALUE = "3.15"
       END ATTRIBUTE
       START ATTRIBUTE
         NAME = "Serial Number"
         ID = 4
         ACCESS = READ-ONLY
         STORAGE = SPECIFIC
         TYPE = STRING(45)
         VALUE = "01122121r"
       END ATTRIBUTE
       START ATTRIBUTE
         NAME = "Installation"
         ID = 5
         ACCESS = READ-ONLY
         STORAGE = SPECIFIC
         TYPE = STRING(45)
         VALUE = "12/12/95"
       END ATTRIBUTE
     END GROUP
     START GROUP
      NAME = "InstallStatus"
       ID = 2
       CLASS = "MICROSOFT|JOBSTATUS|1.0"
       START ATTRIBUTE
         NAME = "Status"
         ID = 1
         ACCESS = READ-ONLY
         STORAGE = SPECIFIC
         TYPE = STRING(45)
         VALUE = "Success"
       END ATTRIBUTE
       START ATTRIBUTE
         NAME = "Description"
         ID = 2
         ACCESS = READ-ONLY
         STORAGE = SPECIFIC
         TYPE = STRING(45)
         VALUE = "ErrorJamalz"
       END ATTRIBUTE
     END GROUP
   END COMPONENT
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodsms pcm mif<BR>
Keywords            : kbbug1.20 kbnetwork smsdespooler smspcm<BR>
Version             : 1.2<BR>
Platform            : WINDOWS<BR>
Issue type          : kbbug<BR>
Resolution Type     : kbpending<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 27, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
