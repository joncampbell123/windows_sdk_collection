

<HTML>
<HEAD>
<TITLE>SMS: Event ID 132 Occurs After Applying SMS 1.2 Service Pack 2 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q169038">
<META NAME="KBModify" CONTENT="1998/03/16">
<META NAME="KBCreate" CONTENT="1997/05/23">
<META NAME="Keywords" CONTENT="smsinv">
<META NAME="KBArea" CONTENT="Support; KB; sms">
<META NAME="Description" CONTENT="  After you upgrade a Systems Management Server version 1.2 site server has been upgraded to Systems Management Server 1.2 Service Pack 2 (SP2), you may see a number of Event ID 132 errors in the Application Event Log. These errors are generated by I...">
<META NAME="Product" CONTENT="Systems Management Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAO4,QARL,QDO3,QAAP,QAB4,QBVV,QAPN,QAI5,QAC1,QAGR,QBVX,QA5V,QA4H,QAXB V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SMS: Event ID 132 Occurs After Applying SMS 1.2 Service Pack 2</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 16, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q169038</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Systems Management Server version 1.2 Service Pack 2
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
After you upgrade a Systems Management Server version 1.2 site server has
been upgraded to Systems Management Server 1.2 Service Pack 2 (SP2), you
may see a number of Event ID 132 errors in the Application Event Log. These
errors are generated by Inventory Processor because there is a mismatch in
the .raw file created by client computers running Windows NT. After
reporting the error, the Systems Management Server Inventory Processor
service rejects the client's inventory data. You will find the following
error in the Invproc.log file:
<P>
<PRE>   CMSDObject::ReadData - incorrect dataLength for NT CPU; expected 54
   got 44

</PRE>The event details are:
<P>
<PRE>   Event Id: 132   Source: SMS

   Length of data given in Inventory Agent output file does not match
   expected length: &lt;C:\SMS\site.srv\inventry.box\badraws\00000000.RAW&gt;
   MachineName = &lt;client machine name&gt;
   SiteCode = xxx
   Component = SMS_EXECUTIVE

</PRE><h2>MORE INFORMATION</h2>
 
<P>
This error occurs when Windows NT clients have not been upgraded to the
Systems Management Server 1.2 Service Pack 2 version of the Inventory Agent
executable file (either be Inv32cli.exe or Invwin32.exe).
<P>
<PRE>   Executable     Service Name
   ----------     ----------------------------------

   Inv32cli.exe   SMS Client Inventory
   Invwin32.exe   SMS_INVENTORY_AGENT_NT

</PRE>The inventory agent typically starts every 24 hours to determine whether
inventory needs to be taken. If the answer is yes, inventory is taken and a
.raw file is created. For computers running Windows NT Workstation, which
use Inv32cli.exe, the .raw file is stored on the local hard disk drive.
When the user logs on to the network, Systems Management Server moves any
.raw files to the logon server. If the client sends a .raw file generated
by a pre-SP2 version of Inv32cli.exe, the error described in the SYMPTOMS
section occurs.
<P>
For other client computers running Windows NT that use Invwin32.exe, the
.raw file is not stored on the local hard disk drive, but is created on the
Systems Management Server logon server. Again, if the .raw file is created
by a pre-SP2 version of Invwin32.exe, the error occurs.
<P>
Systems Management Server 1.2 SP2 adds extra information gathering for CPU
Type. Because of this, it was necessary to increase the size of the CPU
record string from 44 bytes to 54 bytes. The Inventory Processor checks the
integrity of all data before converting the .raw file to a .mif file. It
expects the record length to be 54 bytes and therefore discards the .raw
file when it is not.
<P>
After the Systems Management Server client has been updated, the problem
does not occur. The client automatically updates its client files when
Runsms.bat or Smsls.bat is run from an updated Systems Management Server
logon server.
<P>
NOTE: The MIPS versions of these files were not included in SP2:
<P>
Client files (in Site.srv\Maincfg.box\Client.src and Logon.srv\X86.bin)
 
<P>
Inv32cli.exe
Invwin32.exe
<P>
Server Files (in Site.srv\X86.bin)
 
<P>
Dbcnv12.exe
Dbcnv12a.exe
Invwin32.exe
Invproc.dll
<P>
These files have been added to the Systems Management Server hotfix tree
and may be obtained through Microsoft Technical Support.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodsms invwin32 inv32cli<BR>
Keywords          : smsinv<BR>
Version           : 1.2<BR>
Platform          : winnt<BR>
Issue type        : kbprb<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 16, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
