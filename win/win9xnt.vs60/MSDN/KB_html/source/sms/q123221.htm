

<HTML>
<HEAD>
<TITLE>DumpSend: Send Request File Formats </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q123221">
<META NAME="KBModify" CONTENT="1997/05/05">
<META NAME="KBCreate" CONTENT="1994/11/23">
<META NAME="Keywords" CONTENT="">
<META NAME="KBArea" CONTENT="Support; KB; sms">
<META NAME="Description" CONTENT=" This article describes how to use the DumpSend utility, explains the output generated, and shows the different record types and their meanings within the Systems Management Server system.  THE DUMPSEND UTILITY  The DumpSend utility is accessed with ...">
<META NAME="Product" CONTENT="Systems Management Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QA5V,QAGI,QAH6,QA2T,QDMH,QAP2,QA5E,QAH4,QAGB,QAGC,QAWH V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>DumpSend: Send Request File Formats</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 5, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q123221</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Systems Management Server versions 1.0 and 1.1
</UL> 
<P>
This article describes how to use the DumpSend utility, explains the output
generated, and shows the different record types and their meanings within
the Systems Management Server system.
<P>
<P><h2>THE DUMPSEND UTILITY</h2>
 
<P>
The DumpSend utility is accessed with the DUMPSEND command. It displays the
binary Systems Management Server send request file in text format for
review. It has the following syntax:
<P>
<PRE>   DUMPSEND [/P] [send request filename, *.SRS, *.SRQ]

</PRE>These files reside in the \SMS\SITE.SRV\SENDER.BOX\REQUEST\&lt;outbox&gt;
directories and can have either a "*.SRQ" (not processed yet) or "*.SRS"
(processed but not completed) extension.
<P>
A Sender monitors its associated outbox directory for the existence of a
send request file. When this file is seen by the Sender, it parses the
instructions and attempts to perform the operations requested. Some site to
site communication problems can be resolved by using DumpSend to determine
the contents of these files.
<P>
A send request file is a variable length file composed of a series of
records. This file contains, at a minimum, the INFO, STATUS, ADDRESS, and
INSTRUCTION records.
<P>
NOTE: Some record types are not parsed by DumpSend. The information in
these record types is usually not needed for trouble-shooting.
<P>
<P><h2>SEND REQUEST RECORD TYPES</h2>
 
<P>
Following is a list of the various Send Request record types and their
structures listed in the order that DumpSend displays them:
<P>
<P><h3>Send Request RECORD (INFO, Record type 3)</h3>
 
<P>
<PRE>Priority:      SMS Job priority; 1 high, 2 medium, 3 low
Dest Site:     SMS Site code; 3 character
Job name:      SMS Job ID; 8 characters
Job request:   Unique send request ID; 7 characters
Outbox:        UNC path to outbox directory

</PRE><h3>Sender/Scheduler RECORD (STATUS, Record type 15)</h3>
 
<P>
<PRE>Sender status:              Contains one of the following status flags:
                               SREQ_STATUS_NONE
                               SREQ_STATUS_STARTED
                               SREQ_STATUS_CONNECTING
                               SREQ_STATUS_SENDING
                               SREQ_STATUS_ERROR
                               SREQ_STATUS_INVALID
                               SREQ_STATUS_CANCELLED
                               SREQ_STATUS_SUSPENDED
                               SREQ_STATUS_OK
First sender started at:    Date/Time of first send attempt
Sender started at:          Date/Time of last send attempt
Sender ended at:            Date/Time of when last send attempt stopped
Sender gate heartbeat at:   Date/Time interval for next attempt
Scheduler to restart at:    Date/Time of next send attempt
Total bytes to send:        Total bytes to send, including package file
Bytes left to send:         Total bytes left to send
Sync point is:              Total confirmed bytes sent and acknowledged
File type is:               0 Sender only, 1 *.INS, 2 *.PKG
Number of connects:         Number of connection attempts
Sender ID:                  ID of sender working on send request

</PRE><h3>CANCEL RECORD (Record type 4)</h3>
 
<P>
<PRE>Cancel Status:   Indicates if Send Request has been canceled.

</PRE><h3>ACTION CODE RECORD (Record type 14)</h3>
 
<P>
<PRE>Code:   This code is set by the Sender after a send failure. The Scheduler
        service processes this code: 0 do nothing, 1 retry, 2 delete send
        request.

</PRE><h3>ADDRESS RECORD (Record type 5, multiple records allowed)</h3>
 
<P>
<PRE>Address:   Contains the destination \\&lt;SMS Server&gt;\SMS_SITE share and the
           encrypted account password to access this share.

</PRE><h3>PACKAGE FILE RECORD (Record type 7)</h3>
 
<P>
<PRE>File:   The universal naming convention (UNC) name of the package file to
        send. The package file contains a compressed copy of the original
        package which is to be sent to the despooler at the destination
        site.

</PRE><h3>INSTRUCTION FILE RECORD (Record type 8)</h3>
 
<P>
<PRE>File:   The UNC name of the instruction file to send. The instruction file
        contains the despooler instructions for the package.

</PRE>Other types of Sender records exist that DumpSend does not parse out at
this time. Some of these are listed below:
<P>
<P><h3>TRANSMISSION STATUS (Record type 1)</h3>
 
<P>
Transmission status, errors etc., between sites.
<P>
<P><h3>TRANSMISSION INFORMATION (Record type 2)</h3>
 
<P>
Transmission statistics.
<P>
<P><h3>CANCEL (Record type 4)</h3>
 
<P>
Cancel mode.
<P>
<P><h3>BOOTSTRAP (Record type 13)</h3>
 
<P>
Contains information necessary to start the bootstrap process for
installing a secondary Systems Management Server Site.
<P>
<P><h3>SENDACTION (Record type 17)</h3>
 
<P>
This record contains information that is specific to the individual types
of Senders.
<P>
<P><h3>ROUTING (Record type 18)</h3>
 
<P>
This record contains routing information but is not implemented for Systems
Management Server version 1.0.
<P>
<P><h2>SAMPLE DUMPSEND OUTPUT</h2>
 
<P>
Below is a sample command line and the subsequent output:
<P>
<PRE>   d:\sms\site.srv\sender.box\requests\lan_defa.000&gt;dumpsend 1_2zybpc.srs

   SMS DumpSend v1.0 - Dump Sender files
   Copyright 1994 by Microsoft Corp., All rights reserved


   SEND REQUEST DATA RECORD
      Length:       300
      Priority:     2
      Dest Site:    CSL
      Job:          BPC00434
      Job request:  _2ZYBPC
      Outbox:       \\CNS-SMS\SMS_SHRD\site.srv\sender.box\requests
                    \LAN_DEFA.000

   Sender/scheduler RECORD
      Length:       80
   ==============================================

      Sender status:              SREQ_STATUS_OK
      First sender started at:    (not set)
      Sender started at:          Mon, Nov 21 1994 12:45
      Sender ended at:            Mon, Nov 21 1994 12:45
      Sender gate heartbeat at:   Mon, Nov 21 1994 12:45
      Scheduler to restart at:    Mon, Nov 21 1994 12:45
      Total bytes to send:        1596
      Bytes left to send:         0
      Sync Point is:              504
      File type is:               0 (No file)
      Number of connects:         0
      Sender ID:
   ============= End of Dump ==============

   CANCEL RECORD
      Length:   4
      Mode:     Not cancelled

   ACTION CODE RECORD
      Length:   4
      Code:     0

   ADDRESS RECORD
      Length:    181
      Address:   {}{\\VERMONT\SMS_SITE
                 2DDEAF90293488DDD7427DB90B5AEB891C48F9
                 0CF52F68C273D919D3A338EC39B641AF2D2AFADD
                 9C493B13ABA1DED992959DDEA4A9ADAAFF67B25
                 E1DB3B75A584CD80F1F198907AE5D3544D39C9C}

   PACKAGE FILE RECORD
      Length:   59
      File:     \\CNS-SMS\SMS_SHRD\site.srv\sender.box
                \tosend\BPC00434.P00

   INSTRUCTION FILE RECORD
      Length:   59
      File:     \\CNS-SMS\SMS_SHRD\site.srv\sender.box\tosend\BPC00434.I00

   UNKNOWN RECORD TYPE 18
      Length:   544

   UNKNOWN RECORD TYPE 17
      Length:   61
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: sms prodsms<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 5, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
