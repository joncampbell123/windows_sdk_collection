

<HTML>
<HEAD>
<TITLE>Troubleshooting Dr. Watson Errors in SMSEXEC </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q152468">
<META NAME="KBModify" CONTENT="1997/04/15">
<META NAME="KBCreate" CONTENT="1996/06/14">
<META NAME="Keywords" CONTENT="kbnetwork smsdatabase">
<META NAME="KBArea" CONTENT="Support; KB; sms">
<META NAME="Description" CONTENT="  SMSEXEC can fail with a Dr. Watson error when either the Inventory Processor, Inventory Dataloader, or Despooler attempts to process corrupt files.  Associated with the Dr. Watson problem are memory read and write errors.  MORE INFORMATION  There a...">
<META NAME="Product" CONTENT="Systems Management Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QANJ,QAEF,QACI,QA9N,QBXB,QATJ,QAIJ,QBXH,QAFI,QAJP,QADK,QBF0,QASR,QARL,QASC V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Troubleshooting Dr. Watson Errors in SMSEXEC</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 15, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q152468</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Systems Management Server versions 1.0 and 1.1
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
SMSEXEC can fail with a Dr. Watson error when either the Inventory
Processor, Inventory Dataloader, or Despooler attempts to process corrupt
files.
<P>
Associated with the Dr. Watson problem are memory read and write errors.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
There are three known reasons for the SMSEXEC process to Dr. Watson. These
are a corrupt RAW file, a corrupt MIF file, or a corrupt NIL file.
<P>
<P><h3>RAW Files</h3>
 
<P>
Located in \sms\logon.srv\inventry.box or \sms\site.srv\inventry.box.
The Inventory Agent program reports the inventory for the client by
creating a RAW Inventory Agent file (*.raw) and placing this file in the
Inventry.box directory of the SMS_SHR share on the client's logon server.
<P>
<P><h3>MIF Files</h3>
 
<P>
Located in \sms\site.srv\dataload.box\deltamif.col. A management
information file (MIF) is an ASCII text file that contains information
about a computer component. A MIF is a description of the component that is
available to other applications through a standard management interface.
<P>
<P><h3>NIL Files</h3>
 
<P>
Located in \sms\site.srv\despool.box\receive. There are four possible
extensions for an instruction file: *.ins, *.sni, *.ist, and *.nil.
<P>
A *.ins or *.sni instruction becomes *.ist or *.nil when the SMS Despooler
starts processing the instruction. A *.ist file is for instructions that
have an accompanying package file; *.nil is for stand-alone instructions.
<P>
Steps to determine what is causing the problem:

<OL><P><LI>Verify the existence of a DS_00000.NIL file in
   \sms\site.srv\despool.box\receive.
   If this file exists, remove it. Check the despool log file and verify
   which package ID it was failing on. Then restart SMSEXEC. You may want
   to remove the problem package and try resubmitting.

<P><LI>Create a temporary directory off the root.  Move the MIFs from
   \sms\site.srv\dataload.box\deltamif.col to the temporary directory.
   Start SMSEXEC and determine whether the crash still occurs. If it
   doesn't, begin moving the MIFs back to the deltamif.col directory,
   moving the newest RAWs first. based upon file-creation date. Move them
   in groups of approximately 10 to 20 MIFs.
<P>
</OL>Once the system fails, take the first MIF and move it back to the temporary
directory. Restart SMSEXEC. Repeat this process until all the BAD MIFs have
been isolated, then edit the MIFs to determine which clients are causing
the crash. You will then need to troubleshoot the clients to determine why
they are creating bad MIFs (bad hardware, bad UINFO/Custom MIF, and so on).

<OL><P><LI>Create a temporary directory off the root. Move the RAWs from
   \sms\logon.srv\inventry.box and \sms\site.srv\inventry.box
   to the temporary directory.  Note that we are only concerned about RAW
   files that have made it to the server that is crashing; we are not
   concerned about logon servers with backed-up RAWs.
<P>
</OL>Start SMSEXEC and determine whether the crash still occurs. If it doesn't,
begin moving the RAWs back to their originating directory, moving the
newest first, based upon file-creation date. Move them in groups of
approximately 10 to 20 MIFs.
<P>
Once the system fails, take the first RAW and move it back to the temporary
directory. Restart SMSEXEC. Repeat this process until all BAD RAWs have
been isolated. Then edit the RAWs to determine which clients are causing
the crash. You will then need to troubleshoot the clients to determine why
they are creating bad RAWs (bad hardware, bad UINFO/Custom MIF, and so on).
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodsms sms NIL SMSEXEC.EXE<BR>
Keywords            : kbnetwork smsdatabase<BR>
Version             : 1.0 1.1<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 15, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
