

<HTML>
<HEAD>
<TITLE>BUG: DELETE Statement May Cause Server to Become Unresponsive </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q176999">
<META NAME="KBModify" CONTENT="1997/11/20">
<META NAME="KBCreate" CONTENT="1997/11/19">
<META NAME="Keywords" CONTENT="kbbug6.50 SSrvGen kbusage">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="BUG #: 17490   Executing a DELETE statement against a table that has an index defined using a FILLFACTOR of 100 percent may cause the connection or the entire server to stop responding.  If SQL Server has more than one processor available, the connec...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABM,QAGB,QA28,QATJ,QBPM,QAKP,QAEF,QBG2,QBCT,QAPN,QAI5,QAGC,QDKW,QANY,QAWP V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>BUG: DELETE Statement May Cause Server to Become Unresponsive</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 20, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q176999</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SQL Server version 6.5
</UL> 
BUG #: 17490
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Executing a DELETE statement against a table that has an index defined
using a FILLFACTOR of 100 percent may cause the connection or the entire
server to stop responding.
<P>
If SQL Server has more than one processor available, the connection will
stop responding, but work can continue on other connections. A KILL command
will not terminate the SPID. The only way to clear the problem is to cycle
SQL Server.
<P>
If SQL Server has only one processor to work with, the entire server will
stop responding. To regain control of SQL Server, you need to cycle Windows
NT.
<P>
<P><h2>CAUSE</h2>
 
<P>
The connection is caught in an infinite loop.
<P>
<P><h2>WORKAROUND</h2>
 
<P>
To work around this problem, allow some free space on your index pages by
specifying a FILLFACTOR of less than 100 percent (such as using
FILLFACTOR=80). In addition to avoiding exposure to the above problem,
doing this allows SQL Server to process your DELETE statement more
efficiently.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SQL Server version 6.5. We
are researching this problem and will post new information here in the
Microsoft Knowledge Base as it becomes available.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The type of index involved makes no difference to this problem. That is, it
can happen with clustered, non-clustered, unique, and non-unique indexes.
<P>
So far, this problem has only been observed using SQL Server built with the
binary sort order (the code page makes no difference). The same tests on
SQL Server built with a dictionary sort order did not result in exposure to
this problem.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: create hang hung freeze frozen lock locked up<BR>
Keywords          : kbbug6.50 SSrvGen kbusage<BR>
Version           : WINNT:6.5<BR>
Platform          : winnt<BR>
Issue type        : kbbug<BR>
Solution Type     : kbworkaround<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 20, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
