

<HTML>
<HEAD>
<TITLE>BUG: Adding Several Defaults to Model Can Cause 602 Errors </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q114846">
<META NAME="KBModify" CONTENT="1997/04/29">
<META NAME="KBCreate" CONTENT="1994/05/15">
<META NAME="Keywords" CONTENT="kbbug4.20 kbother kbprg SSrvServer SSrvWinNT kbother kbprg">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="BUG# OS/2: 1852 (4.2)        NT:  777 (4.2)   Creating several defaults in the model database can cause SQL Server to generate a 602 error when executing some stored procedures.  If more than seven defaults are created in the model database and SQL S...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABM,QBVV,QAKP,QAB9,QBWP,QAPF,QAB4,QAAP,QABA,QBJQ,QAIJ,QDIX V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>BUG: Adding Several Defaults to Model Can Cause 602 Errors</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 29, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q114846</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:
<P>
<PRE>  - Microsoft SQL Server version 4.2a for OS/2
  - Microsoft SQL Server version 4.2
</PRE> 
BUG# OS/2: 1852 (4.2)
<PRE>       NT:  777 (4.2)

</PRE><h2>SYMPTOMS</h2>
 
<P>
Creating several defaults in the model database can cause SQL Server to
generate a 602 error when executing some stored procedures.
<P>
If more than seven defaults are created in the model database and SQL
Server is then stopped and restarted, executions of existing stored
procedures can start generating error 602:
<P>
<PRE>   Msg 602, Level 21, State 3
   Could not find row in sysindexes for dbid '2', object
   '96003373', index '-1'.
   Run DBCC CHECKTABLE on Sysindexes.
   The SQL Server is terminating this process.

</PRE>This does not happen on all stored procedures. In the bug replication, the
only stored procedure that was always affected is a system stored procedure
which is no longer used for SQL Server for Windows NT, sp_lookup. It has
been reported that the 602 was observed on other stored procedures, but
this could not be replicated.
<P>
<P><h2>WORKAROUND</h2>
 
<P>
Drop and recreate any affected stored procedures. If the problem occurs on
system stored procedures, they can be restored using the scripts
INSTMSTR.SQL, INSTCAT.SQL, ADMIN2.SQL, or OBJECT2.SQL in c:\Sql\Install.
<P>
NOTE: OBJECT2.SQL is not relevant to SQL Server 4.2a for OS/2.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Microsoft SQL Server
version 4.2 and SQL Server version 4.2a for OS/2. This problem does not
occur in version 6.0.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: Windows NT<BR>
Keywords            : kbbug4.20 kbother kbprg SSrvServer SSrvWinNT kbother kbprg<BR>
Version             : 4.2a | 4.2<BR>
Platform            : OS/2 WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 29, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
