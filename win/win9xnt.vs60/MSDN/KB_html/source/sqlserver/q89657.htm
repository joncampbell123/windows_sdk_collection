

<HTML>
<HEAD>
<TITLE>INF: Differences Between BCP Format Files Versions 1.x and 4.2 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q89657 ">
<META NAME="KBModify" CONTENT="1997/04/03">
<META NAME="KBCreate" CONTENT="1992/09/28">
<META NAME="Keywords" CONTENT="kbtool SSrvBCP">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="  As stated in Chapter 10  Transferring Data to and from SQL Server  of the Microsoft SQL Server version 4.2  System Administrator's Guide,  format files for Bulk Copy Program (BCP) are not compatible between versions 1.x and 4.2. This article discus...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABM,QDNG,QBE7,QBE6,QARP,QAE1,QAYZ,QAYV,QDMN,QAC1,QA5V,QAUD,QA2O,QAUJ,QAM1 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INF: Differences Between BCP Format Files Versions 1.x and 4.2</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 3, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q89657 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:
<P>
<PRE>  - Microsoft SQL Server versions 1.x and 4.2 for OS/2
  - Microsoft SQL Server version 4.2
</PRE> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
As stated in Chapter 10 "Transferring Data to and from SQL Server" of the
Microsoft SQL Server version 4.2 "System Administrator's Guide," format
files for Bulk Copy Program (BCP) are not compatible between versions 1.x
and 4.2. This article discusses how the structure of the format file has
changed in version 4.2, thus enabling you to make the appropriate changes
to existing 1.x format files if needed.
<P>
(NOTE: The above reference is on page 91 of the SQL Server for OS/2 4.20
and on page 210 of the SQL Server for Windows NT "System Administrator's
Guide.")
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
There are two distinct changes made to the structure of the format
file in version 4.2, which are as follows:

<UL><LI>The version number changed from 4.0 to 4.2. The first row in all
   format files represents the version of BCP that the format file was
   created for. Under SQL Server 1.x, BCP was based on Sybase 4.0 BCP,
   thus the format file would have 4.0 as a version number. Running
   BCP that ships with SQL Server 4.2 is now based on code written for
   SQL Server 4.2, which means the format file needs to have 4.2 as
   the version.

<LI>The column delimiter changed from tabs to fixed length. Starting on
   line 3 in the format file, there is a row for each field in the
   data file. Each row in the format file has seven columns of
   information about the data file fields. In version 1.x, these
   columns are separated by a tab, and BCP parses the format file
   based on these tabs. In version 4.2, the columns are now fixed-
   length, and BCP now parses the format file based on these fixed
   lengths.
<P>
   A format file in version 1.x (&lt;tab&gt; represents a tab character):
<P>
<P><PRE>      4.0
      2
      1&lt;tab&gt;SYBCHAR&lt;tab&gt;0&lt;tab&gt;14&lt;tab&gt;","&lt;tab&gt;1&lt;tab&gt;name
      2&lt;tab&gt;SYBINT&lt;tab&gt;0&lt;tab&gt;4&lt;tab&gt;"\r\n"&lt;tab&gt;age
</PRE><P>
   In version 4.2 ("." represents spaces):
<P>
<P><PRE>      4.2
      2
      1.......SYBCHAR.......0.......30......",".......1........name
      2.......SYBINT........0.......4......."\r\n"....2........id
</PRE><P>
   The length of each column of information in the format file for BCP
   version 4.2 is:
<P>
<P><PRE>      Host file column order:  8
<PRE></PRE>      Host file datatype:      14
      Host file data length:   8
      Prefix length:           8
      Terminator:              10
      Server column number:    8
      Server column name:      \r\n

   (NOTE: The column name is terminated with a carriage return line
   feed.)
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 4.20 1.10 Format FMT Windows NT<BR>
Keywords            : kbtool SSrvBCP<BR>
Version             : 1.x 4.2<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 3, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
