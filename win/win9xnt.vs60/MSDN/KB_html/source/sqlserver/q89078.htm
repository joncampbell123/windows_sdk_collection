

<HTML>
<HEAD>
<TITLE>INF: Using GUEST Account on LAN Manager to Access SQL Server </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q89078 ">
<META NAME="KBModify" CONTENT="1997/04/28">
<META NAME="KBCreate" CONTENT="1992/09/08">
<META NAME="Keywords" CONTENT="kbsetup SSrvInst">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="  When Microsoft SQL Server for OS/2 is running on a Microsoft LAN Manager server with user-level security, a user can access SQL Server even if the user is not validated by the server or the domain controller. This is done through the GUEST account ...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABM,QBG2,QABI,QAUJ,QBWG,QAI5,QAGU,QAK7,QABO,QBVV,QAVZ,QBW7,QBWE,QAH5,QA1S V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INF: Using GUEST Account on LAN Manager to Access SQL Server</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 28, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q89078 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:
<P>
<PRE>  - Microsoft SQL Server version 4.2 for OS/2
</PRE> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
When Microsoft SQL Server for OS/2 is running on a Microsoft LAN Manager
server with user-level security, a user can access SQL Server even if the
user is not validated by the server or the domain controller. This is
done through the GUEST account in LAN Manager, but the permissions on
named pipes have to be appropriately granted to the GUEST account.
Sometimes, it looks like the permissions are granted properly but
the user still can't access SQL Server. This article explains how to
grant named pipe permissions to the GUEST account.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
For a nonvalidated user to access SQL Server through the GUEST account
in LAN Manager, the GUEST account must be granted the permission to
use named pipes. However, simply granting the permission to an account
named GUEST or the group *GUESTS does not guarantee that the
permissions are granted properly. If it seems that the GUEST account
is properly granted the named pipes permission, but a guest still
can't access SQL Server, do the following to check the permission:

<OL><P><LI>Make sure that the named pipes permissions are granted on the
   server where SQL Server resides, not the domain controller (if the
   SQL server is on a member server or backup server).

<P><LI>In the [server] section of the LANMAN.INI file, note the name in
   the guestacct= entry. (The default is GUEST.)

<P><LI>Using NET ADMIN, make sure there is a user account named GUEST (or
   the name that is specified in the guestacct= entry) in the user
   account database. Also make sure that this account is a member of
   the group called *GUESTS.

<P><LI>Make sure that either the account GUEST or the group *GUESTS is
   granted the named pipes permission. It is not necessary to grant
   this permission to both.
<P>
</OL>In summary, to grant the named pipes permission to guest accounts, the
permission must be granted to the guest account (named GUEST by
default) that has been assigned a guest status (which makes it a
member of the *GUESTS group automatically) and whose name matches the
name in the guestacct= entry.
<P>
A common mistake is that the permission is granted to the group
*GUESTS, but none of the members in the group matches the name in the
guestacct= entry. To grant permissions to both GUEST and *GUESTS does
not guarantee that the permissions are granted properly, because there
may be a case where the guestacct= entry is not GUEST, or
guestacct=GUEST but GUEST is assigned an account status other than
GUEST.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: Setup<BR>
Keywords            : kbsetup SSrvInst<BR>
Version             : 4.2<BR>
Platform            : OS/2<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 28, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
