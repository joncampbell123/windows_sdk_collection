

<HTML>
<HEAD>
<TITLE>INF: How to Troubleshoot Communication Error 17824 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q165158">
<META NAME="KBModify" CONTENT="1997/04/07">
<META NAME="KBCreate" CONTENT="1997/03/13">
<META NAME="Keywords" CONTENT="kbtshoot kbusage SSrvGen">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="  In some circumstances, the following communication errors are logged in the SQL server error log:   - Error : 17824, Severity: 10, State: 0    Unable to write to ListenOn connection '            ', loginname '          ID&gt;', hostname '          '. ...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAAP,QAB4,QABI,QAKP,QABM,QBG2,QAI5,QABA,QBWP,QARL,QABH,QAVZ,QBWO,QAGU,QAX6 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INF: How to Troubleshoot Communication Error 17824</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 7, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q165158</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SQL Server, versions 4.21a, 6.0, and 6.5
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
In some circumstances, the following communication errors are logged in the
SQL server error log:

<UL><LI>Error : 17824, Severity: 10, State: 0
   Unable to write to ListenOn connection '&lt;servername&gt;', loginname '&lt;login
   ID&gt;', hostname '&lt;hostname&gt;'.
   OS Error : 64, The specified network name is no longer available.
<P>
   Error 1608 A network error was encountered while sending results to the
   front end
<P>
</UL>Other relevant errors may follow, depending on the network library used for
the connection. In case of Named Pipes connections, errors "232 The pipe is
being closed" or "109 The pipe has been ended" may be logged. In case of
sockets based connections (TCP/IP or IPX/SPX), errors "10054 Connection
reset by peer" or "10053 Software caused connection abort" may be logged.
<P>
These errors indicate that the connection between the client and SQL Server
was broken for some reason while SQL Server was writing data to the front
end. Depending on the circumstances, a certain number of these errors may
be normal, and eliminating them is not always necessary. If you do not
receive any end user complaints or experience general connection problems,
you can ignore these errors.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Error 17824 "Unable to write to ListenOn connection" indicates that
problems have occurred while SQL Server attempted to write to a client
connection and failed. These communication problems may be caused by
network problems, or if the client computer has stopped responding or been
restarted. For more information regarding other communication errors,
please refer to the following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../sqlserver/q109787.htm">Q109787</A></B>
   Title     : INF: SQL Communication Errors 17832, 17824, 1608, 232,
               and 109

</PRE>Error 17824 does not always indicate a network problem. The following are
the most common situations under which the error 17824 is generated, along
with the corresponding troubleshooting procedures.

<UL><LI>This error may occur if the users are restarting their client computers
   if the application seems have stopped responding, so make sure they
   don't do that. It may be that the server is taking a longer time to
   process a long query. Once the client workstation is restarted, the
   connections are broken ungracefully. Later SQL Server tries to respond
   to the connection that has been dropped, and logs the message 17824.

<LI>The network may be unstable; make sure it is stable. You can check this
   by attempting to copy large files between the computer running Windows
   NT Server and the client computer. If this test fails, then you are
   running into problems with the physical network. Because the above
   errors indicate a potential network issue, it is recommended that you
   update the server, both Windows NT Server and SQL Server, to the latest
   service packs. Please check the knowledge base articles for more
   information on how to obtain the latest service packs for the Windows NT
   Server operating system and SQL Server. It is also recommended that you
   update the client components such as DB-Library, the ODBC driver, and
   network library to the latest DLLs. In case of client computers running
   16-bit Windows 3.1 or Windows for Workgroups on a Novell network, it is
   necessary to obtain and install the latest MS-DOS and Windows drivers
   from Novell.

<LI>Error 17824 "Unable to write to ListenOn connection" may be a
   consequence of other errors that caused the connection to drop. Check
   the error logs for other errors within the same time frame as the 17824
   error. If you find other errors, refer to SQL Server Books Online and
   the Microsoft Knowledge Base for more information on these errors.

<LI>Use sp_configure or the SQL Server Enterprise Manager to check the
   Priority Boost and the SMP Concurrency configuration settings. Make sure
   that these two configuration options are set to the default settings,
   because deviating from the default settings may cause error 17824 under
   some conditions.
<P>
   For more information on why these settings may generate error 17824,
   please refer to the following article in the Microsoft Knowledge Base:
<P>
   ARTICLE-ID: <B><A href="../sqlserver/q111405.htm">Q111405</A></B>
<PRE>   Title     : INF: SQL Server and Windows NT Thread Scheduling.

</PRE><LI>The error 17824 may be generated due to application problems. One major
   cause is running into a lock or block situation. In this case, a process
   holds a lock on a page or a table, and that lock is not released right
   away, due to an uncommitted transaction or a long query. This may cause
   all other processes requesting the same table to be blocked, and the
   client application to seem to stop responding. If the user then either
   uses 'End Task' to close the application or restarts the workstation,
   you may receive error 17824 on the server.
<P>
   To find out if the application is causing a lock or block problem on the
   server, use the sp_who and sp_lock stored procedures when the client
   computers seem to stop responding or when the error 17824 starts to
   appear in the SQL Server error logs. If the client workstation has
   stopped responding, open a command-line ISQL connection on the server
   itself using the local pipe, and use these stored procedures to check
   for a blocking situation.
<P>
</UL>For more information on detecting and resolving blocking problems, please
refer to the following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../sqlserver/q162361.htm">Q162361</A></B>
   Title     : INF: Understanding and Resolving SQL Server Blocking
               Problems

</PRE>If you have checked all of the above points and the problem still persists,
contact SQL Server support for further troubleshooting assistance.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: Internet IIS WAN symmetric multiprocessor SEM<BR>
Advanced options<BR>
Keywords            : kbtshoot kbusage SSrvGen<BR>
Version             : 6.5 6.0 4.21a<BR>
Platform            : WINDOWS<BR>
Issue type          : kbhowto<BR>
Resolution Type     : Info_Provided<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 7, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
