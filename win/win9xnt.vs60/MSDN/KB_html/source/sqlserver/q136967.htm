

<HTML>
<HEAD>
<TITLE>INF: Effective Use of Trace Flag 204 for ANSI Non-standard Ext </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q136967">
<META NAME="KBModify" CONTENT="1997/05/01">
<META NAME="KBCreate" CONTENT="1995/09/19">
<META NAME="Keywords" CONTENT="kbusage SSrvProg SSrvTran_SQL">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="  Microsoft SQL Server version 6.0 provides a trace flag 204 for portability of version 4.2x SQL scripts. This trace flag is intended to aid customers in the short term as they modify transact-SQL code to be more ANSI compliant.  MORE INFORMATION  SQ...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABM,QAHE,QDNQ,QAS1,QBVV,QAUD,QBE7,QBE6,QAL3,QA2Q,QDIV,QABO,QBWS,QAG2,QAE1 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INF: Effective Use of Trace Flag 204 for ANSI Non-standard Ext</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 1, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q136967</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft SQL Server, version 6.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Microsoft SQL Server version 6.0 provides a trace flag 204 for portability
of version 4.2x SQL scripts. This trace flag is intended to aid customers
in the short term as they modify transact-SQL code to be more ANSI
compliant.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
SQL Server version 4.2x facilitates the following as non-ANSI extensions:

<OL><P><LI>Additional column references in the SELECT list other than the ones
   in the GROUP BY clause are permitted.
<P>
   For example:
<P>
<P><PRE>      use pubs
      go
      select pub_id, pub_name, count(pub_id)
      from publishers
      group by pub_name
      go
</PRE><P>
   The above non-ANSI query is not permitted in version 6.0 because
   the SELECT list has certain entries that are non-aggregates and are not
   present in the GROUP BY list. Trace flag 204 will allow the above query
   to run as it did in SQL Server 4.2x.

<P><LI>Trailing blanks are not significant and will not affect queries that
   include LIKE in the WHERE clause.
<P>
   For example:
<P>
<P><PRE>      use pubs
      go
      drop table table1
      go
      create table table1( col1 text )
      go
<PRE></PRE>      insert into table1 values ("John   ")
      go
      insert into table1 values ("John")
      go
      select * from table1 where col1 like 'John %'
      /* Note the blank space in the literal above*/
      go

</PRE></OL>NOTES:

<OL><P><LI>The above script executed on SQL 4.2x will return both rows.

<P><LI>The above script executed on SQL 6.0 with the trace flag switched
   off will return only the first row.

<P><LI>The above script executed on SQL 6.0 with the trace flag switched
   on will (as in SQL 4.2x) return both rows.

<P><LI>This will affect only the text data type and not character and
   variable character datatypes. For example, the behavior of LIKE in a
   where clause with char or varchar is not affected by this trace flag.

<P><LI>Turn on trace flag 204 (during server startup, use the -T204 option), or
   individual users can enable this functionality by using DBCC TRACEON
   (204) to allow NON-ANSI behavior at the connection level.
<P></OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: sql6<BR>
Keywords            : kbusage SSrvProg SSrvTran_SQL<BR>
Version             : 6.0<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 1, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
