

<HTML>
<HEAD>
<TITLE>INF: Using DBCC FIX_AL </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q132448">
<META NAME="KBModify" CONTENT="1997/04/30">
<META NAME="KBCreate" CONTENT="1995/07/11">
<META NAME="Keywords" CONTENT="kbother SSrvWinNT">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="  The DBCC FIX_AL command is documented in the SQL Server  Troubleshooting Guide  on page 57. This article provides more information about running this command.  MORE INFORMATION  The DBCC FIX_AL command (short for  fix allocation ) can be used to fi...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABM,QAS1,QBWS,QBV8,QAB9,QAR4,QAZV,QAM1,QAB4,QAAP,QAY2,QAVI,QBWA,QAYY,QAHT V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INF: Using DBCC FIX_AL</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 30, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q132448</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SQL Server, version 4.2
<LI>Microsoft SQL Server version 4.2 for OS/2
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The DBCC FIX_AL command is documented in the SQL Server "Troubleshooting
Guide" on page 57. This article provides more information about running
this command.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The DBCC FIX_AL command (short for "fix allocation") can be used to fix
2540 and 2521 errors detected by DBCC CHECKALLOC or DBCC NEWALLOC. Run
DBCC CHECKDB and check to ensure that no other errors exist before running
the FIX_AL command. The database must be in single user mode before running
the FIX_AL command, and you should run this command from a database other
than the one being fixed.
<P>
The DBCC FIX_AL command makes the allocation bitmaps match the actual data
or index page chains. If there are any errors in the page chains, you
should not run the FIX_AL command because it will try to rebuild the
allocation bitmaps according to the information from the damaged chains.
<P>
The FIX_AL command will run the equivalent of a DBCC NEWALLOC to gather the
necessary information to rebuild the bitmaps, and to try to ensure that no
other errors will prevent it from running. After this, it will rebuild the
bitmaps for all pages in the database.
<P>
The following is a script that could be used to run FIX_AL against the
"pubs" database:
<P>
<PRE>   use master
   go
   sp_dboption pubs, single, true
   go
   use pubs
   go
   checkpoint
   go
   use master
   go
   dbcc fix_al(pubs)
   go
   sp_dboption pubs, single, false
   go
   use pubs
   go
   checkpoint
   go
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: Windows NT<BR>
Keywords            : kbother SSrvWinNT<BR>
Version             : 4.2 | 4.2 4.21<BR>
Platform            : OS/2 WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 30, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
