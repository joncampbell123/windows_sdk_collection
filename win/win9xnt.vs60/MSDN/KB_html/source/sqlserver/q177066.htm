

<HTML>
<HEAD>
<TITLE>BUG: Security Manager Fails to Expand User Group </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q177066">
<META NAME="KBModify" CONTENT="1997/11/20">
<META NAME="KBCreate" CONTENT="1997/11/20">
<META NAME="Keywords" CONTENT="kbbug6.50 SSrvAdmin kbusage">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="BUG #: 17522 (6.5)   Within Security Manager, you can view information about the individual members of a group with user privileges by double-clicking the group name. However, if the Everyone group is given permissions on the HKEY_LOCAL_MACHINE\softw...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAGU,QABO,QBWG,QABM,QBWP,QAK7,QAUJ,QAKP,QAAD,QDKW,QBWF,QAP2,QAOE,QAMA,QAL3 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>BUG: Security Manager Fails to Expand User Group</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 20, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q177066</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SQL Server version 6.5
</UL> 
BUG #: 17522 (6.5)
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Within Security Manager, you can view information about the individual
members of a group with user privileges by double-clicking the group name.
However, if the Everyone group is given permissions on the
HKEY_LOCAL_MACHINE\software\microsoft\mssqlserver\mssqlserver key in the
Windows NT registry, double-clicking the user groups fails.
<P>
<P><h2>CAUSE</h2>
 
<P>
The xp_logininfo extended stored procedure cannot list the group members if
the Everyone group is granted permissions.
<P>
<P><h2>WORKAROUND</h2>
 
<P>
To work around this problem, revoke Everyone group permissions. Do to this,
issue the following command:
<P>
<PRE>   exec master..xp_revokelogin Everyone

</PRE><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SQL Server version 6.5. We
are researching this problem and will post new information here in the
Microsoft Knowledge Base as it becomes available.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The problem is running master..xp_logininfo, which will not list the group
members. An example of both a successful and a failed run of xp_logininfo
is provided below.
<P>
In this example, a local Windows NT group 'Group01' was created on the
local server SERVER_A. This group had three users: two local users and one
domain user. From ISQL/W, the command "exec master..xp_logininfo
<PRE>'group01','members'" was run. The results in each case are shown below.

</PRE><h3>Everyone Group Permission Revoked: Successful</h3>
 
<P>
<PRE>                                              Mapped
Account name             Type   Privilege   login name     Permission path
</PRE> 
<P>
<PRE>SERVER_A\user_01         user      user       (null)       SERVER_A\Group01
SERVER_A\user_02         user      user       (null)       SERVER_A\Group01
NORTHAMERICA\remote_01   user      user      remote_01     SERVER_A\Group01
</PRE>(3 row(s) affected)
<P>
<P><h3>Everyone Group Permission Granted: Failed</h3>
 
<P>
<PRE>                                              Mapped
Account name             Type   Privilege   login name     Permission path
</PRE> 
<P>
(0 row(s) affected)
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: st proc stproc<BR>
Keywords          : kbbug6.50 SSrvAdmin kbusage<BR>
Version           : WINNT:6.5<BR>
Platform          : winnt<BR>
Issue type        : kbbug<BR>
Solution Type     : kbworkaround<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 20, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
