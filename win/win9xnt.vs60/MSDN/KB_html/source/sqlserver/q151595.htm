

<HTML>
<HEAD>
<TITLE>INF: System Configuration Changes Seem to Not Take Effect </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q151595">
<META NAME="KBModify" CONTENT="1997/05/02">
<META NAME="KBCreate" CONTENT="1996/05/28">
<META NAME="Keywords" CONTENT="kbtool kbusage SSrvEntMan">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="  When using the SQL Enterprise Manager (SEM), to change system level configuration options (audit logins, security mode, autostart, etc.), the changes may not or do not seem to take effect.  MORE INFORMATION  There are two reasons you may not see th...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABI,QABM,QABA,QAL3,QBVV,QAAD,QABH,QAK7,QAGU,QDIZ,QAIJ,QABB,QBWG,QBTX,QAOE V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INF: System Configuration Changes Seem to Not Take Effect</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 2, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q151595</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft SQL Server, version 6.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
When using the SQL Enterprise Manager (SEM), to change system level
configuration options (audit logins, security mode, autostart, etc.), the
changes may not or do not seem to take effect.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
There are two reasons you may not see these changes take effect. First, you
may need to restart the SQL Server in order for the changes to take effect.
Changes like audit logins are not dynamic options and only take effect when
the SQL Server service is restarted. Refer to the SQL Server "Books Online"
for more details.
<P>
Second, it may appear your changes revert back to the original
configuration settings. This is generally caused by a registry permission
issue. By default, SEM uses the default settings to display. This appears
to revert your settings.
<P>
The problem may also manifest itself in the SQL Security Manager. When you
attempt to launch the Security Manager you will receive error, "Unable to
query SQL Server Security Information, security stored procedures have not
been installed properly."
<P>
You can use the following commands to help identify the registry permission
problem:
<P>
<PRE>   exec master.dbo.xp_loginconfig

</PRE>Expected results are:
<P>
<PRE>name                  config_value
</PRE>--------------------- ---------------------
<PRE>login mode            standard
default login         guest
default domain        DOMAIN
audit level           none
set hostname          false
map _                 domain separator
map $                 (null)
map #                 -

</PRE>You can also try something like the following. Make sure to check the
original value of the registry key before performing the command.
<P>
<PRE>   exec master.dbo.xp_regwrite 'HKEY_LOCAL_MACHINE',
       'SOFTWARE\Microsoft\MSSQLServer\MSSQLServer',
       'LoginMode', 'REG_DWORD', 0

</PRE>This sets the Login mode to Standard.
Results should be (0 row(s) affected).
<P>
If the registry permissions are not correctly set, you will get errors like
"RegCreateKey access denied" or no rows returned from the xp_loginconfig
extended stored procedure.
<P>
To correct the problem, check the Control Panel\Services application,
MSSQLServer registry key, Startup button to see how SQL Server is logging
on. Then use the Registry Editor (REGEDT32.EXT) to make sure this user or a
group that the user belongs to has full control of the MSSQLServer registry
keys. Be sure to check the recursive button when applying the new
permissions to the MSSQLServer tree.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words:<BR>
Keywords            : kbtool kbusage SSrvEntMan<BR>
Version             : 6.0<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 2, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
