

<HTML>
<HEAD>
<TITLE>FIX: PWB 1.0 "Set Dependencies" Fails with Spaces in #include </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q62578 ">
<META NAME="KBModify" CONTENT="1997/09/11">
<META NAME="KBCreate" CONTENT="1990/06/04">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; utilities">
<META NAME="Description" CONTENT="  The Programmer's WorkBench (PWB) version 1.00 (shipped with C version 6.00) includes a  Set Dependencies  option in the  Set Program List  window. This option automatically sets up build dependencies for all include files used in the current projec...">
<META NAME="Product" CONTENT="Programming Utilities">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAIB,QBXT,QA5V,QBXS,QBW5,QAR4,QAB4,QA7M,QAKR,QAHE,QAA1,QAEX,QAKP,QBVV,QBFY V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>FIX: PWB 1.0 "Set Dependencies" Fails with Spaces in #include</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 11, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q62578 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
1.00   | 1.00
MS-DOS | OS/2
kbtool kbbuglist kbfixlist
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Programmer's Workbench for MS-DOS, version 1.0
<LI>Microsoft Programmer's Workbench for OS/2, version 1.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The Programmer's WorkBench (PWB) version 1.00 (shipped with C version
6.00) includes a "Set Dependencies" option in the "Set Program List"
window. This option automatically sets up build dependencies for all
include files used in the current project. This option will fail with
a message that the include file does not exist if there are embedded
spaces between the left angle bracket (&lt;) and the include-file name in
an include directive line.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
The Set Dependencies option will work correctly if the space(s) are
removed or if a new build option is added to the TOOLS.INI file.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in the Programmer's
WorkBench version 1.0. This problem was corrected in the Programmer's
WorkBench version 1.1.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Although embedded spaces are legal in C programming syntax, the
Programmer's WorkBench fails to parse the include line correctly if
spaces exist before the filename. The following line of code shows the
situation where the "Set Dependencies" error will occur:
<P>
<PRE>   #include &lt; stdio.h &gt;

</PRE>The space before the "s" in stdio.h prevents PWB from finding the
STDIO.H include file. (The trailing space after stdio.h does not
affect the behavior of "Set Dependencies".)
<P>
The full text of the error message window for the line above is as
follows:
<P>
<PRE>        stdio.h does not exist
   Cannot build its dependency tree.
   Abort dependency lists generation?
        &lt;Yes&gt;    &lt;No&gt;    &lt;Help&gt;

</PRE>Selecting &lt;Help&gt; displays a help screen that describes the problem as
being either a mistyped filename or a nonexistent file, but the actual
file DOES exist. Removing the embedded space will correct the problem.
<P>
You can also add two new "build" lines to the TOOLS.INI file to make
the PWB recognize include directives that contain spaces. These lines
should be included under the section with the [PWB] tag, and should
have the following syntax:
<P>
<PRE>   build: include .c                                              \
       "^[ \t]*#[ \t]*include[ \t]*\"[ \t]*\\([^\"]+[ \t]*\\)\""  \
       case
   build: include .c                                              \
      "^[ \t]*#[ \t]*include[ \t]*&lt;[ \t]*\\([^&gt;]+\\)[ \t]*&gt;"      \
       case system

</PRE>(Note: These build switch statements are broken down into multiple
lines with the line continuation character (\) because of space
limitations; you may enter each of them into the TOOLS.INI file on a
single line, rather than multiple lines.)
<P>
There is one drawback to this workaround; you will still get the error
message shown above because the "old" build switch is applied before
the new one. To have the new build switch take effect, you need to
select "No" when prompted to abort the dependency list generation.
Once you have selected "No" for each file with spaces in the include
directive, the dependencies will then be generated correctly.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 1.00 buglist1.00 fixlist1.10<BR>
KBCategory: kbtool kbbuglist kbfixlist<BR>
KBSubcategory: PWBIss<BR>
Keywords          : kb16bitonly<BR>
Solution Type     : kbfix<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 11, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
