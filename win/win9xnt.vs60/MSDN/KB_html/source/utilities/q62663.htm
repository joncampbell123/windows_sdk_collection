

<HTML>
<HEAD>
<TITLE>PRB: CodeView May Appear to Hang on gets() If Screen Swap Is Off </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q62663 ">
<META NAME="KBModify" CONTENT="1997/07/17">
<META NAME="KBCreate" CONTENT="1990/06/06">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; utilities">
<META NAME="Description" CONTENT="  The Microsoft CodeView Debugger will appear to hang when you step or execute past a call to the gets() run-time routine if the Screen Swap option is turned off.  CAUSE =====  The apparent lock-up results because the gets() call causes focus to shif...">
<META NAME="Product" CONTENT="Programming Utilities">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAGI,QAKR,QAHE,QAA8,QAXC,QATX,QAH4,QAFR,QDJO,QAUD,QABO,QAIF,QAMN,QAMM,QAP2 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: CodeView May Appear to Hang on gets() If Screen Swap Is Off</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q62663 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.00 3.11 3.14 4.00 4.01 4.05 4.10 | 3.00 3.11 3.12 3.50
<PRE>MS-DOS                             | OS/2
</PRE>kbtool kbcode kbprb
<P>
 
The information in this article applies to:

<UL><LI>Microsoft CodeView for MS-DOS, versions 3.0, 3.11, 3.14, 4.0,
   4.01, 4.05, and 4.1
<LI>Microsoft CodeView for OS/2, versions 3.0, 3.11, 3.12, and 3.5
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The Microsoft CodeView Debugger will appear to hang when you step or
execute past a call to the gets() run-time routine if the Screen Swap
option is turned off.
<P>
<P><h2>CAUSE</h2>
 
<P>
The apparent lock-up results because the gets() call causes focus to
shift to the debuggee's screen and there is no way for CodeView to get
to that screen with Screen Swap off.
<P>
Since in MS-DOS, the debuggee's screen still displays CodeView, you
may be able to type in the information and press Return to continue.
This will temporarily display the debuggee's input over CodeView's
screen. A better method in MS-DOS is to break execution with CTRL+C so
that you may turn swapping back on.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To get past this deadlock with CVP under OS/2, manually switch screen
groups to the one labeled "CVP app appname.EXE". Once there, you can
provide a response to the waiting gets() call. After entering a
string, you can switch back to the screen group running CVP and
continue debugging.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The sample code below illustrates this situation. Compile the code as
indicated and bring up the .EXE in CodeView. Select the Option menu
and turn off Screen Swap if it is on. Next, step past the gets() call.
In MS-DOS, you will need to press CTRL+C to regain control. In OS/2,
you will need to switch screen groups to provide the necessary input
to the program.
<P>
<P><h3>Sample Code</h3>
 
<P>
<PRE>/* Compile options needed: /Zi /Od
*/

#include &lt;stdio.h&gt;

char string[256];

void main (void)
</PRE>{
<PRE>    printf ( "Enter a string: ") ;
    gets ( string ) ;
    printf ( "Echoing : %s\n", string) ;
</PRE>}
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.00 3.50 4.00 4.10<BR>
KBCategory: kbtool kbcode kbprb<BR>
KBSubcategory: CvwIss<BR>
Keywords            : kb16bitonly<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 17, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
