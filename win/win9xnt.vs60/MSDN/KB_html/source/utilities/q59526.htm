

<HTML>
<HEAD>
<TITLE>Multiple Dependency Blocks Are Not Cumulative </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q59526 ">
<META NAME="KBModify" CONTENT="1995/01/24">
<META NAME="KBCreate" CONTENT="1990/03/12">
<META NAME="Keywords" CONTENT="kbtool">
<META NAME="KBArea" CONTENT="Support; KB; utilities">
<META NAME="Description" CONTENT="  If a target is specified in more than one dependency block, some files may not be built. For example, consider a make file that contains dependencies such as the following:     MYAPP.EXE :: MYAPP1.obj    MYAPP.EXE :: MYAPP2.obj    MYAPP.EXE :: MYAP...">
<META NAME="Product" CONTENT="Programming Utilities">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBVV,QBBI,QBWP,QAE2,QAHC,QDL9,QBWO,QBWN,QAJQ,QBCU,QAXB,QAPF,QBXA,QAJH,QDIR V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Multiple Dependency Blocks Are Not Cumulative</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 24, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q59526 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft NMAKE Utility for MS-DOS, versions 1.01, 1.1, 1.11,
   1.12, 1.13, 1.2, 1.3, and 1.4
<LI>Microsoft NMAKE Utility for OS/2, versions 1.01, 1.11, 1.12, 1.13,
   and 1.21
<LI>Microsoft NMAKE Utility for Windows NT, versions 1.4 and 1.5
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
If a target is specified in more than one dependency block, some files
may not be built. For example, consider a make file that contains
dependencies such as the following:
<P>
<PRE>   MYAPP.EXE :: MYAPP1.obj
   MYAPP.EXE :: MYAPP2.obj
   MYAPP.EXE :: MYAPP3.obj
      link MYAPP.exe

   MYAPP.EXE :: MYAPP.RES
      RC MYAPP.RES MYAPP.EXE

</PRE>If MYAPP1.OBJ and MYAPP2.OBJ are newer than MYAPP.EXE, but MYAPP3.OBJ
is not, NMAKE does not build MYAPP.EXE. To further confuse the issue,
the following is the output from NMAKE when the /d (display file
dates) option is specified:
<P>
<PRE>   C:\&gt;NMAKE /d myapp.mak

   myapp.exe                    Wed Mar 07 08:42:38 1990
     myapp1.obj                 Thu Mar 08 15:25:44 1990
   ** myapp1.obj newer than myapp.exe
     myapp2.obj                 Wed Mar 08 08:38:56 1990
   ** myapp2.obj newer than myapp.exe
     myapp3.obj                 Thu Mar 01 09:49:52 1990
     myapp.res                  Thu Mar 01 09:49:52 1990
   'myapp.exe' is up-to-date.

</PRE>Obviously, NMAKE determines that the MYAPP1.OBJ and MYAPP2.OBJ files
have later dates, but it does not link MYAPP.EXE.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The multiple dependency construct, specified by a double colon (::)
following the name of the target, is very useful in NMAKE because it
allows the programmer to specify various operations to occur with a
target file based on various dependent files. For example, when you
build an application for the Microsoft Windows operating system, the
makefile can specify that when one or more .OBJ files change, NMAKE
must run LINK to rebuild the application. On the other hand, if the
resource file changes but the .OBJ files do not, NMAKE must only run
the Resource Compiler to update the application.
<P>
However, this feature has limits. The command block for each target
dependency must immediately follow its specification. Multiple
dependencies are not cumulative like normal dependencies are.
Therefore, the following modification to the example above works as
anticipated:
<P>
<PRE>   MYAPP.EXE :: MYAPP1.obj
      link MYAPP.exe

   MYAPP.EXE :: MYAPP2.obj
      link MYAPP.exe

   MYAPP.EXE :: MYAPP3.obj
      link MYAPP.exe

   MYAPP.EXE :: MYAPP.RES
      RC MYAPP.RES MYAPP.EXE     /* Not valid for RC under NT.

</PRE>Another method involves placing all dependencies on the same line as
the target, as follows:
<P>
<PRE>   MYAPP.EXE:: MYAPP1.obj MYAPP2.obj MYAPP3.obj
      link MYAPP.exe

   MYAPP.EXE:: MYAPP.RES
      RC MYAPP.RES MYAPP.EXE     /* Not valid for RC for NT.
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: kbinf kbinf 1.10 1.20 1.30 1.40 1.50<BR>
KBCategory: kbtool<BR>
KBSubcategory: NmakeIss<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 24, 1995</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
