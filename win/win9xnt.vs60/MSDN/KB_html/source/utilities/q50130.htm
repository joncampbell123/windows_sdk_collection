

<HTML>
<HEAD>
<TITLE>PRB: Linker Error L2041: "Stack Plus Data Exceeds 64K" </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q50130 ">
<META NAME="KBModify" CONTENT="1997/07/17">
<META NAME="KBCreate" CONTENT="1989/10/24">
<META NAME="Keywords" CONTENT="kb16bitonly LinkIss kberrmsg kbprb kbtool">
<META NAME="KBArea" CONTENT="Support; KB; utilities">
<META NAME="Description" CONTENT="  An attempt to link an application fails and Microsoft LINK generates the following message:     L2041 stack plus data exceeds 64K  CAUSE =====  The application has more than 64K of stack and data to put into DGROUP (the default data segment).  RESO...">
<META NAME="Product" CONTENT="Programming Utilities">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAB4,QBE7,QBE6,QBFY,QAAP,QAYY,QAE2,QAKR,QAH4,QAHE,QBJQ,QAKP,QAX6,QAC1,QAUJ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: Linker Error L2041: "Stack Plus Data Exceeds 64K"</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q50130 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.65 3.69 4.x 5.0x 5.1x 5.2x 5.3x 5.50 5.60 | 5.0x 5.10 5.11 5.13 5.15
<PRE>MS-DOS                                      | OS/2
</PRE>kbtool kberrmsg kberrmgs kbprb
<P>
 
The information in this article applies to:

<UL><LI>Microsoft LINK for MS-DOS, versions 3.65, 3.69, 4.x, 5.0x, 5.1x,
   5.2x, 5.3x, 5.5, and 5.6
<LI>Microsoft LINK for OS/2, versions 5.0x, 5.1, 5.11, 5.13, and 5.15
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
An attempt to link an application fails and Microsoft LINK
generates the following message:
<P>
<PRE>   L2041 stack plus data exceeds 64K

</PRE><h2>CAUSE</h2>
 
<P>
The application has more than 64K of stack and data to put into
DGROUP (the default data segment).
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To address this situation, perform one or more of the following
three steps:

<UL><LI>Reduce the stack size for the application.

<LI>Compile the application in the compact, large, or huge memory
   model.

<LI>Use the /Gt compiler option switch or the FAR keyword to remove
   data from DGROUP and place it into another data segment.
<P>
</UL><h2>MORE INFORMATION</h2>
 
<P>
Even though a nonfatal error indicates a problem in the executable
file, LINK produces the executable file, unless linking with the
/ONERROR:NOEXE linker switch. /ONERROR:NOEXE is available with Microsoft
C/C++ 7.0, and Visual C++ for Windows versions 1.0 and 1.5. Each non-
fatal error message has the following format:
<P>
<PRE>   location : error L2xxx: messagetext

</PRE>In a nonfatal error message, the "location" field names the input file
associated with the error or "LINK" if there is no input file. If the
input file is an object module or library file and it has a module
name, the module name is also given, enclosed in parentheses.
<P>
<P><h2>REFERENCES</h2>
 
<P>
For more information on error L2041, see one of the following
references:

<UL><LI>"Linker Error Messages" (section D.4, page 374) in the "Microsoft
   QuickC Compiler for IBM Personal Computers and Compatibles
   Programmer's Guide"

<LI>The ERRMSG.DOC file on Compiler disk 1 for Microsoft C version 5.1
   and on the Setup disk for Microsoft C version 5.0

<LI>The README.DOC file on disk 1 for Microsoft Macro Assembler (MASM)
   version 5.1

<LI>The CVREADME.DOC file on the CodeView for MS-DOS disk for Microsoft
   FORTRAN version 4.1

<LI>The online help for Microsoft C version 6.0, MASM version 6.0,
   and Visual C++ for Windows versions 1.0 and 1.5

<LI>The "Comprehensive Index and Errors Reference" for Microsoft C/C++
   version 7.0, page 503
<P></UL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.65 3.69 4.06 4.07 4.10 5.01.20 5.01.21<BR>
KBCategory: kbtool kberrmsg kberrmsg kbprb<BR>
KBSubcategory: LinkIss<BR>
Keywords            : kb16bitonly LinkIss kberrmsg kbprb kbtool<BR>
Version             : 3.65 3.69 4.x 5.0x 5.1x 5.2x 5.3<BR>
Platform            : MS-DOS OS/2<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 17, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
