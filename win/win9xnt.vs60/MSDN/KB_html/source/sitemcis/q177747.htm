

<HTML>
<HEAD>
<TITLE>How to Read CRS Registry Flags to Determine Configuration </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q177747">
<META NAME="KBModify" CONTENT="1998/02/03">
<META NAME="KBCreate" CONTENT="1997/12/05">
<META NAME="Keywords" CONTENT="kbusage">
<META NAME="KBArea" CONTENT="Support; KB; sitemcis">
<META NAME="Description" CONTENT="  All Content Replication System (CRS) configuration information is contained in the Windows NT registry:     HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\CRS  Some of the information is readily accessible, such as the TransactionMethod. This value is set t...">
<META NAME="Product" CONTENT="sitemcis">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAHE,QAKD,QAVZ,QBXT,QA5V,QAIB,QBV8,QAKC,QA63,QAB9,QAFO,QABI,QAUR,QALQ,QAJN V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Read CRS Registry Flags to Determine Configuration</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 3, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q177747</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Commercial Internet System, version 1.0
<LI>Site Server version 2.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
All Content Replication System (CRS) configuration information is contained
in the Windows NT registry:
<P>
<PRE>   HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\CRS

</PRE>Some of the information is readily accessible, such as the
TransactionMethod. This value is set to YES or NO. Other values are harder
to read. This article describes how to read the Flags value for each
project.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The table below shows all the possible Flags values and how to set them
either from the Command line or the Web based CRS Administration. The
syntax from the Command line is either where &lt;Project&gt; is the name of the
project:
<P>
<PRE>   AddProj &lt;Project&gt; &lt;Directory&gt; [Dest1] Flags=VALUE
   CRS EDITPROJ &lt;Project&gt; FLAGS=VALUE

</PRE>The VALUE will always be checked for validity. A numeric value is
considered valid. On the other hand, the token
"FLAGS" will not be checked. If the word "FLAG" is entered by mistake, a
new value will be created.
<P>
For example to add the Force flag to an existing project named Test1 we
would use this command:
<P>
<PRE>   CRS EDITPROJ Test1 FLAGS=Force

</PRE>To turn off all of the flags of an existing project named Test1 we use
this command:
<P>
<PRE>   CRS EDITPROJ Test1 FLAGS=0

</PRE>The best way to verify is to open the registry with REGEDT32.EXE The
Content Replication System project information is located in:
<P>
<PRE>   HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\CRS\Projects\&lt;Project&gt;

</PRE>The Flags value will tell exactly how the customer has configured CRS. To
request and interpret the information:

<OL><P><LI>Request that the customer save the CRS registry information from:
<P>
   HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\CRS

<P><LI>Use the Registry/Save Subtree menu to make a text copy. Then have the
   customer mail the information to you.

<P><LI>When you look into the registry information, you will find the value:
   Flags. You can use notepad's Search/Find menu to do this.

<P><LI>Once you have the value then you can use the table below to determine
   the configuration.
<P>
<P><PRE>      Flags value  1
      Command Line Flags=NoDelete
<PRE></PRE>      Web Admin    Options -&gt; Preserve deleted content on the target
      Bit Value     00000000 00000000 00000000 00000001

      Flags value  2
      Command Line Flags=ACLs
      Web Admin    Options -&gt; Replicate ACLs and files
      Bit Value     00000000 00000000 00000000 00000010

      Flags value  4
      Command Line Flags=DirsOnly
      Web Admin    Options -&gt; Replicate ACLs and directory structure only
      Bit Value     00000000 00000000 00000000 00000100

       Flags value  8
      Command Line Flags=Force
      Web Admin    Force replication of all files
      Bit Value     00000000 00000000 00000000 00001000

      Flags value  16
      Command Line Flags=Permit
      Web Admin    Options -&gt; Replicate ACLs only and apply to files
      Bit Value     00000000 00000000 00000000 00010000

      Flags value  64
      Command Line Flags=Incremental
      Web Admin    Options -&gt; Check time stamp only
      Bit Value     00000000 00000000 00000000 01000000

      Flags value  128
      Command Line Flags=Fastmode
      Web Admin    Options -&gt; Turn off framing for local replication
      Bit Value     00000000 00000000 00000000 10000000

      Flags value  256
      Command Line Flags=Automatic
      Web Admin    Schedule -&gt; set to Automatic
      Bit Value     00000000 00000000 00000001 00000000

      Flags value  512
      Command Line Flags=Route
      Web Admin    CRS -&gt; Routes
      Bit Value     00000000 00000000 00000010 00000000

      Flags value  1024
      Command Line Flags=Notify
      Web Admin    CRS -&gt; Settings
      Bit Value     00000000 00000000 00000100 00000000

      Flags value  4096
      Command Line Flags=ExcludeAll
      Web Admin    Source -&gt; Exclude all subdirectories
      Bit Value     00000000 00000000 00010000 00000000

</PRE></OL>Example: Flags = 4575

<OL><P><LI>Use CALC.EXE to translate the value to binary.
<P>
<P><PRE>      4575 = 00010001 11011111
</PRE>
<P><LI>Look at the table for the value of each bit.
<P>
<PRE>   1    Preserve deleted content on the target
                                 00000000 00000000 00000000 00000001

   2    Replicate ACLs and files
                                 00000000 00000000 00000000 00000010

   4    Replicate ACLs and directory structure only
                                 00000000 00000000 00000000 00000100

   8    Force replication of all files
                                 00000000 00000000 00000000 00001000

   16   Replicate ACLs only and apply to files
                                 00000000 00000000 00000000 00010000

   64   Check time stamp only    00000000 00000000 00000000 01000000

   128  Turn off framing for local replication
                                 00000000 00000000 00000000 10000000

   256  Schedule -&gt; set to Automatic
                                 00000000 00000000 00000001 00000000

   4096 Source -&gt; Exclude all subdirectories
                                 00000000 00000000 00010000 00000000
   -----------------------------------------------------------------
   Total= 4575                   00000000 00000000 00010001 11011111

</PRE></OL>Thus we can see that this user has chosen every checkbox available in the
Web Administration interface.
 
<PRE>Keywords          : kbusage
Version           : Winnt:1.0,2.0
Platform          : winnt
Issue type        : kbinfo
Solution Type     : Info_Provided</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 3, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
