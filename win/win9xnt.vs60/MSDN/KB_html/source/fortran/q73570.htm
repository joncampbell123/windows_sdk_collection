

<HTML>
<HEAD>
<TITLE>FIX: F1001: regMD.c:1.8, Line 338; REAL Arg, /FPc, /FPa </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q73570 ">
<META NAME="KBModify" CONTENT="1997/09/11">
<META NAME="KBCreate" CONTENT="1991/06/27">
<META NAME="Keywords" CONTENT="">
<META NAME="KBArea" CONTENT="Support; KB; fortran">
<META NAME="Description" CONTENT="  Compiling a program with the /FPc, /FPa, or /FPc87 option that uses a real formal argument and another numeric formal argument to index an array in an assignment statement may cause the compiler to issue the error:     filename(line#) : fatal error...">
<META NAME="Product" CONTENT="Fortran">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAPN,QAHE,QBFY,QAYL,QAAP,QAH4,QBXT,QA5V,QAR4,QAOT,QAIB,QAB4,QA4Q,QA28,QAVX V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>FIX: F1001: regMD.c:1.8, Line 338; REAL Arg, /FPc, /FPa</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 11, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q73570 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
5.00 5.10 | 5.00 5.10
<PRE>MS-DOS    | OS/2
</PRE>kbtool kbfixlist kbbuglist kberrmsg kbcode
<P>
 
The information in this article applies to:

<UL><LI>Microsoft FORTRAN for MS-DOS, versions 5.0 and 5.1
<LI>Microsoft FORTRAN for OS/2, versions 5.0 and 5.1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Compiling a program with the /FPc, /FPa, or /FPc87 option that uses a real
formal argument and another numeric formal argument to index an array in an
assignment statement may cause the compiler to issue the error:
<P>
<PRE>   filename(line#) : fatal error F1001: Internal Compiler Error
             (compiler file '@(#)regMD.c:1.8', line 338)
             Contact Microsoft Technical Support

</PRE><h2>RESOLUTION</h2>
 
<P>
One solution is to assign the real formal argument to a temporary
variable and to use the temporary variable as the array index. The
error also does not occur is the program is compiled with both
/4Yb and /Od.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a bug in the products listed above.
This problem was corrected in FORTRAN PowerStation, version 1.0.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following program will cause the F1001 compiler error:
<P>
<P><h3>Sample code</h3>
 
<P>
<PRE>      SUBROUTINE Test(RealArgument,Argument)

      INTEGER ArrayVariable (2,1)
      REAL RealArgument
      INTEGER Argument

</PRE>c  In the following line, the order of the arguments is not
c  significant.  The compiler will also fail if another variable is
c  assigned to ArrayVariable but will not fail if ArrayVariable is
c  used in a CALL statement.
<P>
<PRE>      ArrayVariable( Argument, RealArgument) = 0

      END

</PRE>The following program illustrates the suggested workaround:
<P>
<P><h3>Sample code</h3>
 
<P>
<PRE>      SUBROUTINE Test(RealArgument,Argument)

        INTEGER ArrayVariable (2,1)
        REAL RealArgument
        INTEGER Argument

        TemporaryVariable = RealArgument
        ArrayVariable( Argument, TemporaryVariable) = 0

      END
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 5.00 5.10 buglist5.00 buglist5.10 fixlist1.00<BR>
KBCategory: kbtool kbfixlist kbbuglist kberrmsg<BR>
KBSubCategory: FLIss<BR>
Solution Type     : kbfix<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 11, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
