

<HTML>
<HEAD>
<TITLE>FIX: F1001 Error Compiling 2 Gigabyte Array with -Zi </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q111283">
<META NAME="KBModify" CONTENT="1997/09/18">
<META NAME="KBCreate" CONTENT="1994/02/08">
<META NAME="Keywords" CONTENT="FL32Iss kbbuglist kberrmsg kbfixlist kbtool">
<META NAME="KBArea" CONTENT="Support; KB; fortran">
<META NAME="Description" CONTENT="  Compiling a FORTRAN source file with -Zi that contains a 2 gigabyte (GB) array (or larger) will produce the following error under Windows NT:     fatal error F1001: INTERNAL COMPILER ERROR    (compiler file '@(#)p2symtab.c:1.89', line 1601)  Under ...">
<META NAME="Product" CONTENT="Fortran">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAB4,QBWP,QAAP,QAR4,QAKP,QBFY,QAOT,QAH4,QDL9,QBWQ,QBWO,QBWN,QAWH,QBXT,QBVV V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>FIX: F1001 Error Compiling 2 Gigabyte Array with -Zi</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 18, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q111283</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
1.00 1.00a | 1.00
<PRE>MS-DOS     | WINDOWS
</PRE>kbtool kbfixlist kberrmsg
<P>
 
The information in this article applies to:

<UL><LI>Microsoft FORTRAN PowerStation for MS-DOS, version 1.0 and 1.0a
<LI>Microsoft FORTRAN PowerStation 32 for Windows NT, version 1.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Compiling a FORTRAN source file with -Zi that contains a 2 gigabyte (GB)
array (or larger) will produce the following error under Windows NT:
<P>
<PRE>   fatal error F1001: INTERNAL COMPILER ERROR
   (compiler file '@(#)p2symtab.c:1.89', line 1601)

</PRE>Under MS-DOS, the following error may be generated:
<P>
<PRE>   fatal error F1001: INTERNAL COMPILER ERROR
   (compiler file '@(#)p2symtab.c:1.89', line 1390)

</PRE><h2>CAUSE</h2>
 
<P>
Although a Windows NT application has a 4 GB address space, 2 of these 4 GB
are reserved for system memory. Because a 2 GB array leaves no room for
application code, this particular condition was not tested.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Reduce the size of the array.
<P>
NOTE: Linking a Fortran object module that contains an array 2 gigabytes
(or greater) will correctly cause the following warning message under
Fortran PowerStation 4.0:
<P>
<PRE>   :warning LNK4084: total image size -2147422208 exceeds max
   (268435456); image may not run


</PRE><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in FORTRAN PowerStation 32 for
Windows NT version 1.0 and MS-DOS version 1.0 and 1.0a. This problem was
corrected in FORTRAN PowerStation 32, version 4.0.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following sample illustrates the problem:
<P>
<P><h3>Sample Code</h3>
 
<P>
c Compile options needed: -Zi
c
<PRE>       integer*2 n(1073741824)
       n(1) = 1
       end
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 1.00<BR>
KBCategory: kbtool kbbuglist kbfixlist kberrmsg<BR>
KBSubcategory: FL32Iss<BR>
Keywords          : FL32Iss kbbuglist kberrmsg kbfixlist kbtool<BR>
Version           : 1.00 1.00a | 1.00<BR>
Platform          : MS-DOS WINDOWS<BR>
Solution Type     : kbfix<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 18, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
