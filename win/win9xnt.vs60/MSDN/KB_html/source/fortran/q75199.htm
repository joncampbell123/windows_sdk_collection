

<HTML>
<HEAD>
<TITLE>BUG: F1001: Line 1826 with IAND, IOR, COMMON, /Od /ND </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q75199 ">
<META NAME="KBModify" CONTENT="1995/07/11">
<META NAME="KBCreate" CONTENT="1991/08/13">
<META NAME="Keywords" CONTENT="kbtool kbbuglist kberrmsg">
<META NAME="KBArea" CONTENT="Support; KB; fortran">
<META NAME="Description" CONTENT="  When compiling a program with Microsoft FORTRAN version 5.1 under MS-DOS or OS/2, the following error may be generated during the second pass of the compiler:     fatal error F1001: Internal Compiler Error    (compiler file '@(#)regMD.c:1.9', line ...">
<META NAME="Product" CONTENT="Fortran">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAB4,QAAP,QAOT,QAYL,QAH4,QAY5,QAKP,QBXT,QA5V,QAIB,QAJQ,QBXS,QBFY,QA7Y,QALO V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>BUG: F1001: Line 1826 with IAND, IOR, COMMON, /Od /ND</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 11, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q75199 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft FORTRAN for MS-DOS, versions 4.0, 4.01, 4.1, 5.0, and 5.1
<LI>Microsoft FORTRAN for OS/2, versions 4.1, 5.0, and 5.1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When compiling a program with Microsoft FORTRAN version 5.1 under MS-DOS or
OS/2, the following error may be generated during the second pass of the
compiler:
<P>
<PRE>   fatal error F1001: Internal Compiler Error
   (compiler file '@(#)regMD.c:1.9', line 1826)
   Contact Microsoft Technical Support

</PRE>Compiling with FORTRAN version 5.0, the following error is produced:
<P>
<PRE>   fatal error F1001: Internal Compiler Error
   (compiler file '@(#)regMD.c:1.8', line 1816)
   Contact Microsoft Technical Support

</PRE>Compiling with FORTRAN versions 4.1 and 4.01, the following error is
produced:
<P>
<PRE>   fatal error F1001: Internal Compiler Error
   (compiler file '@(#)regMD.c:1.79', line 1747)
   Contact Microsoft Technical Support

</PRE>Compiling with FORTRAN version 4.0, the following error is produced:
<P>
<PRE>   fatal error F1001: Internal Compiler Error
   (compiler file '@(#)regMD.c:1.74', line 1735)
   Contact Microsoft Technical Support

</PRE><h2>CAUSE</h2>
 
<P>
The program was compiled with the /Od and /ND&lt;segmentname&gt; options, and
also utilized the IAND and IOR intrinsic functions on the same executable
statement. For this error to occur, these functions must operate on two
arrays that are in COMMON, one of the arrays must be greater than 65,532
bytes, and the value returned by the IAND and IOR operation must be set
equal to one of the arrays used within the operation, dimensioned by a
variable (see sample code below).
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Setting the outcome of the IAND and IOR operation to a temporary variable
or eliminating the /ND or /Od compile option will avoid this error message.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Microsoft FORTRAN versions
4.0, 4.01, 4.1, 5.0 and 5.1.
<P>
This is not an issue with FORTRAN PowerStation because the /ND switch is
not supported.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following code reproduces the problem when compiled with the
/Od and /ND&lt;segmentname&gt; options (where &lt;segmentname&gt; is a
character string naming a data segment:
<P>
<P><h3>Sample Code #1</h3>
 
<P>
<PRE>      integer i(16383), j(2),k

      COMMON i, j

      i(k)=IOR(IAND(i(k),j(1)),j(2))

      END

</PRE>The following code illustrates how to set the outcome of the IAND and IOR
operation to a temporary variable:
<P>
<P><h3>Sample Code #2</h3>
 
<P>
<PRE>      integer i(16383), j(2),k, temp

      COMMON i, j

      temp=IOR(IAND(i(k),j(1)),j(2))    ! Set outcome of operation to
        i(k)=temp                       ! temporary variable
      END
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 4.00 4.01 4.10 5.00 5.10<BR>
KBCategory: kbtool kbbuglist kberrmsg<BR>
KBSubcategory: FLIss<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 11, 1995</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
