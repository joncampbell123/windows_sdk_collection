

<HTML>
<HEAD>
<TITLE>FIX: Huge Number in a FORMAT Statement Halts Machine </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q86927 ">
<META NAME="KBModify" CONTENT="1997/09/16">
<META NAME="KBCreate" CONTENT="1992/07/20">
<META NAME="Keywords" CONTENT="FORTLngIss kbbuglist kberrmsg kbfixlist kbprg">
<META NAME="KBArea" CONTENT="Support; KB; fortran">
<META NAME="Description" CONTENT="  Using the Microsoft FORTRAN compiler to compile a program that contains a syntax error in a FORMAT statement can cause the compiler to halt the machine under MS-DOS or to generate a protection violation under OS/2.  With FORTRAN PowerStation, the p...">
<META NAME="Product" CONTENT="Fortran">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAAP,QAB4,QAKC,QDNG,QBC6,QAR4,QAH4,QAKP,QAG8,QBWP,QAPN,QAMR,QAOT,QBBL,QAJ6 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>FIX: Huge Number in a FORMAT Statement Halts Machine</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 16, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q86927 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
5.00 5.10 1.00 1.00a | 5.00 5.10 | 1.00
<PRE>MS-DOS               | OS/2      | WINDOWS NT
</PRE>kbprg kbfixlist kberrmsg
<P>
 
The information in this article applies to:

<UL><LI>Microsoft FORTRAN for MS-DOS, versions 5.0 and 5.1
<LI>Microsoft FORTRAN for OS/2, versions 5.0 and 5.1
<LI>Microsoft FORTRAN PowerStation for MS-DOS, versions 1.0 and 1.0a
<LI>Microsoft FORTRAN PowerStation 32 for Windows NT, version 1.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Using the Microsoft FORTRAN compiler to compile a program that contains a
syntax error in a FORMAT statement can cause the compiler to halt the
machine under MS-DOS or to generate a protection violation under OS/2.
<P>
With FORTRAN PowerStation, the possible symptoms include:

<UL><LI>System Hang
<LI>error F2001: INTEGER value overflow
<LI>error F2115: syntax error
<LI>error F2837: label : undefined
<LI>warning F4989: unexpected character in format
<P>
</UL><h2>CAUSE</h2>
 
<P>
The specific syntax error is caused by a comma at the beginning of a FORMAT
statement, followed by a character string constant that contains large
integer numbers. The real problem is having a huge number in a FORMAT
statement. The out-of-place comma causes the compiler to parse the format
as if the first single quotation mark isn't there. Normally, the compiler
will determine at the end of the parse that the comma shouldn't be there,
and the compiler will issue an error. In this case, however, the machine
halts before the error output. Blanks in numbers are ignored. Having a huge
number in the format causes the same problem (sample code 2). Because
extremely large numbers do not make sense in FORMAT statements, the
expected source of the error is the comma, which causes the string to be
parsed as a number.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Correcting the syntax error eliminates the problem.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a bug in the products listed above. This
problem was corrected in Microsoft FORTRAN PowerStation 32, version 4.0.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following code can be used to reproduce the problem.
<P>
<P><h3>Sample Code 1</h3>
 
<P>
<PRE>      open(1,file='data')
      write(1,10)
</PRE>10    format(,'110000 115000 120000') ! Causes machine halt
<PRE>      end


</PRE><h3>Sample Code 2</h3>
 
<P>
10    format(100000000000000000)  ! Causes machine halt
<P>
<PRE>      end

</PRE>This code illustrates the solution.
<P>
<P><h3>Sample Code 3</h3>
 
<P>
<PRE>      open(1,file='data')
      write(1,10)
 10   format('110000 115000 120000')  ! Correct syntax
      end
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 1.00 5.00 5.10<BR>
KBCategory: kbprg kbfixlist kbbuglist kberrmsg<BR>
KBSubcategory: FORTLngIss<BR>
Keywords          : FORTLngIss kbbuglist kberrmsg kbfixlist kbprg<BR>
Version           : 5.00 5.10 1.00 1.00a | 5.00 5.10<BR>
Platform          : MS-DOS NT OS/2 WINDOWS<BR>
Solution Type     : kbfix<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 16, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
