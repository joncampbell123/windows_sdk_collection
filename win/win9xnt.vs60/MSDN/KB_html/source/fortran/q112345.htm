

<HTML>
<HEAD>
<TITLE>FIX: F1001 or F1002 Compiling Program with Record Using -Zi </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q112345">
<META NAME="KBModify" CONTENT="1997/09/18">
<META NAME="KBCreate" CONTENT="1994/03/07">
<META NAME="Keywords" CONTENT="FL32Iss kbbuglist kberrmsg kbfixlist kbtool">
<META NAME="KBArea" CONTENT="Support; KB; fortran">
<META NAME="Description" CONTENT="  Using FORTRAN PowerStation to compile a program containing records may generate:     fatal error F1002: compiler is out of heap space in pass 2     -or-     fatal error F1001: INTERNAL COMPILER ERROR    (compiler file '@(#)p2symtab.c:1.89', line 14...">
<META NAME="Product" CONTENT="Fortran">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QA5V,QAAP,QAB4,QBWP,QAH7,QAH6,QAD7,QAR4,QAOT,QAKP,QAH4,QAIC,QBFE,QBE7,QBE6 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>FIX: F1001 or F1002 Compiling Program with Record Using -Zi</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 18, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q112345</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
1.00 1.00a  | 1.00
<PRE>MS-DOS      | WINDOWS
</PRE>kbtool kbfixlist kberrmsg
<P>
 
The information in this article applies to:

<UL><LI>Microsoft FORTRAN PowerStation for MS-DOS, version 1.0 and 1.0a
<LI>Microsoft FORTRAN PowerStation 32 for Windows NT, version 1.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Using FORTRAN PowerStation to compile a program containing records may
generate:
<P>
<PRE>   fatal error F1002: compiler is out of heap space in pass 2

   -or-

   fatal error F1001: INTERNAL COMPILER ERROR
   (compiler file '@(#)p2symtab.c:1.89', line 1490)

</PRE>The line number is 1279 when using FORTRAN PowerStation for MS-DOS.
<P>
<P><h2>CAUSE</h2>
 
<P>
This error occurs only when using the -Zi compiler option, and is related
to the number of characters in the names of the structure members and the
layout and contents of the structure.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
There are three different ways to resolve these problems:

<UL><LI>Reorder the structure. Putting small items first often eliminates both
   errors.
<P>
   -or-

<LI>Use one-character-long member names.
<P>
   -or-

<LI>Recompile without -Zi.
<P>
</UL><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in FORTRAN PowerStation for
Windows NT, version 1.0 and MS-DOS, versions 1.0 and 1.0a. This problem was
corrected in FORTRAN PowerStation 32, version 4.0.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Compiling the sample program with -Zi will generate the "F1002: compiler is
out of heap in pass 2" error.
<P>
Shortening "xY" to "Y" or increasing 60000 to 70000 causes the F1001 error.
<P>
Trimming "x" from "xY" and "xZ" or moving the 60000 element X array to the
end of the structure eliminates both problems.
<P>
<P><h3>Sample Code</h3>
 
<P>
C Compile options needed: -Zi
<PRE>      STRUCTURE /CBF/
        CHARACTER*1   X (60000)
        INTEGER*4     xY (4)
        CHARACTER*1   xZ (1)
      END STRUCTURE

      RECORD /CBF/ CB

      END
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: ICE 1.00 1.00a<BR>
KBCategory: kbtool kbbuglist kbfixlist kberrmsg<BR>
KBSubcategory: FL32Iss<BR>
Keywords          : FL32Iss kbbuglist kberrmsg kbfixlist kbtool<BR>
Version           : 1.00 1.00a  | 1.00<BR>
Platform          : MS-DOS WINDOWS<BR>
Solution Type     : kbfix<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 18, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
