

<HTML>
<HEAD>
<TITLE>BUG: Problems WATCHing Arguments Passed to ENTRY Statement </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q75014 ">
<META NAME="KBModify" CONTENT="1995/07/07">
<META NAME="KBCreate" CONTENT="1991/08/06">
<META NAME="Keywords" CONTENT="kbtool kbbuglist">
<META NAME="KBArea" CONTENT="Support; KB; fortran">
<META NAME="Description" CONTENT="  Programs compiled with Microsoft FORTRAN versions 4.0, 4.01, 4.1, 5.0, and 5.1 using the /Od and /Zi compiler options can give incorrect results when WATCHing an argument in CodeView under MS-DOS, or generate an I/O error when WATCHing an argument ...">
<META NAME="Product" CONTENT="Fortran">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAPN,QAFF,QAB9,QAHE,QATL,QATK,QAY5,QAH6,QAKZ,QAKP,QBC9,QBC8,QAWM,QANO,QAH7 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>BUG: Problems WATCHing Arguments Passed to ENTRY Statement</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 7, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q75014 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft FORTRAN for MS-DOS, versions 4.0, 4.01, 4.1, 5.0, and 5.1
<LI>Microsoft FORTRAN for OS/2, versions 4.1, 5.0, and 5.1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Programs compiled with Microsoft FORTRAN versions 4.0, 4.01, 4.1,
5.0, and 5.1 using the /Od and /Zi compiler options can give
incorrect results when WATCHing an argument in CodeView under MS-DOS,
or generate an I/O error when WATCHing an argument in CodeView under
OS/2. These errors may occur if the program contains the following:

<OL><P><LI>An ENTRY statement to enter a SUBROUTINE or external FUNCTION.

<P><LI>A CALL to the ENTRY point in the SUBROUTINE or external FUNCTION.

<P><LI>An argument that is referenced in the ENTRY statement but not in
   the SUBROUTINE or external FUNCTION statement, and then used in the
   SUBROUTINE or external FUNCTION.
<P>
</OL>According to the ANSI FORTRAN 77 standard, the order, number, type,
and names of the formal arguments in an ENTRY statement may be
different from the order, number, type, and names of the formal
arguments in the FUNCTION statement or SUBROUTINE statement and other
ENTRY statements in the same subroutine.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To avoid this problem, pass the argument to the SUBROUTINE or external
FUNCTION as well as to the ENTRY point.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in FORTRAN versions 4.0,
4.01, 4.1, 5.0, and 5.1. We are researching the problem and will post
new information here as it becomes available.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following sample program illustrates the problem:
<P>
<PRE>      real val
      call entersub(val)
      end

      subroutine sub
      real val
      entry entersub(val)
      val=val+1
      end

</PRE><P><LI>Compiling with /Od and /Zi and executing CodeView under MS-DOS:
<P>
   Placing a WATCH on the variable "val" shows that it is correctly
   initialized to zero in the main routine, but stepping into the
   subroutine the value of "val" is incorrect. The value of "val" is
   correctly displayed upon returning to the main routine.

<P><LI>Compiling with /Od and /Zi and executing CodeView under OS/2:
<P>
   Placing a WATCH on the variable "val" shows that it is correctly
   initialized to zero in the main routine, but stepping into the
   subroutine the value of "val" contains an "I/O error." The value of
   "val" is correctly displayed upon returning to the main routine.
<P>
</OL>Passing the argument to the SUBROUTINE or external FUNCTION as well as
to the ENTRY point will prevent the problem from occurring. The
following sample program illustrates the solution:
<P>
<PRE>      real val
      call entersub(val)
      end

      subroutine sub(val)
      real val
      entry entersub(val)
      val=val+1
      end
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 5.00 5.10<BR>
KBCategory: kbtool kbbuglist<BR>
KBSubcategory: FLIss<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 7, 1995</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
