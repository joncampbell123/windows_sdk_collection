

<HTML>
<HEAD>
<TITLE>FIX: Entire Structure in DATA Fails to Cause Error </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q87474 ">
<META NAME="KBModify" CONTENT="1997/09/16">
<META NAME="KBCreate" CONTENT="1992/07/30">
<META NAME="Keywords" CONTENT="FLIss kbbuglist kbfixlist kbtool">
<META NAME="KBArea" CONTENT="Support; KB; fortran">
<META NAME="Description" CONTENT="  Applications compiled with Microsoft FORTRAN version 5.0 or 5.1 that initialize entire structures in DATA statements may produce incorrect results.  CAUSE =====  Initializing entire structures in a DATA statement is not permitted (Microsoft FORTRAN...">
<META NAME="Product" CONTENT="Fortran">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAAP,QAVX,QAVW,QAB4,QAIC,QAR4,QAH4,QBE7,QBE6,QAYL,QAYY,QA5V,QAPN,QAKP,QAOX V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>FIX: Entire Structure in DATA Fails to Cause Error</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 16, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q87474 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
5.00 5.10 1.00 1.00a | 5.00 5.10 | 1.00
<PRE>MS-DOS               | OS/2      | WINDOWS NT
</PRE>kbtool kbfixlist
<P>
 
The information in this article applies to:

<UL><LI>Microsoft FORTRAN for MS-DOS versions 5.0 and 5.1
<LI>Microsoft FORTRAN for OS/2 versions 5.0 and 5.1
<LI>Microsoft FORTRAN PowerStation for MS-DOS versions 1.0 and 1.0a
<LI>Microsoft FORTRAN PowerStation 32 version 1.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Applications compiled with Microsoft FORTRAN version 5.0 or 5.1 that
initialize entire structures in DATA statements may produce incorrect
results.
<P>
<P><h2>CAUSE</h2>
 
<P>
Initializing entire structures in a DATA statement is not permitted
(Microsoft FORTRAN version 5.1 "Reference" manual, page 140), but no error
or warning is emitted by the compiler. Subsequent use of that structure
variable may lead to incorrect results.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To initialize structure variables through DATA statements, specify every
element of the structure separately.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Microsoft FORTRAN versions
5.0 and 5.1 for MS-DOS and OS/2, and version 5.1 for Windows. This problem
was corrected in FORTRAN PowerStation version 4.0.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following code fails to produce any error message and the resulting
output is incorrect:
<P>
<P><h3>Sample Code #1</h3>
 
<P>
<PRE>       structure /test/
          integer i
          real    x
       end structure
       record /test/ s
       data s /7/
       print*, s.i, s.x
       end

</PRE>The following code demonstrates the correct use of a structure variable in
a DATA statement:
<P>
<P><h3>Sample Code #2</h3>
 
<P>
<PRE>       structure /test/
          integer i
          real    x
       end structure
       record /test/ s
       data s.i /7/, s.x /7.0/
       print*, s.i, s.x
       end
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 1.00 5.00 5.10<BR>
KBCategory: kbtool kbfixlist kbbuglist<BR>
KBSubcategory: FLIss<BR>
Keywords          : FLIss kbbuglist kbfixlist kbtool<BR>
Version           : 5.00 5.10 1.00 1.00a | 5.00 5.10<BR>
Platform          : MS-DOS NT OS/2 WINDOWS<BR>
Solution Type     : kbfix<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 16, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
