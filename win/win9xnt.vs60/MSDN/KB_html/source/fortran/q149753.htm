

<HTML>
<HEAD>
<TITLE>How to Determine the Size of a User-Defined Data Type </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q149753">
<META NAME="KBModify" CONTENT="1996/04/12">
<META NAME="KBCreate" CONTENT="1996/04/10">
<META NAME="Keywords" CONTENT="kbprg kbhowto kbcode">
<META NAME="KBArea" CONTENT="Support; KB; fortran">
<META NAME="Description" CONTENT="  The Fortran Run-Time Library included with Microsoft Fortran PowerStation version 4.0 does not include an intrinsic function or subroutine that can return the number of bytes in use by a single user-defined data type variable. You can, however, use...">
<META NAME="Product" CONTENT="Fortran">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAYL,QAKC,QAP2,QBC6,QALG,QAG8,QAYY,QAC2,QBWP,QAY5,QBWD,QBV8,QAR5,QADF,QDMW V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Determine the Size of a User-Defined Data Type</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 12, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q149753</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Fortran PowerStation for Windows 95 and Windows NT,
   version 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The Fortran Run-Time Library included with Microsoft Fortran PowerStation
version 4.0 does not include an intrinsic function or subroutine that can
return the number of bytes in use by a single user-defined data type
variable. You can, however, use the LOC() intrinsic function to obtain the
starting addresses of two user-defined data type variables, contiguous in
memory, and subtract their addresses resulting in the number of bytes used
by one variable of this type.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Do the following to calculate the number of bytes in use by a single user-
defined data type variable:

<OL><P><LI>Create a two-element array variable of any user-defined data type.

<P><LI>Use the LOC() intrinsic function to obtain the starting memory addresses
   for both user-defined data type array elements.

<P><LI>Subtract these addresses from each other. This will yield the number of
   bytes used in memory by this type of user-defined variable.
<P>
</OL><h3>Sample Code to Illustrate Technique</h3>
 
<P>
C Compile options needed: none
<P>
<PRE>      type udt
          integer a
          real b
      end type
      type (udt) myt(2)
      print *, 'Number of bytes used: ', loc(myt(2)) - loc(myt(1))
      end

</PRE></OL><h3>Program Output</h3>
 
<P>
Number of bytes used:  8
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 4.00 kbinf<BR>
KBCategory: kbprg kbhowto kbcode<BR>
KBSubcategory: FORTLngIss
<P>


</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 12, 1996</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
