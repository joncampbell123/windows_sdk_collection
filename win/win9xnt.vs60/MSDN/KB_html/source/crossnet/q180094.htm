

<HTML>
<HEAD>
<TITLE>How to Write an LMHOSTS File for Domain Validation </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q180094">
<META NAME="KBModify" CONTENT="1998/02/19">
<META NAME="KBCreate" CONTENT="1998/01/28">
<META NAME="Keywords" CONTENT="NTSrvWkst">
<META NAME="KBArea" CONTENT="Support; KB; crossnet">
<META NAME="Description" CONTENT="  There may be instances when you are experiencing name resolution issues on your TCP/IP network and you need to use Lmhosts files to resolve NetBIOS names. This article discusses the proper method of creating an Lmhosts file to aid in name resolutio...">
<META NAME="Product" CONTENT="Networking Issues">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QANE,QAUJ,QA9A,QDL9,QBWO,QBWN,QBWD,QBWP,QBWQ,QBW3,QAKH,QACF,QARM,QBFY,QBDM V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Write an LMHOSTS File for Domain Validation</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 19, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q180094</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation versions 3.5, 3.51, and 4.0
<LI>Microsoft Windows NT Server versions 3.5, 3.51, and 4.0
<LI>Microsoft Windows 95
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
There may be instances when you are experiencing name resolution issues on
your TCP/IP network and you need to use Lmhosts files to resolve NetBIOS
names. This article discusses the proper method of creating an Lmhosts file
to aid in name resolution and domain validation.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Use the following steps to create a properly formatted Lmhosts file:

<OL><P><LI>Using a text editor, such as Notepad.exe or Edit.com, create a file
   called Lmhosts and save it in the following folder:
<P>
<P><PRE>      Windows NT
      ----------
</PRE><P>
<P><PRE>      %SystemRoot%\System32\Drivers\Etc
</PRE><P>
<P><PRE>      Windows 95
      ----------
</PRE><P>
<P><PRE>      C:\Windows (the folder where Windows is installed)
</PRE><P>
   NOTE: The file name is Lmhosts, with no extension. If you are using
   Notepad.exe it may append .txt automatically. If it does this, you will
   need to rename the file using no extension at a command prompt.

<P><LI>Add the following entries to the Lmhosts file:
<P>
<PRE>      10.0.0.1   PDCName   #PRE #DOM:Domain
      10.0.0.1   "Domain         \0x1c"   #PRE
      10.0.0.1   "Domain         \0x1b"   #PRE

   NOTE: Spacing of these entries is imperative. Replace 10.0.0.1 with the
   IP address of your primary domain controller (PDC), PDCName with the
   NetBIOS name of your PDC, and Domain with your Windows NT domain name.
   There must be a total of 20 characters within the quotations (the domain
   name plus the appropriate number of spaces to pad up to 15 characters
   plus the backslash plus the NetBIOS hex representation of the service
   type).

   For more information, see the following article in the Microsoft
   Knowledge base:

      ARTICLE-ID: <B><A href="../winnt/q163409.htm">Q163409</A></B>
      TITLE     : NetBIOS Suffixes (16th Character of the NetBIOS Name)

</PRE><P><LI>After you add the above lines, save the file, and exit the editor.

<P><LI>From a command prompt, type the following and press ENTER:
<P>
<P><PRE>      nbtstat -R
</PRE><P>
   NOTE: The -R is case sensitive and must be upper case. After typing the
   above, you should receive the following message:
<P>
<P><PRE>      Successful purge and preload of the NBT Remote Cache Name Table.
</PRE>
<P><LI>Type the following at a command prompt and then press ENTER:
<P>
<P><PRE>      nbtstat -c
</PRE><P>
   NOTE: The -c is also case sensitive and must be lower case. After typing
   the above, you should receive a display similar to the following:
<P>
<P><PRE>      Node IpAddress: [10.0.0.5] Scope Id: []
</PRE><P>
<PRE>                   NetBIOS Remote Cache Name Table

          Name              Type       Host Address    Life [sec
      ----------------------------------------------------------
      PDCName        &lt;03&gt;  UNIQUE      10.0.0.1           -1
      PDCName        &lt;00&gt;  UNIQUE      10.0.0.1           -1
      PDCName        &lt;20&gt;  UNIQUE      10.0.0.1           -1
      Domain         &lt;1C&gt;  UNIQUE      10.0.0.1           -1
      Domain         &lt;1B&gt;  UNIQUE      10.0.0.1           -1

</PRE></OL>For more information, see the following article in the Microsoft Knowledge
base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../crossnet/q180099.htm">Q180099</A></B>
   TITLE     : Troubleshooting LMHOSTS Name Resolution Issues
</PRE> 
<PRE>Keywords          : NTSrvWkst
Version           : WinNT:3.5,3.51,4.0;Windows:95
Platform          : WINDOWS
Issue type        : kbhowto</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 19, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
