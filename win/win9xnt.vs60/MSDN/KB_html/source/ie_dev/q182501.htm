

<HTML>
<HEAD>
<TITLE>BUG: Fragment Identifiers Ignored for Links on UTF-8 pages </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q182501">
<META NAME="KBModify" CONTENT="1998/03/17">
<META NAME="KBCreate" CONTENT="1998/03/13">
<META NAME="Keywords" CONTENT="kberrmsg">
<META NAME="KBArea" CONTENT="Support; KB; ie_dev">
<META NAME="Description" CONTENT="  Hyperlinks that use fragment identifiers ( #fragment ) on the URL to identify a specific location in the target resource will fail in Internet Explorer 4.0, 4.01 (IE 4.0x) for UTF-8 pages, sometimes with the following error message:     Internet ex...">
<META NAME="Product" CONTENT="Internet Explorer (Programming)">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWA,QBV9,QAWP,QBRJ,QA01,QABI,QAAP,QAKP,QAE2,QAR4,QAMB,QAB4,QDIX,QAVZ,QBE7 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>BUG: Fragment Identifiers Ignored for Links on UTF-8 pages</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 17, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q182501</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Internet Explorer (Programming), versions 4.0, 4.01
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Hyperlinks that use fragment identifiers ("#fragment") on the URL to
identify a specific location in the target resource will fail in Internet
Explorer 4.0, 4.01 (IE 4.0x) for UTF-8 pages, sometimes with the following
error message:
<P>
<PRE>   Internet explorer cannot open the Internet site &lt;garbage&gt;.
   Make sure the address is correct and try again."

</PRE><h2>CAUSE</h2>
 
<P>
IE 4.0x parses URLs with embedded "#" symbols incorrectly for the UTF-8
code page.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
The only available workaround at this time is to use an alternative
character set (charset).
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a bug in the Microsoft products listed
at the beginning of this article. We are researching this bug and will post
new information here in the Microsoft Knowledge Base as it becomes
available.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following HTML demonstrates the problem:
<P>
<PRE>   &lt;HTML&gt;
   &lt;HEAD&gt;
      &lt;META http-equiv="Content-Type" content="text/html; charset=utf-8"&gt;
      &lt;TITLE&gt;Repro of UTF-8 Fragment Failure Bug&lt;/TITLE&gt;
   &lt;/HEAD&gt;
   &lt;BODY&gt;
      &lt;A href="#subloc1"&gt;jump down&lt;/A&gt;
      &lt;!-- ... bunch of BR's ... --&gt;
      &lt;A NAME=subloc1&gt;Many lines down&lt;/A&gt;
   &lt;/BODY&gt;
   &lt;/HTML&gt;

</PRE>Activating the hyperlink in this document generates the symptoms described
in this article--nothing happens or an error message box is shown. With the
correct behavior, Internet Explorer should scroll the document down to the
sub-location within the document.
<P>
In IE 4.0x, a page can be specified as UTF-8 in multiple ways such as the
following:

<UL><LI>With a META tag in the HTML document (as demonstrated above)

<LI>Via HTTP Content-Type header added by CGI EXE or ISAPI DLL

<LI>By specifying a default charset in the IE Fonts Dialog
<P>
</UL>All methods result in the bug described in this article.
<P>
<P><h2>REFERENCES</h2>
 
<P>
HTML 4.0 RFC 1866, subsection 7.4:
<P>
<PRE>   <B><A href="http://www.w3.org/tr/rec-html40/struct/links.html#h-12.1.1">http://www.w3.org/TR/REC-html40/struct/links.html#h-12.1.1</A></B>
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: hash bookmark #<BR>
Keywords          : kberrmsg<BR>
Technology        : kbInetDev internet<BR>
Version           : WINDOWS:4.0,4.01<BR>
Platform          : WINDOWS<BR>
Issue type        : kbbug<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 17, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
