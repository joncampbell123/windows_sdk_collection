

<HTML>
<HEAD>
<TITLE>SAMPLE: WFW Named Pipe Client </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q113190">
<META NAME="KBModify" CONTENT="1997/07/23">
<META NAME="KBCreate" CONTENT="1994/03/29">
<META NAME="Keywords" CONTENT="kb16bitonly NtwkNmPipe kbfile kbnetwork kbprg">
<META NAME="KBArea" CONTENT="Support; KB; win16sdk">
<META NAME="Description" CONTENT="  The file NPCLNT.EXE in the Microsoft Software Library demonstrates the named pipe client interface in Windows for Workgroups (WFW).  This sample provides a WFW named pipe client for the Win32 SDK named pipe sample (NPSERVER). This sample opens, rea...">
<META NAME="Product" CONTENT="Win16 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWO,QAGI,QAY5,QBV8,QAB9,QAUJ,QAPF,QAIF,QDL9,QBWN,QARL,QAM1,QBW9,QBVV,QAYL V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SAMPLE: WFW Named Pipe Client</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 23, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q113190</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.10 3.11
WINDOWS
kbnetwork kbprg kbfile
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows Software Development Kit (SDK) for Windows
   for Workgroups versions 3.1 and 3.11
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The file NPCLNT.EXE in the Microsoft Software Library demonstrates the
named pipe client interface in Windows for Workgroups (WFW).
<P>
This sample provides a WFW named pipe client for the Win32 SDK named pipe
sample (NPSERVER). This sample opens, reads, and writes to the named pipe
created by the NPSERVER application. The DosReadAsyncNmPipe API is used to
perform asynchronous reads from the server's named pipe to avoid blocking
under WFW.
<P>
NOTE: This sample has two problems.

<UL><LI>The NP callback should be in a fixed code segment in a DLL.

<LI>Memory passed to DosReadAsyncNmPipe and DosWriteAsyncNmPipe should be
   fixed and pagelocked.
<P>
</UL><h2>MORE INFORMATION</h2>
 
<P>
Care must be taken when using DosReadAsyncNmPipe or DosWriteAsyncNmPipe.
Because both APIs provide WFW a function pointer that is called at
interrupt time, only limited operations may be performed in the callback.
The WFW SDK reference states the following about the callback function:
<P>
<PRE>   Generally, the callback function can set global variables and check the
   variable specified by the pusErrCode parameter for potential errors. But
   the callback function must not modify registers or call any MS-DOS
   system functions, BIOS functions, or C run-time functions that call MS-
   DOS and BIOS functions. Although the callback function can call the
   PostMessage function, it must not call the SendMessage function.

</PRE>Also, the callback function must be exported in the application's *.DEF
file. Besides exporting, the application must call MakeProcInstance on the
function before calling the asynchronous API. Care must also be taken not
to call FreeProcInstance while a read or write is outstanding.
<P>
NPCLNT.EXE can be downloaded as a self-extracting file from the Microsoft
Software Library (MSL) on the following services:

<UL><LI>Microsoft Download Service (MSDL)
<P><PRE>      Dial (206) 936-6735 to connect to MSDL
      Download <A href="http://support.microsoft.com/download/support/mslfiles/npclnt.exe">NPCLNT.EXE</A> <I>(size: 34295 bytes)</I> 
</PRE>
<LI>Internet (anonymous FTP)
<P><PRE>      ftp ftp.microsoft.com
      Change to the \SOFTLIB\MSLFILES directory
      Get <A href="http://support.microsoft.com/download/support/mslfiles/npclnt.exe">NPCLNT.EXE</A> <I>(size: 34295 bytes)</I> 
<P></BLOCKQUOTE>
</UL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: WFW Workgroups 3.10 3.11 Named Pipe softlib<BR>
NPCLNT.EXE<BR>
DosReadAsyncNmPipe DosWriteAsyncNmPipe<BR>
KBCategory: kbnetwork kbprg kbfile<BR>
KBSubcategory: NtwkNmPipe<BR>
Keywords            : kb16bitonly NtwkNmPipe kbfile kbnetwork kbprg<BR>
Version             : 3.10 3.11<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 23, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
