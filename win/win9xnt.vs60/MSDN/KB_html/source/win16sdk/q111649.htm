

<HTML>
<HEAD>
<TITLE>BUG: Left Part of Character Is Clipped with ExtTextOut/TextOut </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q111649">
<META NAME="KBModify" CONTENT="1997/07/23">
<META NAME="KBCreate" CONTENT="1994/02/15">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; win16sdk">
<META NAME="Description" CONTENT="  The left part of a TrueType character such as an italic  f  is clipped.  CAUSE =====  There is a bug in the TextOut() and ExtTextOut() functions that occurs with complex clipping regions. In this case, GDI considers the left edge of the string to b...">
<META NAME="Product" CONTENT="Win16 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWN,QDL9,QBWO,QADF,QAEB,QABF,QBWQ,QAKP,QATX,QAGI,QBC9,QBC8,QANO,QABO,QBVV V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>BUG: Left Part of Character Is Clipped with ExtTextOut/TextOut</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 23, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q111649</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.10
WINDOWS
kbprg kbbuglist
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows Software Development Kit (SDK) for Windows
   version 3.1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The left part of a TrueType character such as an italic "f" is clipped.
<P>
<P><h2>CAUSE</h2>
 
<P>
There is a bug in the TextOut() and ExtTextOut() functions that occurs with
complex clipping regions. In this case, GDI considers the left edge of the
string to be the X coordinate used in the TextOut() or ExtTextOut() call.
This works for bitmap fonts, but not TrueType fonts because the "A" part of
a TrueType font's ABC width may be negative (as it normally is with an
italic "f").
<P>
Because this problem only occurs with complex clipping regions, the
character may appear to be randomly clipped as the clipping region changes.
For example, clipping may be tied to the presence of a dialog box or other
window over the client area, because that may create a complex clipping
region.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
An application can correct this problem by calling ExtTextOut() and passing
in a clipping rectangle that accounts for the portion of the text going to
the left of the starting point.
<P>
For example, in the following call, the string origin is offset within the
clipping rectangle so the string will not be clipped:
<P>
<PRE>   ExtTextOut(hdc, rc.left+10, // text origin (offset by 10 into cliprect)
              rc.top, ETO_CLIPPED,
              &amp;rc, "ffff", 4, NULL);

</PRE><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a bug in Windows version 3.1.
<P>
This problem does not occur in Windows 95.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Steps to Reproduce Problem</h3>
 
<P>
This problem can be reproduced in Windows Write as follows:

<OL><P><LI>Start Write.

<P><LI>Switch to the Times New Roman Italic font in a 72 point size and type
   an "f".

<P><LI>Display Write's About box and move it off of the "f". When the window is
   repainted, the left serif of the "f" will be clipped.
<P></OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: buglist3.10 3.10 sporadic<BR>
KBCategory: kbprg kbbuglist<BR>
KBSubcategory: GdiDrw<BR>
Keywords            : kb16bitonly<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 23, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
