

<HTML>
<HEAD>
<TITLE>XCON: MTA Terminates Unexpectedly with Event ID 2143 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q169701">
<META NAME="KBModify" CONTENT="1998/03/03">
<META NAME="KBCreate" CONTENT="1997/06/05">
<META NAME="Keywords" CONTENT="kbbug4.00 XCON kbusage">
<META NAME="KBArea" CONTENT="Support; KB; exchange">
<META NAME="Description" CONTENT="  The Exchange Server Message Transfer Agent (MTA) may terminate unexpectedly with events similar to the following:     Event ID:9405    Source:MSExchangeMTA    Type:Error    Category:Field Engineering    Description:    An unexpected error has occur...">
<META NAME="Product" CONTENT="Exchange">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAAP,QAB4,QAPN,QAO4,QA7R,QA4H,QAYA,QAKP,QA2O,QAGB,QABA,QAGI,QAW6,QAWI,QAR4 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>XCON: MTA Terminates Unexpectedly with Event ID 2143</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 3, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q169701</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Exchange Server version 4.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The Exchange Server Message Transfer Agent (MTA) may terminate unexpectedly
with events similar to the following:
<P>
<PRE>   Event ID:9405
   Source:MSExchangeMTA
   Type:Error
   Category:Field Engineering
   Description:
   An unexpected error has occurred which may cause the MTA to terminate.
   Error: Exception e005085f occurred at Address 77f1ccc7. [BASE XFER-IN
   18] (16)

   Event ID:2143
    Source:MSExchangeMTA
   Type:Error
   Category:Internal Processing
   Description:
   A fatal MTA database server error was encountered. Call Microsoft
   Product Support. Unrecoverable error: ODXOINIU - Object does not exist.
   About to terminate. Called from MTA. Procedure 205. Object ID: 060000BF.
   Attribute ID: 55. Attribute value number: 1. Referenced object: 00000000
   (00000000 =&gt; N/
   ). Referenced object error 0. [1 DB Server XFER-IN 18 101] (16)

   Event ID:9405
   Source:MSExchangeMTA
   Type:Error
   Category:Field Engineering
   Description:
   An unexpected error has occurred which may cause the MTA to terminate.
   Error: Error writing AAT: obj 11ea. [BASE XFER-IN 18] (16)

   Event ID:2028
   Source:MSExchangeMTA
   Type:Error
   Category:Internal Processing
   Description:
   A fatal internal MTA error occurred. Contact Microsoft Product Support
   Services. Unable to encode the message tracking event. Event node =
   Vvt07, Error code = Mandatory node cannot be omitted [BASE XFER-IN 18
   88] (16)

</PRE><h2>MORE INFORMATION</h2>
 
<P>
The faulting thread may appear similar to the following in the Drwtsn32.log
file:
<P>
<PRE>   State Dump for Thread Id 0x169

   eax=0540fbb0 ebx=00000012 ecx=0102802c edx=00000000
   esi=02729b49 edi=02729b71 eip=77f1ccc7 esp=0540fbac
   ebp=0540fc00 iopl=0       nv up ei pl zr na po nc
   cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000
   efl=00000246

   function: UnhandledExceptionFilter
        77f1ccaa 83c604         add     esi,0x4
        77f1ccad 8bc1           mov     eax,ecx
        77f1ccaf 49             dec     ecx
        77f1ccb0 85c0           test    eax,eax
        77f1ccb2 75ef           jnz     UnhandledExceptionFilter
        77f1ccb4 eb07           jmp     UnhandledExceptionFilter
        77f1ccb6 c745c000000000 mov     dword ptr [ebp-0x40],0x0
        77f1ccbd 8d45b0         lea     eax,[ebp-0x50]
        77f1ccc0 50             push    eax
        77f1ccc1 ff15a4b3f377
                                call    dword ptr [_imp__RtlAreBitsSet
   (77f3b3a4)]
   FAULT -&gt;77f1ccc7 5e             pop     esi
        77f1ccc8 8be5           mov     esp,ebp
        77f1ccca 5d             pop     ebp
        77f1cccb c21000         ret     0x10
        77f1ccce a10844f477
                                mov     eax,[BasepCurrentTopLevelFilter
   (77f44408)]
        77f1ccd3 8b4c2404       mov     ecx,[esp+0x4]
        77f1ccd7 890d0844f477
                                mov     [BasepCurrentTopLevelFilter
   (77f44408)],ecx
        77f1ccdd c20400         ret     0x4
        77f1cce0 64a100000000   mov     eax,fs:[00000000]
        77f1cce6 55             push    ebp
        77f1cce7 8bec           mov     ebp,esp
        77f1cce9 6aff           push    0xff

   *----&gt; Stack Back Trace &lt;----*

    FramePtr ReturnAd Param#1  Param#2  Param#3  Function Name
   0540fc00 0200f026 e005085f 00000000 00000000
   kernel32!UnhandledExceptionFilter
   0540fcc4 020130c4 00000010 00000026 0000085f EMSMTA!sgplinfo
   0540fdf4 0215566d 00000026 0000085f 00000000 EMSMTA!sgpminfo
   0540fe28 0216f24c 0277c306 02729b71 02729b49 EMSMTA!odpbdsta
   0540fe4c 0212a84e 0277c306 02729b71 02729b49 EMSMTA!_odpdqlok
   0540febc 020e465d 00000012 00000000 0540010f EMSMTA!otpuqrem
   0540ff04 020de672 00000012 02729b71 02729b49 EMSMTA!otpirtcf
   0540ff28 020de4e6 00000012 02729b71 02729b49 EMSMTA!otpixfok
   0540ff8c 020577a1 02729b71 02729b49 00000012 EMSMTA!otpimain
   0540ffb8 77f04f32 00000012 02729b71 02729b49 EMSMTA!sbpiwbep
   0540ffec 00000000 00000000 00000000 00000000 kernel32!BaseThreadStart
   00000000 00000000 00000000 00000000 00000000 EMSMTA!&lt;nosymbols&gt;

</PRE><h2>RESOLUTION</h2>
 
<P>
Microsoft has confirmed this to be a problem in Microsoft Exchange version
4.0.
A supported fix is now available, but has not been fully regression-tested
and should be applied only to systems experiencing this specific problem.
Unless you are severely impacted by this specific problem, Microsoft
recommends that you wait for the next Service Pack that contains this fix.
Contact Microsoft Technical Support for more information.
 
<PRE>Keywords          : kbbug4.00 XCON kbusage
Version           : WinNT:4.0
Platform          : winnt
Issue type        : kbbug
Solution Type     : kbfix</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 3, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
