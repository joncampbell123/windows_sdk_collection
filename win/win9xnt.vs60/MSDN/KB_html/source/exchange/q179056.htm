

<HTML>
<HEAD>
<TITLE>XADM: Store Stops While Processing Rule for Client </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q179056">
<META NAME="KBModify" CONTENT="1998/02/13">
<META NAME="KBCreate" CONTENT="1998/01/08">
<META NAME="Keywords" CONTENT="kbbug4.00 kbbug5.00 kbfix5.00.sp2 XADM kbusage">
<META NAME="KBArea" CONTENT="Support; KB; exchange">
<META NAME="Description" CONTENT="  The Information Store (Store.exe) may stop with a general protection fault (GPF) while processing a rule for a client.  STATUS ======  Microsoft has confirmed this to be a problem in Microsoft Exchange Server version 4.0. A supported fix is now ava...">
<META NAME="Product" CONTENT="Exchange">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QDO3,QAI4,QAR4,QAPF,QAGB,QAKP,QAZM,QAZL,QARL,QAIB,QAC1,QAYY,QAKC,QAJ6,QAUJ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>XADM: Store Stops While Processing Rule for Client</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 13, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q179056</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Exchange Server versions 4.0 and 5.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The Information Store (Store.exe) may stop with a general protection fault
(GPF) while processing a rule for a client.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Microsoft Exchange Server
version 4.0.
A supported fix is now available, but has not been fully regression-tested
and should be applied only to systems experiencing this specific problem.
Unless you are severely impacted by this specific problem, Microsoft
recommends that you wait for the next Service Pack that contains this fix.
Contact Microsoft Technical Support for more information.
<P>
Microsoft has confirmed this to be a problem in Microsoft Exchange Server
version 5.0.
This problem has been corrected in the latest U.S. Service Pack for
Microsoft Exchange Server version 5.0. For information on obtaining the
Service Pack, query on the following word in the Microsoft Knowledge
Base (without the spaces):
<P>
<PRE>   S E R V P A C K

</PRE><h2>MORE INFORMATION</h2>
 
<P>
The Dr. Watson Log may look like the following:
<P>
<PRE>   Application exception occurred:
        App: store.DBG (pid=112)
        When: 10/13/1997 @ 9:31:4.890
        Exception number: c0000005 (access violation)

   *----&gt; System Information &lt;----*
        Computer Name: STCA112A
        User Name: ExchangeService
        Number of Processors: 2
        Processor Type: x86 Family 6 Model 1 Stepping 9
        Windows Version: 4.0
        Current Build: 1381
        Current Type: Multiprocessor Free
        Registered Organization:
        Registered Owner: STCA112A

   State Dump for Thread Id 0xca

   eax=00000000 ebx=00000000 ecx=00000000 edx=08ca115c esi=08ca1008
   edi=08c9fc88
   eip=0041818d esp=08c9f8fc ebp=08c9fa8c iopl=0         nv up ei pl zr na
   po
   nc
   cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000
   efl=00000246

   function: IDLIST::EcAddId
</PRE>..
<PRE>      020041D6  8B450C           mov         eax,dword ptr [ebp+0Ch]
   FAULT -&gt; 020041E1  8B5804           mov         ebx,dword ptr [eax+4]
..

   *----&gt; Stack Back Trace &lt;----*

   FramePtr  RetAddr   Param1   Param2   Param3   Function Name
   154cf8bc  020ce683  00000006 00000000 15791c42
   STORE!IDLIST::EcAddId+0x6b
   154cf914  020e2ac5  154cf96c 154cf964 154cf984
   STORE!OMSG::EcAddRowToNeedRNTable+0x145
   154cf9c0  020e881c  00f075ac 15744fcc 15791ae4
   STORE!EcDoPostDeliveryRuleWork+0x6b9
   154cf9f8  02068553  00f075ac 15744fcc 15791ae4
   STORE!EcCompletePrivateRulesWork+0x43
   154cfa30  02005b25  00f00f04 154cfa94 0201579f STORE!OMSG::~OMSG+0x55294
   154cfa3c  0201579f  000000e9 00f75cec 000000e9 STORE!UNK::Delete+0x41
   154cfa5c  0205e77a  00f75cec 000000e9 154cfa94 STORE!EcReleaseOp+0x4a
   154cfa70  02002df8  00f75cec 154cfab0 000000e9 STORE!EcRelease+0x18
   154cfae4  02003ddc  0017c978 15743fd4 154cfb08 STORE!EcRpc+0x245
   154cfb0c  77e11841  0017c978 15743fd4 0017f02c STORE!EcDoRpc+0x3d

</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: crash hang fail<BR>
Keywords          : kbbug4.00 kbbug5.00 kbfix5.00.sp2 XADM kbusage<BR>
Version           : WinNT:4.0,5.0<BR>
Platform          : winnt<BR>
Issue type        : kbbug<BR>
Solution Type     : kbfix<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 13, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
