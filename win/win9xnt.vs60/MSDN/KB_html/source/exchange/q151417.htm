

<HTML>
<HEAD>
<TITLE>XCON: Latin-1 X.400 Bodypart Encoding Causes NDR </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q151417">
<META NAME="KBModify" CONTENT="1997/09/11">
<META NAME="KBCreate" CONTENT="1996/05/22">
<META NAME="Keywords" CONTENT="kbbug4.00 kbbug5.00 kbfix5.00.sp1 XCON kbusage buglist">
<META NAME="KBArea" CONTENT="Support; KB; exchange">
<META NAME="Description" CONTENT="  The use of ISO 8859-1 (Latin-1) as X.400 bodypart for the X.400 message text sent by Microsoft Exchange Server may result in this bodypart not being recognized by MTAs such as Digital's MAILbus 400. Therefore, no further processing, such as convers...">
<META NAME="Product" CONTENT="Exchange">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAWP,QAB4,QAAP,QAR4,QAGB,QAKP,QDO3,QBVV,QBE7,QBE6,QAA7,QAEV,QABG,QAB7,QBXS V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>XCON: Latin-1 X.400 Bodypart Encoding Causes NDR</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 11, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q151417</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Exchange Server, versions 4.0 and 5.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The use of ISO 8859-1 (Latin-1) as X.400 bodypart for the X.400 message
text sent by Microsoft Exchange Server may result in this bodypart not
being recognized by MTAs such as Digital's MAILbus 400. Therefore, no
further processing, such as conversion can occur on this message. On the
MAILbus 400 side this may result in error message similar to the following:
<P>
<PRE>   Event:Converter Unavailable

</PRE>(Please see the More Information section for the complete error log).
Eventually, a non-delivery report (NDR) will be sent back to Microsoft
Exchange Server.
<P>
<P><h2>CAUSE</h2>
 
<P>
The encoding used by Microsoft Exchange Server for the ISO 8859-1 (Latin-1)
bodypart lacks the escape sequence needed to invoke the G0 subset of the
ISO Latin 1 character set.
<P>
<P><h2>WORKAROUND</h2>
 
<P>
Do not use the ISO 8859-1 (Latin-1) bodypart if the remote message transfer
agent (MTA) is not able to decode the message without errors as sent by
Microsoft Exchange Server.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Microsoft Exchange Server
version 4.0.
A supported fix to this problem is in development, but has not been fully
regression-tested and should be applied only to systems experiencing this
specific problem. Unless you are severely impacted by this specific
problem, Microsoft recommends that you wait for the next Service Pack that
contains this fix. Contact Microsoft Technical Support for more information
on the availability of this fix.
<P>
Microsoft has confirmed this to be a problem in Microsoft Exchange Server
version 5.0.
This problem was corrected in the latest Microsoft Exchange 5.0 Server U.S.
Service Pack. For information on obtaining the service pack, query on the
following word in the Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K

</PRE><h2>MORE INFORMATION</h2>
 
<P>
Foreign MTAs may expect the ISO-8859-1 body part invoked, using four
additional characters before the actual content (1b 28 42 0f). These four
characters shall contain the escape sequence invoking the G0 subset of the
ISO Latin 1 set. ISO/IEC 10021-7 Annex B, B.2 defines the General Text
(extended) Bodypart. It refers to the G0 character set designators as
follows:
<P>
<PRE>   The defaults for the G0 and C0 character set designators are those
   assumed as designated and invoked by the ASN.1 Basic Encoding Rules (ISO
   8825) for a General String.

</PRE>The Latin-1 character set itself is defined in ISO 8859-1 and also defines
the Escape sequences as follows: ISO 8859-1, 8 Designation of the character
set
<P>
<PRE>   When required by other coding standards, for example ISO 2022 or ISO
   4873, the following pair of escape sequences shall be used: ESC 02/08
   04/02 ESC 02/13 04/01 to designate the G0 and the G1 sets, respectively.
   According to ISO 2022, the character SPACE does not require
   designation.

</PRE>ITU' s 1988 X series of recommendations also known as the Blue Book refer
to these character set designators as follows:
Rec. X.209, 23.5:
<P>
<PRE>   23.5 The octet string shall contain the octets specified in ISO 2022 for
   encodings in an 8-bit environment, using the escape sequence and
   character codings registered in accordance with ISO 2375. ..."

</PRE>The following is a sample of a resulting error as generated by Digital' s
MAILbus 400:
<P>
<PRE>   Event:Converter Unavailable
         from:Node DEC:.abc.defgh MTA
         at  :1996-12-13-14:49:07.851+01:00I-----

         Converter Name                    = "latin1toiso6937"
         Step                              = ""
         Error Log                         =
   "/var/mta/bad_msgs/latin1toiso69370008A832B15E"
   Saved Bodypart                    =
   "/var/mta/bad_msgs/isolatin10008A832B15E"
   Message Identifier                =
             [
   Country = "CH" ,
   Administration Domain = "400NET" ,
   Private Domain = "PRMD" ,
   Local Identifier = "ABCD-970113135033Z-8"
             ]
   Source                            =
             [
   Type = Domain ,
   Domain Name = "DOM88"
             ]
   Originator                        = "C=CH; A@0NET; P_ABCD;
   OU1=EXAB;OU2^; O=CDE; G=Abcd; S-efghijklmn;
   /OrganizationName_A/OrganizationalUnit_BCDEFGH/CommonName=RECIPIENTS/Com
   monName=AbcdB"
   Error                             = Conversion Failed
   # #Print the error log:
   # more /var/mta/bad_msgs/latin1toiso69370008A832B15E
   Input error - required character set not invoked prior to use
   #

</PRE>MAILbus 400 is manufactured by Digital Equipment Corp., a vendor
independent of Microsoft; we make no warranty, implied or otherwise,
regarding this product's performance or reliability.
|* and G1
 
<PRE>Keywords          : kbbug4.00 kbbug5.00 kbfix5.00.sp1 XCON kbusage buglist
Version           : 4.0 5.0
Platform          : WINDOWS
Issue type        : kbbug
Solution Type     : kbfix</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 11, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
