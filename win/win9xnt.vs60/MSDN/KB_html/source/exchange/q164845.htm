

<HTML>
<HEAD>
<TITLE>XADM: Access Violation in Srvrmax.exe During Setup </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q164845">
<META NAME="KBModify" CONTENT="1997/07/15">
<META NAME="KBCreate" CONTENT="1997/03/07">
<META NAME="Keywords" CONTENT="kbbug5.00 kbfix5.00.sp1 XADM">
<META NAME="KBArea" CONTENT="Support; KB; exchange">
<META NAME="Description" CONTENT="  During setup of Microsoft Exchange Server 5.0 (enterprise or standard), the process may terminate unexpectedly with an access violation (Dr. Watson). The Drwtsn32.log will look similar to the following:     Application exception occurred:       App...">
<META NAME="Product" CONTENT="Exchange">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAA1,QDI2,QDIZ,QA1S,QBW7,QAUJ,QAI5,QABB,QDO3,QABA,QBWP,QBWG,QBFY,QAY0,QDN9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>XADM: Access Violation in Srvrmax.exe During Setup</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 15, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q164845</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Exchange Server version 5.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
During setup of Microsoft Exchange Server 5.0 (enterprise or standard), the
process may terminate unexpectedly with an access violation (Dr. Watson).
The Drwtsn32.log will look similar to the following:
<P>
<PRE>   Application exception occurred:
      App: srvrmax.dbg (pid=161)
      When: 3/7/1997 @ 13:21:20.829
      Exception number: c0000005 (access violation)

   function: &lt;nosymbols&gt;

   *----&gt; Stack Back Trace &lt;----*

   FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
   0012de3c 00000000 004c004e 00000059 00000000 0012de5c &lt;nosymbols&gt;
   0012ffc0 77f1b26b 00000208 00000000 7ffdf000 c0000005
</PRE>srvrmax!&lt;nosymbols&gt;
<PRE>   0012fff0 00000000 00460af0 00000000 00000000 77fa5aa0
   kernel32!BaseProcessStart (FPO: Non-FPO [1,8,3])
   00000000 00000000 00000000 00000000 00000000 00000000
</PRE>srvrmax!&lt;nosymbols&gt;
<P>
NOTE: The &lt;no symbols&gt; appears because the RTL build does not have symbols
for Srvrmax.exe. This is how Drwtsn32.log will look even with Windows NT
and Microsoft Exchange symbols installed. Srvrmax.exe is really Setup.exe
on an enterprise installation; Srvrmin.exe is Setup.exe on a standard
installation.
<P>
<P><h2>CAUSE</h2>
 
<P>
The allocated buffer to hold the length of the domain's PDC name is too
small. A primary domain controller (PDC) computer name with a length of 14
characters or more will overrun the buffer and corrupt the stack, causing
heap corruption and the access violation.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
The buffer to hold the domain's PDC name was increased by two characters.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Microsoft Exchange Server
version 5.0.
This problem was corrected in the latest Microsoft Exchange Server 5.0 U.S. Service Pack. For information on obtaining the service pack, query on the
following word in the Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K

</PRE>MORE INFORMATION
 
<P>
Build 1457.10 was the original release-to-manufacturing version of
Microsoft Exchange Server version 5.0. As soon as this issue was
detected, the product was recalled and Microsoft issued Build 1457.11
as the current release to manufacturing revision of the product.
<P>
Customers impacted by this issue include only those that have obtained
Build 1457.10 through "non-channel" means. This build was only briefly
available as a download from the <B><A href="http://www.microsoft.com/exchange/">http://www.microsoft.com/exchange/</A></B> site
and could have been obtained through Microsoft's own internal servers.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: crash<BR>
Keywords            : kbbug5.00 kbfix5.00.sp1 XADM<BR>
Version             : 5.0<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 15, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
