

<HTML>
<HEAD>
<TITLE>XADM: Store Terminates Unexpectedly in CbBinlen </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q179623">
<META NAME="KBModify" CONTENT="1998/01/21">
<META NAME="KBCreate" CONTENT="1998/01/21">
<META NAME="Keywords" CONTENT="XADM kbusage">
<META NAME="KBArea" CONTENT="Support; KB; exchange">
<META NAME="Description" CONTENT="  The Microsoft Exchange information store (STORE) may terminate unexpectedly in CbBinlen.  CAUSE =====  Although the information store has reached the end of its allocated memory, the store still tries to read beyond the address, which is actually n...">
<META NAME="Product" CONTENT="Exchange">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAI4,QBFY,QAR4,QAGB,QAY5 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>XADM: Store Terminates Unexpectedly in CbBinlen</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 21, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q179623</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Exchange Server, versions 4.0, 5.0, and 5.5
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The Microsoft Exchange information store (STORE) may terminate unexpectedly
in CbBinlen.
<P>
<P><h2>CAUSE</h2>
 
<P>
Although the information store has reached the end of its allocated memory,
the store still tries to read beyond the address, which is actually not
allocated. This causes the store to terminate.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Microsoft Exchange Server
versions 4.0, 5.0, and 5.5.
A supported fix is now available, but has not been fully regression-tested
and should be applied only to systems experiencing this specific problem.
Unless you are severely impacted by this specific problem, Microsoft
recommends that you wait for the next Service Pack that contains this fix.
Contact Microsoft Technical Support for more information.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The Drwtsn32.log file may show a failure similar to the following. (Note
especially the function names listed on the stack back trace.)
<P>
<PRE>   Application exception occurred:
   App: store.DBG (pid=241)
   When: 11/12/1997 @ 15:11:24.543
   Exception number: c0000005 (access violation)

   State Dump for Thread Id 0xe4

</PRE>eax=0e2f2ff4 ebx=0000000c ecx=00000000 edx=001c5be0 esi=00000001
edi=000003a4
<PRE>eip=0206697f esp=0d10f8c8 ebp=0d10f8d4 iopl=0         nv up ei pl nz na pe
nc
</PRE>cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000
efl=00000202
<P>
function: CbBinlen
<PRE>        02066972 33db             xor     ebx,ebx
        02066974 395d0c           cmp     [ebp+0xc],ebx
</PRE>ss:0d75e1f6=????????
<PRE>        02066977 7e1a             jle     CbBinlen+0x21 (02066993)
        02066979 8b750c           mov     esi,[ebp+0xc]
</PRE>ss:0d75e1f6=????????
<PRE>        0206697c 8b4508           mov     eax,[ebp+0x8]
</PRE>ss:0d75e1f6=????????
<PRE>FAULT -&gt;0206697f 8a0418           mov     al,[eax+ebx]     ds:0000000c=??
        02066982 50               push    eax
        02066983 57               push    edi
        .....

</PRE>*----&gt; Stack Back Trace &lt;----*
FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
0d10f8d4 0200e5e9 0e2f2ff4 00000009 000003a4 00000000 store!CbBinlen [omap]
0d10f8ec 020d10ca 000004b0 0f3555b0 0d10f9bc 000003a4
store!EcCodePageConvert
<P>
[omap]
0d10fa2c 0210a45b 0f36c664 00001e93 00000001 0f43ecec store!EcModifyRulesOp
<P>
[omap]
0d10fa80 020033e4 092c0041 0f36c664 0d10fac4 00000000 store!EcModifyTable
<P>
[omap]
0d10faf8 02003ddc 105c6c18 0e2e23cc 0d10fb1c 00000497 store!EcRpc [omap]
0d10fb20 77e8eb7a 105c6c18 0e2e23cc 0ccd11e2 00000497 store!EcDoRpc [omap]
0d10fb40 77e8ea3b 02003d9f 0d10fd18 00000004 ffffffff rpcrt4!&lt;nosymbols&gt;
<PRE>                                                                 (FPO:
</PRE>[4,2,1])
0d10fe28 77e8e876 00000000 00000000 0d10ff10 0d10fe40 rpcrt4!&lt;nosymbols&gt;
.....
<P>
*----&gt; Raw Stack Dump &lt;----*
0d10f8c8  fe 2f 2f 0e 7c 29 2e 0e - 00 00 00 00 ec f8 10 0d
.//.|)..........
0d10f8d8  e9 e5 00 02 f4 2f 2f 0e - 09 00 00 00 a4 03 00 00
.....//.........
0d10f8e8  00 00 00 00 2c fa 10 0d - ca 10 0d 02 b0 04 00 00
....,...........
0d10f8f8  b0 55 35 0f bc f9 10 0d - a4 03 00 00 f4 2f 2f 0e
.U5..........//.
0d10f908  09 00 00 00 00 00 00 00 - cc 23 2e 0e ec ec 43 0f
.........#....C.
0d10f918  0c 00 00 00 68 25 13 02 - 00 00 52 00 01 00 00 00
....h%....R.....
0d10f928  24 00 00 00 cc 23 2e 0e - 70 f9 10 0d cb 71 00 02
$....#..p....q..
0d10f938  20 00 00 00 67 2b 08 02 - 18 00 00 00 1c 29 2e 0e
...g+.......)..
0d10f948  7c 91 42 0f 00 00 00 00 - 00 00 00 00 60 fa 10 0d
|.B.........`...
0d10f958  70 ae 2b 0e ff ff ff ff - 78 f9 10 0d 00 00 00 00
p.+.....x.......
.....
<P>
 
<PRE>Keywords          : XADM kbusage
Version           : WinNT:4.0,5.0,5.5
Platform          : WINDOWS
Issue type        : kbbug
Solution Type     : kbfix</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 21, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
