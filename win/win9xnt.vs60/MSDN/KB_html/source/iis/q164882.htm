

<HTML>
<HEAD>
<TITLE>Practical Recommendations for Securing Internet-Connections </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q164882">
<META NAME="KBModify" CONTENT="1998/03/11">
<META NAME="KBCreate" CONTENT="1997/03/07">
<META NAME="Keywords" CONTENT="">
<META NAME="KBArea" CONTENT="Support; KB; iis">
<META NAME="Description" CONTENT="  When you connect computers to the Internet it becomes possible to communicate with millions of people and computers world wide by using the TCP/IP protocols. This broad flexibility imposes a degree of risk: Not only can you communicate with people ...">
<META NAME="Product" CONTENT="Internet Information Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAVZ,QABI,QACK,QAGU,QBTX,QDKF,QAI5,QBWD,QBXS,QDNT,QABH,QBWS,QAQW,QBWG V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Practical Recommendations for Securing Internet-Connections</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 11, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q164882</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Internet Information Server versions 1.0, 2.0, and 3.0
<LI>Microsoft Proxy Server version 1.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
When you connect computers to the Internet it becomes possible to
communicate with millions of people and computers world wide by using the
TCP/IP protocols. This broad flexibility imposes a degree of risk: Not only
can you communicate with people and systems using the protocols that you
choose, it is also possible for users to try to initiate communication with
your systems. Most of the following recommendations assume you are using
the Microsoft Proxy Server. However, some may apply even if you do not have
a proxy server.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Review the following list to learn how to reduce security risks:

<UL><LI>If your private network runs TCP/IP, the servers Enable IP
   Forwarding check box in the Network application should not be
   selected.
<P>
   Clearing the Enable IP Forwarding check box prevents unauthorized IP
   packets from infiltrating your network. The Enable IP Forwarding
   check box is located in the Microsoft TCP/IP Properties dialog box.
   To open this, use the Network application in Control Panel.
<P>
</UL>To disable IP forwarding on Microsoft Windows NT Server version 4.0:

<OL><P><LI>From the Start menu, select Settings, and then click Control Panel.

<P><LI>In Control Panel, double-click the Network icon.

<P><LI>In the Network dialog box, click the Protocols tab, select
   TCP/IP Protocol, and then click Properties.

<P><LI>In the Microsoft TCP/IP Properties dialog box, click Routing.

<P><LI>Make sure the check box for Enable IP Forwarding is cleared.

<P><LI>Click OK, then click OK again.
<P>
</OL>WARNING: If the Windows NT Remote Access Service (RAS) is installed on
your gateway after Microsoft Proxy Server is installed, IP forwarding will
be enabled. You must disable IP forwarding after installing RAS.

<UL><LI>Block Nonessential Inbound TCP/IP Ports.
<P>
   If your Windows NT Server is highly exposed, with the mission of
   offering services like Web and FTP, then only two inbound paths
   need to exist from the router to the server: HTTP on port 80 and
   FTP on port 21. The router should block all other inbound traffic.
<P>
   If you are using the Proxy Server and have 2 netcards on your
   Computer, you can bind ONLY IPX on the Internal netcard and ONLY
   IP on the external netcard.

<LI> Disable NetBios over TCP/IP.
<P>
   By default an Internet-connected Windows NT computer will support
   two transport protocols: NetBeui and TCP/IP. Windows networking
   operations require syntax of the form of \\Name. These
   operations include directory and printer sharing, NetDDE, and
   remote administration. Connecting to a drive or editing a registry
   across the Internet requires only a mapping, in the local LMHOSTS
   file, between the remote computer's NetBIOS name and its IP address.
<P>
   You can control the use of NetBIOS over TCP/IP (NBT) by going into
   Control Panel, Network and the Bindings tab and disabling any of
   the bindings between NetBIOS-based services and TCP/IP. This way
   no one can try to remote-mount drives or remote-edit registries.
   Windows NT networking services run promiscuously over multiple
   transports; therefore, internally your computers can still talk to
   each other over the NetBEUI protocol, which does not go over the
   Internet.

<LI>Use NTFS volumes.
<P>
   The Windows NT File System (NTFS) provides security and access
   control for your data files. By using NTFS, you can limit access
   to portions of your file system for specific users and services.
   A File Allocation Table (FAT) only supports share level security.
<P>
   For safety's sake it is best to layer multiple defenses, so use
   NTFS on Internet-connected Windows NT computers. Windows NT takes the
   intersection of NTFS ACLs and share permissions, for example if
   NTFS ACLs gives a network user full access to a partition but the
   share-level permissions grant only read access, then the effective
   access is read only. If you create new shares, be sure to alter the
   default permissions assigned by Windows NT. Otherwise, by default,
   the group Everyone will have Full Control of all that is visible
   through the share.

<LI>Run only the services that you need.
<P>
   The fewer services you are running on your computer, the less
   likely a mistake will be made in administration that could be
   exploited. Use the Services application in the Control Panel to
   disable any services not absolutely necessary. Also, if FTP or
   Gopher services are not needed or used, turn off these
   services using Internet Service Manager to stop each service.

<LI>Unbind unnecessary services from your Internet adapter cards.
<P>
   Use the Bindings feature in the Network application in the Control
   Panel to unbind any unnecessary services from any network adapter
   cards connected to the Internet. For example, you might use the
   Server service to upload new images and documents from computers in
   your internal network, but you might not want users to have direct
   access to the Server service from the Internet. If you need to use
   the Server service on your private network, the Server service
   binding to any network adapter cards connected to the Internet
   should be disabled.
<P>
   You can use the Windows NT Server service over the Internet; however,
   you should fully understand the security implications and comply with
   Windows NT Server licensing requirements issues. When you are using
   the Windows NT Server service you are using Microsoft networking or
   the Server Message Block (SMB) protocol and all Windows NT Server
   licensing requirements still apply.

<LI>Check permissions set on network shares.
<P>
   If you are running the Server service on your Internet adapter
   cards, be sure to double check the permissions set on the shares you
   have created on the computer. It is also wise to double check the
   permissions set on the files contained in the shares directories to
   ensure that you have set them appropriately.

<LI>Access from Network privilege can be revoked.
<P>
   By default, Windows NT grants the group Everyone the right to Access
   from the network. By revoking this right you can block all networking
   services, but maintain support for the Web service because the Web
   server runs either as a System or Local user.

<LI>Rename and limit the membership of the Administrator group.
<P>
   Rename the Administrator account by selecting User, Rename from User
   Manager menu. By limiting the members of the Administrator group, you
   limit the number of users who might choose bad passwords.

<LI>Enforce strict account policies.
<P>
   User Manager for Domains provides configuration options called security
   policies, such as one that allows a system administrator to specify how
   quickly account passwords expire (forcing users to regularly change
   passwords), and another that determines how many bad logon attempts will
   be tolerated before a user is locked out. Use the User Manager for
</UL>Domains
<PRE>   security policies to configure the server against exhaustive or random
   password attacks.

</PRE><LI>Choose good passwords.
<P>
   Although this may seem obvious, a stolen or easily guessed password is
   the best opportunity for someone to gain access to your computer. Make
   sure that all passwords used, especially those with administrative
   rights, have difficult-to-guess passwords. In particular make sure to
   select a good administrator password (long, mixed-case, alphanumeric
   password) and set the appropriate account policies. Passwords can be set
   by using Windows NT User Manager for Domains.
<P>
   For additional information, please see Chapter 2 of the Microsoft Proxy
   Server documentation has information on the above topic.
<P>
</UL>More information on securing an Internet connected Web server can be found
in Chapter 8 of the Microsoft Internet Information Server Resource Kit.
ISBN:1-57231-638-1
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prx iis<BR>
Version           : WINNT:1.0,2.0,3.0<BR>
Platform          : winnt<BR>
Hardware          : ALPHA x86<BR>
Issue type        : kbinfo<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 11, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
