

<HTML>
<HEAD>
<TITLE>TN3270 Server Disconnects Clients When a Popup Message Occurs </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q165148">
<META NAME="KBModify" CONTENT="1998/03/19">
<META NAME="KBCreate" CONTENT="1997/03/13">
<META NAME="Keywords" CONTENT="kbbug3.00 kbfix3.00.sp1 prodsna snatn3270 kbfix3.00.sp2 kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  TN3270 Client disconnects from the TN3270 Server when a client receives a message. The message received by the client was sent by a host application from another user.  CAUSE =====  The TN3270E Server received an RQD message from the host that cont...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QDO3,QARL,QAR4,QAY2,QBWP,QAEV,QAKP,QAXB,QAAP,QAC1,QAYC,QAXC,QBVX,QBD2,QA8O V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>TN3270 Server Disconnects Clients When a Popup Message Occurs</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 19, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q165148</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:
<P>
- Microsoft SNA Server for Windows NT, version 3.0
- Microsoft SNA Server for Windows NT, version 3.0, Service Pack 1
 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
TN3270 Client disconnects from the TN3270 Server when a client receives a
message. The message received by the client was sent by a host application
from another user.
<P>
<P><h2>CAUSE</h2>
 
<P>
The TN3270E Server received an RQD message from the host that contained the
EC (End Chain) indicator. The TN3270 server sent the data to the client,
and changed its internal state to let the client have send-direction. The
TN3270 server then receives data from the client before receiving a
positive response from the client for the previous message. When the TN3270
server tries to send this data from the client across the RUI interface, it
is rejected with the error LUA_RSP_BEFORE_SENDING_REQ.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
The fix is to discard data received from the client if the client owes the
server a positive response. The TN3270 Server service has been updated to
correct this problem.
<P>
To resolve this problem, obtain the hotfix mentioned below. The updated
file is:
<P>
<PRE>   Tn3servr.exe

</PRE>A further problem in this area has been corrected in an update since
SNA Server 3.0 Service Pack 1 was released. A fix for this further problem
is available from Microsoft.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SNA Server version 3.0.
This problem was corrected in the latest Microsoft SNA Server 3.0 U.S.
Service Pack. For information on obtaining the service pack, query on
the following word in the Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K

</PRE>Microsoft has confirmed this to be a problem in SNA Server version 3.0
Service Pack 1.  For a fix to SNA Server 3.0 Service Pack 1, please
contct Microsoft.
 
<PRE>Keywords          : kbbug3.00 kbfix3.00.sp1 prodsna snatn3270 kbfix3.00.sp2 kbnetwork
Version           : 3.0
Platform          : winnt
Issue type        : kbbug
Solution Type     : kbfix</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 19, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
