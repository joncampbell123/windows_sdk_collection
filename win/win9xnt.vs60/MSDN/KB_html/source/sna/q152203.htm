

<HTML>
<HEAD>
<TITLE>SNA Server Access Violation (0xC0000005) in s1pupcds() </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q152203">
<META NAME="KBModify" CONTENT="1997/04/17">
<META NAME="KBCreate" CONTENT="1996/06/06">
<META NAME="Keywords" CONTENT="kbbug2.11 kbbug2.11.sp1 kbfix2.11.sp2 kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  SNA Server versions 2.11 and 2.11 Service Pack 1 (SNASERVR.EXE) encounter an access violation (0xC0000005) when started. Therefore, an Event 624 is logged in the Windows NT application event log.  The stack trace of the failing thread is as follows...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QDO3,QBWP,QAI4,QA1S,QAKP,QAI5,QAO4,QDN9,QACK,QBVX,QAJQ,QBG2,QAR4,QAPN,QAM1 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SNA Server Access Violation (0xC0000005) in s1pupcds()</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q152203</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT, versions 2.11 and 2.11
   Service Pack 1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
SNA Server versions 2.11 and 2.11 Service Pack 1 (SNASERVR.EXE) encounter
an access violation (0xC0000005) when started. Therefore, an Event 624 is
logged in the Windows NT application event log.
<P>
The stack trace of the failing thread is as follows:
<P>
<PRE>FramePtr  RetAddr   Param1   Param2   Param3   Function Name
</PRE>002cff10  003c2436  000011f9 00000004 0043e798 SNASERVR!s1pupcds+0xc8
002cff38  003f956d  00000000 00000000 00000004 SNASERVR!s1pucsc+0x56
002cff60  003d41f4  00403fe3 0000000b 002cffec SNASERVR!s1pusvc+0x4d
002cff64  00403fe3  0000000b 002cffec 000528d8 SNASERVR!s1pgdisp+0x64
002cff80  00404785  00cb11cc 00000001 000528d8 SNASERVR!sbpsched+0xe3
002cff84  00cb11cc  00000001 000528d8 00000000 SNASERVR!sbpgmain+0x25
002cffa8  77e31461  00000001 000528d8 00000000
SNASVC!ServiceMainFunction+0x12c
002cffb8  77f26c2a  000528d0 00000000 00000000
ADVAPI32!ScSvcctrlThreadA+0xe
002cffec  00000000  77e31453 000528d0 00000000
KERNEL32!BaseThreadStart+0x61
<P>
This server was configured with multiple 802.2 connections to the same host
system, and at least one of the connections may have been trying to
activate when the problem occurred. The customer reported that they needed
to reboot their Compaq Proliant dual-processor machine in order to get
their IBM 16/4 II adapter to initialize properly, possibly due to transient
media problems on their Token Ring LAN.
<P>
<P><h2>CAUSE</h2>
 
<P>
The SNA Server dump file indicated that the SNA Server service tried
to free a session control block which had already been freed.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
An SNA Server 2.11 hotfix to this problem is available through Microsoft
product support. The problem has also been fixed in SNA Server 3.0.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Microsoft SNA Server 2.11
and 2.11 Service Pack 1.
This problem was corrected in the latest Microsoft SNA Server 2.11 U.S.
Service Pack. For information on obtaining the service pack, query on the
following word in the Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: sp1 prodsna<BR>
Keywords            : kbbug2.11 kbbug2.11.sp1 kbfix2.11.sp2 kbnetwork<BR>
Version             : 2.11 2.11.sp1<BR>
Platform            : NT WINDOWS<BR>
Issue type          : kberrmsg<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 17, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
