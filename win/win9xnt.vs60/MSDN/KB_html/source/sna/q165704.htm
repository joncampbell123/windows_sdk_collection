

<HTML>
<HEAD>
<TITLE>Snanmvt.exe Access Violation in SNADMOD!sbpibhrl </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q165704">
<META NAME="KBModify" CONTENT="1997/04/14">
<META NAME="KBCreate" CONTENT="1997/03/24">
<META NAME="Keywords" CONTENT="kbbug2.11 kbbug2.11.sp1 kbbug3.00 kbfix3.00.sp1 kbnetwork prodsna snaserverservice">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  The SNANetMn service, which is started automatically by SNA Server to handle routing of alert messages from SNA Server to Netview, may encounter an access violation when it is dynamically stopped by SNA Server.  There may be no visible failure to t...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QDO3,QACK,QAI4,QA1S,QBW7,QAI5,QAKP,QBWP,QBWG,QAR4,QDN9,QBGA,QAC1,QBFY,QAY5 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Snanmvt.exe Access Violation in SNADMOD!sbpibhrl</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 14, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q165704</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT, version 2.11, 2.11 Service Pack 1,
   2.11 Service Pack 2, and 3.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The SNANetMn service, which is started automatically by SNA Server to
handle routing of alert messages from SNA Server to Netview, may encounter
an access violation when it is dynamically stopped by SNA Server.
<P>
There may be no visible failure to the administrator, except for problems
with SNA Server alerting to Netview, and an entry in the
&lt;Ntroot&gt;\Drwtsn32.log file, such as:
<P>
Application exception occurred:
<PRE>   App: snanmvt.DBG (pid=331)
   Exception number: c0000005 (access violation)

</PRE>&lt; data omitted &gt;
<P>
State Dump for Thread Id 0x14c
<P>
eax=00cc075c ebx=77f42119 ecx=00000000 edx=00cc0000 esi=00392d00
edi=00050005
<PRE>eip=10005018 esp=002cff2c ebp=002cffec iopl=0         nv up ei pl zr na po
nc
</PRE>cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000
efl=00000246
<P>
function: sbpibhrl
<P>
&lt;data omitted&gt;
<P>
<PRE>FAULT -&gt;10005018 c70100000000     mov     dword ptr [ecx],0x0
            ds:00000000=????????

</PRE>*----&gt; Stack Back Trace &lt;----*
<P>
FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
002cff64 00351a34 00392d00 00052868 00000001 00353976 SNADMOD!sbpibhrl
<PRE>   (FPO: [EBP 0x002cffec] [1,11,4])
</PRE>002cff74 00353976 003539b4 00000000 12990001 00cb11cc snanmvt!sbpbterm
<PRE>   (FPO: [0,0,2])
</PRE>002cff78 003539b4 00000000 12990001 00cb11cc 00000001 snanmvt!sbpgterm
<PRE>   (FPO: [2,0,0])
</PRE>002cff84 00cb11cc 00000001 00052868 00000000 00052860 snanmvt!sbpgmain
<PRE>   (FPO: [0,0,0])
</PRE>002cffa8 77e3167a 00000001 00052868 00000000 77f46c2e
snasvc!ServiceMainFunction
<PRE>   (FPO: [2,3,3])
</PRE>002cffb8 77f46c2e 00052860 00000000 00000000 00052860
advapi32!ScSvcctrlThreadA
<PRE>   (FPO: [1,0,1])
</PRE>002cffec 00000000 77e3166c 00052860 00000000 52485324
kernel32!BaseThreadStart
00000000 00000000 00000000 00000000 00000000 00000000 snanmvt!&lt;nosymbols&gt;
<P>
<P><h2>CAUSE</h2>
 
<P>
When the SnaNetMn service is stopped, the service was attempting to release
a NULL control block, leading to an access violation.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Updates to SNA Server versions 2.11, 2.11 Service Pack 1, 2.11 Service Pack
2, and 3.0 are available to correct this problem.
<P>
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SNA Server versions 2.11,
2.11 Service Pack 1, 2.11 Service Pack 2, and 3.0.
This problem was corrected in the latest Microsoft SNA Server 3.0 U.S.
Service Pack. For information on obtaining the service pack, query on
the following word in the Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K
 

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Keywords            : kbbug2.11 kbbug2.11.sp1 kbbug3.00 kbfix3.00.sp1 kbnetwork prodsna snaserverservice<BR>
Version             : 2.11 2.11.sp1 2.11.sp2 3.0<BR>
Platform            : WINDOWS<BR>
Issue type          : kbbug<BR>
Resolution Type     : kbfix<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 14, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
