

<HTML>
<HEAD>
<TITLE>Meaning of "DLCST UPSN" in a SNA Server Data Link Control Trace </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q139594">
<META NAME="KBModify" CONTENT="1997/04/17">
<META NAME="KBCreate" CONTENT="1995/11/13">
<META NAME="Keywords" CONTENT="kbinterop kbnetwork kbsetup ntprotocol">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  A special mechanism is used to track SDLC statistics in the SDLC link service. The generation of statistics is controlled by byte dataru[s+27] in the Open(LINK) request messages. An Open (LINK) request message flows between the SNA Server service a...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAE2,QACK,QAGI,QBXA,QBWS,QAMA,QAB5,QA7O,QAEV,QA2Q,QAYV,QAVX,QAVW,QAOE,QAG8 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Meaning of "DLCST UPSN" in a SNA Server Data Link Control Trace</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q139594</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT, version 2.0, 2.10, 2.11, and 3.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
A special mechanism is used to track SDLC statistics in the SDLC link
service. The generation of statistics is controlled by byte dataru[s+27] in
the Open(LINK) request messages. An Open (LINK) request message flows
between the SNA Server service and each link service whenever the SNA
Server service initializes. Its basic purpose it to set the link
characteristics. The dataru[s+27] byte is defined by the SNA Device
Interface Specification (SNADIS) as "reserved", and causes the Microsoft
written SDLC link services to generate statistic messages when set to x01.
Link services written by IHVs will ignore this byte, and therefor, not log
these link statistics in a trace.
<P>
The following trace excerpt may appear in an SNA Server Data Link Control
trace. This trace represents messages that flow between the SNA Server
service and the underlying link services:
<P>
<PRE>   ...
   DLC    04161000-&gt;01110101 DLCST UPSN
   DLC                       UPTYPE:3 UPCNTR:7 COUNT:0
   ...

</PRE>The definitions of the UPTYPE and UPCNTR fields are as follows. The COUNT
field is not used.
<P>
<PRE>UPTYPE              UPCNTR
</PRE> 
<P>
Type 1
<PRE>             1 Number of Test cmds rcvd
                  2 Number of Test rsps sent

</PRE>Type 3
<PRE>                  1 Non productive receive timeout
                  2 Idle Timeout
                  3 Write retry
                  4 Receiver character overrun
                  5 Transmitter underrun
                  6 Connection problem
                  7 FCS error
                  8 Primary station abort received
                  9 SDLC Command reject
                 10 DCE error
                 11 Write timeout
                 12 Not used
                 13 I-frame received out of sequence
                 14 I-frame discarded (primary)
                 15 No response timeout (primary)
                 16 Remote busy timeout (primary)

</PRE>Because the trace excerpt has UPTYPE = 3 and UPCNTR = 7, the observer of
the trace could conclude that this is an FCS (Frame Check Sequence) error
detected by the link service.
<P>
NOTE: The SNADIS guide can be found on the SNA Server cd in Help file
format. To find the Open(Link) Request format, do the following:

<OL><P><LI>Run SNA.HLP.

<P><LI>Select SNA Device Interface Specification.

<P><LI>Select "Chapter 4 SNA Device Interface Specification Message formats."

<P><LI>Select 4.1 Open(Link).

<P><LI>Select 4.1.1 Open(Link) Request.
<P></OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodsna<BR>
Keywords            : kbinterop kbnetwork kbsetup ntprotocol<BR>
Version             : 2.0 2.1 2.11 3.0<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 17, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
