

<HTML>
<HEAD>
<TITLE>An ATTACH May Fail When Using Set_CPIC_Side_Information </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q180791">
<META NAME="KBModify" CONTENT="1998/02/11">
<META NAME="KBCreate" CONTENT="1998/02/10">
<META NAME="Keywords" CONTENT="kbbug3.00 kbbug3.00.sp1 snacpic snaprog kbbug3.00.sp2 kbbuglist">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  When calling Set_CPIC_Side_Information xcmssi(), the parameter  Security_User_Id is 8 bytes long but the APPC layer uses 10 bytes to  store the same information. This means it will carry the last two bytes  with a value of 0x0000. In the ATTACH (FM...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QALG,QATR,QDO3,QA39,QABT,QAR4,QAGU,QAKP,QBW5,QANY,QAJQ,QA4H,QAML,QAD7,QASC V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>An ATTACH May Fail When Using Set_CPIC_Side_Information</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 11, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q180791</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server, versions 3.0, 3.0 SP1, 3.0 SP2
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When calling Set_CPIC_Side_Information xcmssi(), the parameter 
Security_User_Id is 8 bytes long but the APPC layer uses 10 bytes to 
store the same information. This means it will carry the last two bytes 
with a value of 0x0000. In the ATTACH (FMH-5) message, trailing spaces 
(0x40 EBCDIC) will be removed and the actual length of the 
Security_User_Id value will be set on the Information Field.
<P>
If Security_User_Id is less than 8 bytes, it will be padded with spaces 
and the APPC layer will carry &lt;Security_User_Id&gt; + Space(s) + 0x0000.
What this means is that the ATTACH will carry all bytes BEFORE the first 
space and it will be accepted by the remote end.
<P>
If Security_User_Id is equal to 8 bytes, there won't be any padding and 
the APPC layer will carry &lt;Security_User_Id&gt; + 0x0000. The ATTACH will 
carry all bytes BEFORE the first Space, in that case &lt;Security_User_Id&gt;
+ 0x0000. Because this won't match the user id on the remote end, the 
ATTACH will fail.
<P>
When using the SNA Server Manager to configure CPIC Symbolic Destination 
Names, the User ID and Password parameters are correctly padded with 
spaces up to 10 bytes before passing them to the APPC layer.
<P>
<P><h2>CAUSE</h2>
 
<P>
The Set_CPIC_Side_Information (xcmssi) function accepts an 8 byte user 
ID and password and these needed to be blank padded to 10 bytes before 
handing to the APPC layer.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SNA Server versions 3.0, 
3.0 SP1, and 3.0 SP2.
A supported fix is now available, but has not been fully regression-tested 
and should be applied only to systems experiencing this specific problem. 
Unless you are severely impacted by this specific problem, Microsoft
recommends that you wait for the next Service Pack that contains this fix. 
Contact Microsoft Technical Support for more information.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
This problem does not exist in the retail version of SNA Server 4.0.
 
<PRE>Keywords          : kbbug3.00 kbbug3.00.sp1 snacpic snaprog kbbug3.00.sp2 kbbuglist
Version           : WINDOWS:3.0,3.0SP1,3.0SP2
Platform          : WINDOWS
Issue type        : kbbug
Solution Type     : kbfix</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 11, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
