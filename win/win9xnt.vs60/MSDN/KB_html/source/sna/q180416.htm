

<HTML>
<HEAD>
<TITLE>APPC or CPI-C TPs May Fail When Using Dependent LU 6.2 Sessions </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q180416">
<META NAME="KBModify" CONTENT="1998/02/04">
<META NAME="KBCreate" CONTENT="1998/02/03">
<META NAME="Keywords" CONTENT="kbbug3.00 kbbug3.00.sp1 snaappc snacpic snaprog snatp kbbug3.00.sp2 kbbug4.00 kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  An APPC or CPI-C application may fail to get an active conversation with a host if a previous conversation over the same Local APPC LU has ended. For example, if there was a conversation over local LU LOCAL1 and remote LU REMOTE1, an APPC or CPI-C ...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAJQ,QDO3,QBVV,QBGP,QAR4,QANN,QAGI,QAGY,QAM1,QAAW,QAKP,QDKA,QAJ6,QA62,QAXC V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>APPC or CPI-C TPs May Fail When Using Dependent LU 6.2 Sessions</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 4, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q180416</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server versions 3.0, 3.0 Service Pack 1 (SP1), 3.0SP2,
   and 4.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
An APPC or CPI-C application may fail to get an active conversation with a
host if a previous conversation over the same Local APPC LU has ended. For
example, if there was a conversation over local LU LOCAL1 and remote LU
REMOTE1, an APPC or CPI-C application may fail to get an active
conversation over local LU LOCAL1 and remote LU REMOTE2 even if the
previous conversation has ended.
<P>
When this occurs, the APPC or CPI-C application call to [MC_]ALLOCATE or
CMALLC never completes because SNA Server has not unbound the previous
dependent LU/LU session before attempting to solicit a bind to a different
Remote APPC LU.
<P>
NOTE: This does not occur when you use Independent LU 6.2 sessions.
<P>
<P><h2>CAUSE</h2>
 
<P>
SNA Server is not ending the previous dependent APPC session by sending an
UNBIND to the host. This causes any additional APPC sessions over the same
local APPC LU and different remote APPC LUs to fail to get active
conversations until the first APPC session is shut down.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SNA Server versions 3.0,
3.0 SP1, 3.0 SP2, and 4.0.
A fix to this problem is available, but has not been regressiontested  and
may be destabilizing in production environments. Microsoft does not
recommend implementing this fix at this time. Contact Microsoft Product
Support Services for more information on the availability of this fix.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The SNA Server service has been updated so that it will unbind the initial
dependent APPC session if it is not active when it receives a request to
open a new APPC session over the same local APPC LU and a different remote
APPC LU.
 
<PRE>Keywords          : kbbug3.00 kbbug3.00.sp1 snaappc snacpic snaprog snatp kbbug3.00.sp2 kbbug4.00 kbnetwork
Version           : WINDOWS:3.0,3.0SP1,3.0SP2,4.0
Platform          : WINDOWS
Hardware          : ALPHA x86
Issue type        : kbbug
Solution Type     : kbfix</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 4, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
