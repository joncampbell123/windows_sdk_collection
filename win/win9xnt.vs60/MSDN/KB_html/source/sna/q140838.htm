

<HTML>
<HEAD>
<TITLE>SNA Server Win3x Client Tracing Text File Copied to SNA Clients </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q140838">
<META NAME="KBModify" CONTENT="1996/02/01">
<META NAME="KBCreate" CONTENT="1995/12/11">
<META NAME="Keywords" CONTENT="kbnetwork kbbug2.11">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  During installation of an SNA Server Win3x client, the TRACES.TXT file is installed to the                 \ directory. When troubleshooting, this allows you to quickly enable client-side tracing by adding the needed entries by cutting and pasting ...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QARL,QA9N,QA7Y,QAJ9,QDNN,QBFY,QBWN,QAVZ,QAMB,QAFI,QAA1,QDIT,QBXB,QA3A,QATJ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SNA Server Win3x Client Tracing Text File Copied to SNA Clients</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 1, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q140838</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT, version 2.11
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
During installation of an SNA Server Win3x client, the TRACES.TXT file is
installed to the &lt;SNA_Win3x_root&gt;\ directory. When troubleshooting, this
allows you to quickly enable client-side tracing by adding the needed
entries by cutting and pasting from that file because the file is already
on the client computer. (This eliminates the need to type the entries by
copying them from the SNA Server Administrator's Guide or having to have
access to the SNA Server compact disc that contains this file, too.)
The more information section shows the content of the TRACES.TXT file.
<P>
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
File contents of TRACES.TXT:
<P>
<P><h2>I. ENABLING SNA SERVER WIN3.X CLIENT TRACING:</h2>
 

<OL><P><LI>Load the WIN.INI file into a text editor.
</OL>2. Locate the [WNAP] section of the file.
3. Copy and Paste the following example trace entries to enable all tracing
options. Refer to page 259 of the SNA Server Administration Guide for
specific syntax conventions and tracing options.
<P>
;***********************************************************
;***************BEGINNING OF SNA SERVER TRACING*************
;***********************************************************
<P>
; FLIPLENGTH:
; [size in bytes] Controls how large each SNA Server trace
; file can grow (default: 250,000). If two trace file names
; are specified, SNA Server traces wrap between two trace
; files so the hard disk does not fill up.
<P>
Fliplength=250000
<P>
; TRACE FLUSHING:
; If you are investigating a problem that may cause your
; system to go down, be sure to include TraceFlushing=on, so ; that trace
information will be written to disk as soon as ; it is generated.
TraceFlushing=off disables trace
; flushing.
<P>
TraceFlushing=on
<P>
; INTERNAL TRACING:
; Enables activity within a software component of SNA
; Server. This applies to wnap.exe and SNA applications.
; Valid values are 0-16. 0 is full internal tracing while
; 16 disables internal tracing. NOTE: Refer to step
; 5 below for further instructions on internal tracing.
<P>
InternalTraceLevel=0
InternalTraceFile1=c:\int1.trc
InternalTraceFile2=c:\int2.trc
<P>
; MESSAGE TRACING:
; Traces messages passed into and out of a software
; component of SNA Server, including messages sent to and
; received from the SNA network. This applies to wnap and
; SNA applications.
<P>
InternalMessageTraceState=on
FMITraceState=on
PVITraceState=on
MessageTraceFile1=c:\msg1.txt
MessageTraceFile2=c:\msg2.trc
<P>
; API TRACING:
; Traces information passed into and out fo an SNA Server
; DLL, such as WINAPPC.DLL, as the DLL communicates with the
; application.
<P>
APITraceFile1=c:\api1.trc
APITraceFile2=c:\api2.trc
<P>
;APPC api tracing
<P>
APPCTraceState=on
<P>
;CSV api tracing
<P>
CSVTraceState=on
<P>
;RUE api tracing
<P>
RUITraceState=on
<P>
;HLLAPI api tracing
<P>
HLLAPITraceState=on
<P>
;CPIC api tracing
<P>
CPICTraceState=on
<P>
;***********************************************************
;***************END OF SNA SERVER TRACING ******************
;***********************************************************

<OL><P><LI>Save the WIN.INI file as plain (ASCII) text (that is, avoid saving the
</OL>file in a special format specific to the text editor).

<OL><P><LI>If Internal tracing is being enabled continue to step 6.

<P><LI>To enable Internal tracing:
<P>
</OL>a. On the client computer, back up the following files by copying them to a
different directory:
<P>
<PRE>   WindowsRoot\SYSTEM\WDMOD.DLL
   WindowsRoot\SYSTEM\LMCLI.DLL
   WindowsRoot\SYSTEM\NWCLI.DLL
   WindowsRoot\SYSTEM\BVCLI.DLL
   WindowsRoot\SYSTEM\IPCLI.DLL
   SNAroot\WNAP.EXE

</PRE></OL>You will need to restore these files to their original location after you
finish with tracing on the client.
<P>
b. Access the installation medium (SNA Server CD or network share) for
client software:
<P>
To access the CD, insert it in a CD-ROM drive. To access the network share,
connect to it. (For information about how to create a share for
installation of clients over the network, see: Chapter 3 of the Microsoft
SNA Server Installation Guide.)
<P>
c. Change to the appropriate directory on the CD or network share:
<P>
On the CD, change to the \CLIENTS\WIN3X\TRACE directory.
On the network share, change to the \WIN3X\TRACE directory.
<P>
d. Copy the appropriate files to the hard disk of the client computer, as
described in the following table:
<P>
<PRE>Type of tracing   Source file on or          Destination directory on
                  the CD or network          the hard disk of the client
                  share                      computer
</PRE> 
<PRE>Message or API    WDMOD.DLL                  WindowsRoot\SYSTEM
Internal          LMCLI.DLL                  WindowsRoot\SYSTEM
                  NWCLI.DLL                  WindowsRoot\SYSTEM
                  BVCLI.DLL                  WindowsRoot\SYSTEM
                  IPCLI.DLL                  WindowsRoot\SYSTEM
                  WNAP.EXE                   SNAroot

</PRE>Note that internal tracing is intended for the use of product-support
technicians; interpreting these traces requires a specialized knowledge
base.
<P>
e. Remove the CD from the drive, or disconnect from the network share.
f. Restart the SNA Server software and the Windows version 3.x software.
<P>
As trace files are created, they are stored in the path(s) specified by the
lines in the WIN.INI file.
<P>
<P><h2>II. DISABLING SNA SERVER WIN3.X CLIENT TRACING:</h2>
 

<OL><P><LI>Load the WIN.INI file into a text editor.
</OL>2. Locate the [WNAP] section of the file.
3. Add, modify, or remove lines under the [WNAP] section heading.
4. Save the WIN.INI file as plain (ASCII) text (that is, avoid saving the
file in a special format specific to the text editor).
5. Stop the SNA Server software and the Windows version 3.x software.
6. If Internal tracing was enabled, continue to step 7.

<OL><P><LI>To disable Internal tracing:
<P>
</OL>a. Locate the copies of the files that were backed up during the preceding
procedure. The filenames are as follows:
<P>
<PRE>   WDMOD.DLL
   LMCLI.DLL
   NWCLI.DLL
   BVCLI.DLL
   IPCLI.DLL
   WNAP.EXE

</PRE></OL>b.Copy the files to destination directions as follows:
<P>
<PRE>Filename      Destination directory on the
              hard disk of the client computer
</PRE> 
<P>
<PRE>WDMOD.DLL      WindowsRoot\SYSTEM
LMCLI.DLL      WindowsRoot\SYSTEM
NWCLI.DLL      WindowsRoot\SYSTEM
BVCLI.DLL      WindowsRoot\SYSTEM
IPCLI.DLL      WindowsRoot\SYSTEM
WNAP.EXE       SNAroot

</PRE>c.Restart the SNA Server software and the Windows version 3.x software.
<P>
<P><h2>STATUS</h2>
 
<P>
This feature is included in the latest U.S. Service Pack for SNA Server for
Windows NT, version 2.11. For information on obtaining the Service Pack,
query on the following word in the Microsoft Knowledge Base (without the
spaces):
<P>
<PRE>   S E R V P A C K
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbnetwork kbbug2.11<BR>
KBSubcategory: ntnetserv<BR>
Additional reference words: prodsna 2.11<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 1, 1996</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
