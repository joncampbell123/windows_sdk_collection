

<HTML>
<HEAD>
<TITLE>SNA Server Does Not Resource Locate to Active APPC Connection </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q131068">
<META NAME="KBModify" CONTENT="1995/11/01">
<META NAME="KBCreate" CONTENT="1995/06/02">
<META NAME="Keywords" CONTENT="kbnetwork kbsetup kbinterop">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  The SNA Server WinAPPC engine may display  Primary rc=0003 Secondary rc=00000004  or  Primary rc=0003 00000005  when trying to connect to an SNA Server domain with the following configuration:   - Two or more SNA Servers that have peer connections ...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAI5,QBG2,QACK,QARL,QBVX,QA9A,QAIM,QAMA,QAGI,QAJQ,QBW3,QBWP,QBBI,QA5E,QANN V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SNA Server Does Not Resource Locate to Active APPC Connection</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 1, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q131068</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT, versions 2.0, 2.1, and 2.11
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The SNA Server WinAPPC engine may display "Primary rc=0003 Secondary
rc=00000004" or "Primary rc=0003 00000005" when trying to connect to
an SNA Server domain with the following configuration:

<UL><LI>Two or more SNA Servers that have peer connections to the same host
   resource (same remote LU name), and have Local LUs that are each a
   "Member of the default outgoing local appc LU pool". One of the SNA
   server's connections is active and the other server's connection is
   inactive or pending.
<P>
   If it is inactive, then "Primary rc=0003 Secondary rc=00000004" is
   displayed; if it is pending, then "Primary rc=0003 00000005" is
   displayed.

<LI>The client that is attempting to connect to this domain, specifies only
   the Remote LU and lets the SNA Server domain resource locate to the
   appropriate SNA Server.
<P>
</UL><h2>CAUSE</h2>
 
<P>
An SNA Server client creates a service table by first contacting the SNA
Server domain. The service table is comprised of all available SNA Servers
in the domain that can service requests from SNA Server applications. The
SNA Server client tries each SNA Server in the service table in numeric
order until it finds one SNA Server that can satisfy the client's request
(using the Remote LU specified by the client application). Because the
service table list is generated randomly, the available SNA Servers can end
up in any order numerically. SNA Server uses the second entry it finds in
the list when it attempts to allocate an APPC conversation.
<P>
Therefore, in the failing case, the SNA Server with the active connection
must be first in the service table, and the SNA Server with the inactive
connection will end up further down the list. When the client fails on the
second inactive connection, SNA Server doesn't resource locate to any other
servers in the service table.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SNA Server 2.1. This
problem was corrected in SNA Server version 2.11.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbnetwork kbsetup kbinterop<BR>
KBSubcategory: ntprotocol<BR>
Additional reference words: prodsna 2.00 2.10 2.11<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 1, 1995</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
