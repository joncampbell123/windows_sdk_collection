

<HTML>
<HEAD>
<TITLE>SNA Server Client Error 629 or 546 when Using Named Pipes </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q122552">
<META NAME="KBModify" CONTENT="1997/10/20">
<META NAME="KBCreate" CONTENT="1994/11/07">
<META NAME="Keywords" CONTENT="ntconfig ntinterop kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  When you use the SNA Server Windows 3.x client software configured to use the SNA Server Microsoft Networking (Named Pipes) Interface, the SNA client component (WNAP.EXE) may fail to start and the following error messages may appear (using both the...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWO,QBWP,QARL,QAB4,QA9A,QAAP,QBWD,QAI5,QBTX,QBVV,QAUJ,QBVX,QDIZ,QBWS,QAH6 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SNA Server Client Error 629 or 546 when Using Named Pipes</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 20, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q122552</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT, versions 2.0, 2.1, 2.11, 2.11sp1,
   and 3.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you use the SNA Server Windows 3.x client software configured to use
the SNA Server Microsoft Networking (Named Pipes) Interface, the SNA client
component (WNAP.EXE) may fail to start and the following error messages may
appear (using both the 5250 emulator and 3270 emulator):
<P>
<P><h3>Using 5250 Emulator</h3>
 
<P>
<PRE>   SNA Server Error: 629  No SNA Server configuration broadcast received

   -or-

   SNA Server Error: 546  Cannot establish connection with SNA Server
   &lt;servername&gt;.


</PRE><h3>Using 3270 Emulator</h3>
 
<P>
<PRE>   SNA Server Error: 629  No SNA Server configuration broadcast received

   -or-

   SNA Server Error: 546  Cannot establish connection with SNA Server
   &lt;servername&gt;.

   Error: The NAP is not started.

</PRE>NOTE: When these error messages appear, the SNA Server client icon
(WNAP.EXE) is gray when it loads at the bottom of the screen, and it
disappears when the error messages appear.
<P>
<P><h2>CAUSE</h2>
 
<P>
Error 629 occurs when the client cannot find an SNA Server in the local
domain. Apart from networking problems, this error may occur if the Local
Domain option is selected, and the Workgroup field of the Control Panel
Network applet displays a value other than the intended Domain name.
<P>
Each of the following can cause error 546:

<UL><LI>You are using Windows for Workgroups 3.11 and the computer is configured
   to use Microsoft IPX/SPX compatible transport (the default).

<LI>The client cannot open a session to the server.

<LI>You do not have access rights on the Windows NT server.

<LI>You are running SNA Server 2.11 and you have only one seat configured in
   the License Server.
<P>
</UL>Using Windows for Workgroups 3.11 and Microsoft IPX/SPX Compatible
Transport to Access a Windows NT Server
 
<P>
For for complete details about the problem using Windows for Workgroups
3.11 and IPX/SPX compatible transport to access a Windows NT 3.5 server,
query on the following words in the Microsoft Knowledge Base:
<P>
<PRE>   SNA and 546 and NWLINK

</PRE><h3>Client Cannot Open a Session to the Server</h3>
 
<P>
If you select the Remote Domain option while installing the SNA Server
client, you are prompted to enter the primary or backup SNA Server
name. If the client cannot open a session to one of these SNA Servers
(for example, if the server name was not entered correctly, or if an
underlying network connection problem exists), the SNA client displays
error 546.
<P>
<P><h3>The Client Does Not Find an SNA Server in the Domain</h3>
 
<P>
When the SNA Server client software is configured to use the Local Domain
option, the client software sends a NetBIOS broadcast message to the domain
and listens for a broadcast response from any server in the domain. If the
client's workgroup name and/or domain name is different than the domain
name of the SNA Server, the server will not see this message. On a Windows
for Workgroups client, ensure that the Enterprise Network option to Log on
to Windows NT or LAN Manager Domain is selected in the Networks option in
Control Panel, and that the Domain name is correct. In addition, if the
client and server are separated by a router, and this router does not pass
NetBIOS broadcasts (such as with an IP router), this will also fail.
<P>
<P><h3>The User Does Not Have Access Rights on the Windows NT Server</h3>
 
<P>
Once the client computer locates the server, the SNA Server client software
attempts to open a named pipe session with the server. If the user does not
have rights to open a session to the server, the open request fails.
<P>
NOTE: The cause of the error messages above is different when the system
runs on NetWare IPX/SPX, Banyan IP, or TCP/IP. Refer to the appropriate
documentation describing possible causes of this error when you are using
these other SNA Server client connection options.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To correct this problem, do the following:

<UL><LI>Make sure that the Workgroup entry in the Control Panel Network applet
   dialog box contains the local domain name if the Local Domain option is
   selected.

<LI>If the client does not find an SNA Server in the local domain, run the
   SNA Server client setup program and configure the client for the Remote
   Domain option, and provide the name of an SNA Server in the domain you
   want to connect to.
<P>
   NOTE: When connecting over TCP/IP and there is a router separating the
   SNA Server and the client, the Windows for Workgroups computer requires
   a method of resolving NetBIOS names to an IP address. If you are using
   the real mode TCP/IP stack, an LMHOSTS file or a Windows Internet Name 
   Service (WINS) server may be used. (To use the WINS server with the
   real mode stack, you must be using the real mode TCP/IP stack shipped
   with Windows NT version 3.5.)

<LI>If the user does not have access rights on the Windows NT server, grant
   the user access to the Windows NT computer where SNA Server is running.
   You can do this either through a specific user account or by enabling
   the Guest account.

<LI>If Windows for Workgroups 3.11 is being used and the Microsoft IPX/SPX
   compatible transport is installed, add "Directhost=no" (without the
   quotation marks) to the [network] section of SYSTEM.INI file on the
   Windows for Workgroups 3.11 client computer, and then reboot the
   computer.

<LI>If you are running SNA Server 2.11 and you have only one seat configured
   in the License Server, increase the number of seats to the number of
   clients you will have plus one seat.
<P>
</UL>The third-party products discussed here are manufactured by vendors
independent of Microsoft; we make no warranty, implied or otherwise,
regarding these products' performance or reliability.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: wfw wfwg prodsna<BR>
Keywords          : ntconfig ntinterop kbnetwork<BR>
Version           : 2.0 2.1 2.11 3.0<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 20, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
