

<HTML>
<HEAD>
<TITLE>SLI_SEND Fails To Complete, Causing Win32 SLI App To Hang </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q174468">
<META NAME="KBModify" CONTENT="1998/03/19">
<META NAME="KBCreate" CONTENT="1997/09/29">
<META NAME="Keywords" CONTENT="kbbug3.00 kbbug3.00.sp1 prodsna snalua snaprog kbfix3.00.sp2">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  A Win32 SLI application may hang waiting for an SLI_SEND to complete. This may occur if the host has sent an UNBIND on the session, which causes the SLI library to issue an RUI_TERM.  MORE INFORMATION  A client side trace will show the following da...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAGI,QAGB,QAD7,QAJ6,QALZ,QDO3,QDJO,QAUD,QAGC,QAAZ,QAJH,QBWP,QA58,QAYY,QARL V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SLI_SEND Fails To Complete, Causing Win32 SLI App To Hang</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 19, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q174468</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT, versions 3.0 and 3.0sp1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
A Win32 SLI application may hang waiting for an SLI_SEND to complete. This
may occur if the host has sent an UNBIND on the session, which causes the
SLI library to issue an RUI_TERM.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
A client side trace will show the following data flow:
<P>
<PRE>   ---------------------------------------------- 08:18:08.05
   SLI_RECEIVE request
   ---------------------------------------------- 08:18:08.06
   RUI_READ response
   OK - OK
   (Unbind received on this response)
   ---------------------------------------------- 08:18:08.06
   RUI_READ request
   ---------------------------------------------- 08:18:08.06
   SLI_RECEIVE response
   OK - OK
   (client receives message signoff is successful in data flow)
   ---------------------------------------------- 08:18:08.06
   SLI_SEND request
   ---------------------------------------------- 08:18:08.06
   RUI_TERM request
   ---------------------------------------------- 08:18:08.07
   RUI_WRITE request
   ---------------------------------------------- 08:18:08.07
   RUI_WRITE response
   CANCELLED - TERMINATED
   ---------------------------------------------- 08:18:08.08
   SLI_SEND response
   IN_PROGRESS - OK
   ---------------------------------------------- 08:18:08.08
   RUI_READ response
   CANCELLED - TERMINATED
   ---------------------------------------------- 08:18:08.08
   RUI_READ response
   CANCELLED - TERMINATED
   ---------------------------------------------- 08:18:08.08
   RUI_READ response
   CANCELLED - TERMINATED
   ---------------------------------------------- 08:18:08.08
   RUI_TERM response
   OK - OK
   ---------------------------------------------- 08:18:08.09
   SLI_BID post
   SESSION_FAILURE - 00000055

</PRE>CAUSE
 
<P>
SNA Server's Winsli32.dll does not return the SLI_SEND Post response
to the SLI application after an RUI_TERM is sent and this causes the
application to hang.
<P>
RESOLUTION
 
<P>
Microsoft has updated Winsli32.dll so that it returns all outstanding SLI
verbs to the application when a session fails.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SNA Server version 3.0 and
3.0sp1.  This problem was corrected in the latest SNA 
Server version 3.0 U.S. Service Pack. For information on obtaining this 
Service Pack, query on the following word in the Microsoft Knowledge Base 
(without the spaces):
<P>
<PRE>   S E R V P A C K
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: sli hang<BR>
Keywords          : kbbug3.00 kbbug3.00.sp1 prodsna snalua snaprog kbfix3.00.sp2<BR>
Version           : 3.0 3.0sp1<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 19, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
