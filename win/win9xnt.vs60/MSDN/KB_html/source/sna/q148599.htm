

<HTML>
<HEAD>
<TITLE>Dependent LU6.2 Session Fails With Event ID 14: INITSELF </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q148599">
<META NAME="KBModify" CONTENT="1997/04/17">
<META NAME="KBCreate" CONTENT="1996/03/15">
<META NAME="Keywords" CONTENT="kbnetwork ntnetserv snaappc">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  When an SNA Server starts a dependent LU6.2 session to a host system, the SNA Server sends an INITSELF command to solicit a BIND command from the host. If there is a configuration mismatch between the SNA Server and the host (VTAM and subsystem, su...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAUJ,QAHH,QARM,QAH4,QBXN,QDN1,QAHG,QBWP,QA2P,QAYV,QAO4,QAIJ,QAAW,QAGI,QDO3 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Dependent LU6.2 Session Fails With Event ID 14: INITSELF</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q148599</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT, versions 2.0, 2.1, 2.11 Service
   Pack 1, and 3.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When an SNA Server starts a dependent LU6.2 session to a host system, the
SNA Server sends an INITSELF command to solicit a BIND command from the
host. If there is a configuration mismatch between the SNA Server and the
host (VTAM and subsystem, such as CICS) or if the host application is
temporarily unavailable, then the host sends a negative response to the
INITSELF command and the SNA Server logs a sense code in the Windows NT
application event log:
<P>
<PRE>   Event ID: 14
   Description: APPC session activation failure: INITSELF negative response
   received.

      Sense data   = &lt;sense code&gt;
      Connection   = &lt;connection name&gt;
      LU alias     = &lt;Local LU alias&gt;
      PLU alias    = &lt;Remote LU alias&gt;
      Mode name    = &lt;mode name&gt;
      LU address   = &lt;Locaddr of Local LU&gt;

</PRE>NOTE: This event may start occurring after applying SNA Server 2.11 Service
Pack 1 due to a change in the BIND verification for dependent APPC LU
sessions.  See below for more information.
<P>
<P><h2>CAUSE</h2>
 
<P>
An APPC session fails to start because the host has rejected the SNA
INITSELF request sent to initiate the session. The data contains more
information about the reason for the rejection. A common sense code which
may be returned if a configuration mismatch exists is "1003xxxx", where
1003 indicates "Function Not Supported" and xxxx subcode indicates the
sense code specific information.
<P>
Under SNA Server versions 2.0, 2.1 and 2.11, SNA Server does not check the
local dependent APPC LU name received in a host BIND command. Under these
versions, SNA Server simply checks if the host BIND contains the same User
Request Correlation (URC) field that SNA Server specified in the preceding
INIT-SELF command. However, to correct an SNA Server Admin problem which
this caused (see KB article <B><A href="../sna/q140835.htm">Q140835</A></B>), the SNA Server 2.11 Service Pack 1
version will now reject a host BIND request on a dependent APPC LU session
if the Local APPC LU name does not match the SLU name received in the BIND.
This change in behavior will only be seen if the local APPC LU name is
misconfigured (i.e. if it does not match the VTAM LU macro name for the
dependent APPC LU).
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To correct this problem, do the following (assuming that CICS is being
used):

<OL><P><LI>The SNA Server Local APPC LU name must match the VTAM LU macro name
  (the LU name configured in the VTAMLST) and the CICS "Netname."

<P><LI>The SNA Server Local APPC LU network name must match the VTAM NETID.

<P><LI>The SNA Server Local APPC LU address (which is between 01-255 for
   dependent APPC LU's) must match the VTAM LU LOCADDR parameter.

<P><LI>The SNA Server APPC mode name must match the VTAM LU DLOGMOD name.

<P><LI>The SNA Server Remote APPC LU name and Uninterpreted LU name must
   match the CICS APPLID and VTAM APPLID (or ACBNAME).

<P><LI>The SNA Server Remote APPC LU network name must match the VTAM NETID
   where CICS is running.
<P>
</OL>NOTE: The Local and Remote APPC LU alias names are only used by local
APPC or CPIC applications (alias names are not sent between systems).
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
All the Sense Codes are listed in Chapter 9 of the IBM SNA Formats Guide
(IBM document GA27-3136).
<P>
For more information in configuring independent and dependent LU6.2 and
APPC for different IBM platforms (including CICS, AS/400, APPC/MVS, and
APPC/VM), see the Multi-Platform APPC Configuration Guide (IBM document
SV40-0089). This document is available on the APPC Forum (GO APPC) in
CompuServe as MPCONT.ZIP.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodsna<BR>
Keywords            : kbnetwork ntnetserv snaappc<BR>
Version             : 2.0 2.1 2.11 3.0<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 17, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
