

<HTML>
<HEAD>
<TITLE>Unix FTP Clients Get 1 Line at a Time w/ SNA Server AFTP Gateway </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q162764">
<META NAME="KBModify" CONTENT="1997/04/17">
<META NAME="KBCreate" CONTENT="1997/01/28">
<META NAME="Keywords" CONTENT="kbbug2.11 kbbug2.11.sp1 kbfix2.11.sp2 kbnetwork snaaftp kbbuglist">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  When you issue FTP commands from a Unix computer through the SNA Server FTP- AFTP gateway, the Unix screen will display one line at a time. In a multiline response from the SNA Server, you must press the Enter key for each successive line of text. ...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAUD,QDO3,QBW9,QBXT,QA5V,QAIB,QAR4,QAI4,QARL,QACK,QBWP,QBVW,QBFY,QAY2,QAU3 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Unix FTP Clients Get 1 Line at a Time w/ SNA Server AFTP Gateway</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q162764</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server, versions 2.11 and 2.11 Service Pack 1 (SP1)
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you issue FTP commands from a Unix computer through the SNA Server FTP-
AFTP gateway, the Unix screen will display one line at a time. In a
multiline response from the SNA Server, you must press the Enter key for
each successive line of text.  MS-DOS and Windows clients work fine. The
same Unix computer will work fine against the Windows NT Server FTP
service.
<P>
<P><h2>CAUSE</h2>
 
<P>
The following is a sample packet from the SNA Server AFTP Gatway Service.
The byte sequence "0A 0A" is where the Unix client stops displaying.
<P>
<PRE>00000030                    32 32 30 20 70 65 6C 61 62 30       220.pelab0
</PRE>00000040  30 32 20 57 69 6E 64 6F 77 73 20 4E 54 20 46 54 02.Windows.NT.FT
00000050  50 20 53 65 72 76 65 72 20 28 56 65 72 73 69 6F P.Server.(Versio
00000060  6E 20 33 2E 35 29 2F 20 41 46 54 50 20 47 61 74 n.3.5)/.AFTP.Gat
00000070  65 77 61 79 2E 0A 0A 09 45 6E 74 65 72 20 0A 0A eway....Enter...
00000080  09 09 3C 75 73 65 72 6E 61 6D 65 3E 40 3C 41 46 ..&lt;username&gt;@&lt;AF
00000090  54 50 20 61 64 64 72 65 73 73 3E 0A 0A 20 09 61 TP.address&gt;....a
000000A0  74 20 55 73 65 72 20 70 72 6F 6D 70 74 20 74 6F t.User.prompt.to
000000B0  20 63 6F 6E 6E 65 63 74 20 76 69 61 20 74 68 65 .connect.via.the
000000C0  20 41 46 54 50 20 47 61 74 65 77 61 79 0A 0A 0D .AFTP.Gateway...
<PRE>000000D0  0A                                              .

</PRE>The SNA Server AFTP Gateway service was not sending a carriage return (0D
hex) at the end of each line of text.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Apply the fix referenced below. A carriage return (/r) was added to the
data stream at the end of each line of text (along with the newline [/n]
for clients needing it).
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SNA Server versions 2.11
and 2.11 Service Pack 1 (SP1).
A supported fix is now available for 2.11 sp1, but has not been fully
regression-tested and should be applied only to systems experiencing this
specific problem. Unless you are severely impacted by this specific
problem, Microsoft recommends that you wait for the next Service Pack that
contains this fix. Contact Microsoft Product Support Services for more
information.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodsna<BR>
Keywords            : kbbug2.11 kbbug2.11.sp1 kbfix2.11.sp2 kbnetwork snaaftp kbbuglist<BR>
Version             : 2.11<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 17, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
