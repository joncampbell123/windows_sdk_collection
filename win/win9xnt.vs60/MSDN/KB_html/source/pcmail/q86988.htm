

<HTML>
<HEAD>
<TITLE>X400: How MTAs Initiate and Communicate </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q86988 ">
<META NAME="KBModify" CONTENT="1997/10/20">
<META NAME="KBCreate" CONTENT="1992/07/21">
<META NAME="Keywords" CONTENT="MailGWX400 kb3rdparty">
<META NAME="KBArea" CONTENT="Support; KB; pcmail">
<META NAME="Description" CONTENT="  The X.400 message transfer agent (MTA) is an application-level protocol. For the MTA to initiate and communicate, the lower level communications must first be established. The MTA then proceeds with the protocols used to transfer mail from end to e...">
<META NAME="Product" CONTENT="PC Mail">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBE6,QBE7,QAGI,QATR,QAI5,QAH6,QBG2,QASC,QA3Q,QA5M,QASP,QAA3,QBXE,QBVW,QA7O V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>X400: How MTAs Initiate and Communicate</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 20, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q86988 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.00
MS-DOS
kb3rdparty
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Mail Gateway to X.400, version 3.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The X.400 message transfer agent (MTA) is an application-level protocol.
For the MTA to initiate and communicate, the lower level communications
must first be established. The MTA then proceeds with the protocols used
to transfer mail from end to end.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The seven layers of the OSI stack are involved in establishing
communication between the MTAs.
<P>
<PRE>Application     |Generic and specific support  |
Presentation    |Transfer syntax support       |  X.400 gateway
Session         |Dialogue control              |
Transport       |End-to-end quality            |
</PRE> 
<PRE>Network         |End-to-end routing            |
Data Link       |Flow control                  |  X.25 card
Physical        |Hardware                      |

</PRE>The communication begins with a request for a connection at the lower
level: the X.400 gateway requests a connection with the X.25 link.
<P>
The X.25 links to another X.25 link with a hardware connection. The
card provides for a hardware and flow control connection at the two
lowest levels.
<P>
The network level uses the X.121 address to initiate and establish an
X.25 link. This operation is performed entirely within the Eicon X.25
card.
<P>
As shown in the X.400 log file:
<P>
14:52:49 Requesting Transport connection to &lt;&gt;
14:52:49 Outgoing X.25 call request:
<PRE>  xm[ 15] A8832000 27671010 05020065 616E31             .. .'g.....ean1
  14:52:49 Incoming X.25 call connected:
  rv[ 14] A8832000 27671010 05020342 0808               .. .'g.....B..

</PRE>Once the network level has established communication, the X.400 log file
shows there has been an X.25 connection. The transport layer initiates
a request for connection. The TSAP may or may not be used for
confirmation.
<P>
14:52:49 Outgoing CR TPDU:
<PRE> xm[ 10] 09E00000 010000C0 0109                        ..........
</PRE>14:52:50 Incoming CC TPDU:
<PRE> rv[ 10] 09D00100 EA0B00C0 0108                        ..........

</PRE>After the transport layer has established communication, the session
layer then requests a connection that may or may not include the SSAP:
<P>
14:52:50 Outgoing CN SPDU:
<PRE> xm[ 98] 0D60011C 0A051403 4353490B 13171139 32303530  .`......CSI....92050
         39313435 3234392D 30373030 05091301 00160101  9145249-0700........
         1A010014 020249C1 31312FA0 03800100 A1288001  ......I.11/......(..
         00810101 82010084 0101A31A A018A116 80107767  ..................wg
         632E6D69 63726F73 6F66742E 6361A102 1600      c.microsoft.ca....
</PRE>14:52:51 Incoming AC SPDU:
<PRE> rv[ 85] 0E53011E 09051403 4353490B 13171139 32303530  .S......CSI....92050
         39313435 3234392D 30373030 0C000509 13010016  9145249-0700........
         01011A01 00140202 49C12231 20A00380 0100A119  ........I."1 .......
         80010081 0101A211 A00FA10D 80076561 6E2E7562  ..............ean.ub
         63A10216 00                                   c....

</PRE>The session layer confirms the connection and then passes the
communications to the presentation, then to the application layer. The
application layer uses the X.400 protocol (RTS, Reliable Transfer
Server) to ensure that data reaches the destination free of errors.
Once all the RTS parameters are negotiated, the MTAS are considered to
be connected:
<P>
14:52:51 Connected to MTA: ean.ubc
<P>
At this point, data transmission proceeds:
<P>
14:52:51 Transmitting Message via X.400: 00001448
14:52:51 Outgoing AS SPDU:
<PRE> xm[  7] 2D052903 020101                               -.)....
</PRE>14:52:53 Outgoing AE SPDU:
<PRE> xm[  5] 29032A01 31                                   ).*.1
</PRE>14:53:18 Incoming AEA SPDU:
<PRE> rv[ 10] 2A082A06 30303030 3031                        *.*.000001
</PRE>14:53:18 Outgoing FN SPDU:
<PRE> xm[  5] 09031101 01                                   .....
</PRE>14:53:18 Incoming DN SPDU:
<PRE> rv[  2] 0A00                                          ..
</PRE>14:53:18 X.400 connection released
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.00 pcmail<BR>
KBCategory: kb3rdparty<BR>
KBSubcategory: MailGWX400<BR>
Keywords          : MailGWX400 kb3rdparty<BR>
Version           : 3.00<BR>
Platform          : MS-DOS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 20, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
