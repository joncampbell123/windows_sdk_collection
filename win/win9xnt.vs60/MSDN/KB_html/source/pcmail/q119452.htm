

<HTML>
<HEAD>
<TITLE>PC DirSync: No Requestor Updates to Send </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q119452">
<META NAME="KBModify" CONTENT="1996/06/04">
<META NAME="KBCreate" CONTENT="1994/08/16">
<META NAME="Keywords" CONTENT="kbenv">
<META NAME="KBArea" CONTENT="Support; KB; pcmail">
<META NAME="Description" CONTENT="  During the T1 phase of directory synchronization (Dir-Sync), the requestor may not send any updates to the Dir-Sync server, even though address changes have occurred at the postoffice.  The DIRSYNC.LOG file on that postoffice may contain the follow...">
<META NAME="Product" CONTENT="PC Mail">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAKC,QBC6,QAG8,QA3P,QBWS,QBCU,QAXB,QDNW,QAML,QBXJ,QADK,QAWN,QDKI,QANY,QAJH V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PC DirSync: No Requestor Updates to Send</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  June 4, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q119452</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Mail for PC Networks, version 3.2
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
During the T1 phase of directory synchronization (Dir-Sync), the requestor
may not send any updates to the Dir-Sync server, even though address
changes have occurred at the postoffice.
<P>
The DIRSYNC.LOG file on that postoffice may contain the following status at
T1 time, indicating that all transactions at the postoffice are being
ignored:
<P>
<PRE>   No requestor updates to send

</PRE><h2>CAUSE</h2>
 
<P>
The ReqSync number in the REQCONF.GLB file on the postoffice may be higher
than the transaction number in the REQTRANS.GLB file. You can use the LISTQ
utility to determine the transaction number and you can use the LISTDS
utility to determine the ReqSync number. Both the LISTQ utility and the
LISTDS utility are included with Application Note WA0725, "Directory
Synchronization (Dir-Sync)."
<P>
You can obtain this Application Note from the following sources:

<UL><LI>Microsoft's World Wide Web Site on the Internet
<LI>The Internet (Microsoft anonymous ftp server)
<LI>The Microsoft Network (MSN)
<LI>Microsoft Download Service (MSDL)
<LI>Microsoft Product Support Services
<P>
</UL>For more information about how to obtain this Application Note, please see
the following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../pcmail/q96060.htm">Q96060</A></B>
   TITLE     : PC DirSync: WA0725: Directory Synchronization (Dir-Sync)

</PRE><h2>RESOLUTION</h2>
 
<P>
<P><h3>Case 1: Problems with Non-Dir-Sync Server Requestors</h3>
 
<P>
If this problem occurs on a postoffice that is not the Dir-Sync server:

<OL><P><LI>Start the Mail Administrator program (ADMIN.EXE) and select Config, Dir-
   Sync, Requestor, Export.

<P><LI>Run the LISTQ utility to dump the contents of the REQTRANS.GLB file and
   determine the transaction number (sync number) for the last transaction.

<P><LI>Run the LISTDS utility to display the contents of the REQCONF.GLB file
   on the Dir-Sync server. Determine the ReqSync number.

<P><LI>Transactions in REQTRANS.GLB that have a transaction number less than
   the ReqSync number noted in step 3 will be ignored. The transaction
   number in REQTRANS.GLB can be increased by repeatedly performing a
   Config, Dir-Sync, Requestor, Export.
<P>
   Doing repeated exports may not be feasible if the ReqSync number
   determined in step 3 is very high. In this case, use the RESYNC.GLB as
   follows:
<P>
   a. Use the IMPORT utility with the -S option to create a RESYNC.GLB file
<P><PRE>      on the Dir-Sync server postoffice.
</PRE><P>
   b. Copy the RESYNC.GLB file to the problem postoffice and run IMPORT
<P><PRE>      with -Q option. RESYNC.GLB is a generic file that can be applied to
      any requestor.
</PRE><P>
   When you run IMPORT to process the RESYNC.GLB file, the REQSYNC,
   SRVSYNC, and IMPORTSYNC options in the REQCONF.GLB file are updated with
   the sync numbers in the header transaction in the RESYNC.GLB file.
   REQTRANS.GLB is also updated with the last confirmed sync number
   transaction.
<P>
   The administrator at the requestor postoffice should use RESYNC.GLB
   before adding any transactions at the postoffice. If transactions have
   already been added, they should be re-added because RESYNC.GLB will
   change the ReqSync number in the REQCONF.GLB. As a result, transactions
   in REQTRANS.GLB that have a lower number than ReqSync will be ignored.
<P>
</OL>If using RESYNC.GLB does not resolve the problem, you can resolve the
situation by performing a Dir-Sync reset for that requestor postoffice as
follows:

<OL><P><LI>On the server postoffice, run the Mail Administrator program. Select
   Config, Dir-Sync, Server, Requestors and delete and re-add the requestor
   record.

<P><LI>On the requestor postoffice, run the LISTDS utility as follows:
<P>
<P><PRE>      listds admin -ppassword -ddrive -r -z
</PRE>
<P><LI>Create a zero-byte REQTRANS.GLB file in the GLB subdirectory of the
   postoffice. You can use the TYPE NUL&gt;REQTRANS.GLB command to create a
   zero-byte file.

<P><LI>Run the Mail Administrator program. Select Config, Dir-Sync, Requestor,
   Types and reset the types of names propagated. Select Config, Dir-Sync,
   Requestor, Export to re-export the address list.
<P>
</OL><h3>Case 2: Problems with the Dir-Sync Server Requestor</h3>
 
<P>
When this problem occurs on the Dir-Sync server postoffice:

<OL><P><LI>From the Mail Administrator program, select Config, Dir-Sync, Requestor,
   Export.

<P><LI>Run the LISTQ utility to dump the contents of the REQTRANS.GLB file and
   determine the transaction number (sync number) for the last transaction.

<P><LI>Run the LISTDS utility to display the contents of the REQCONF.GLB file
   on the Dir-Sync server. Determine the ReqSync number.

<P><LI>Transactions in REQTRANS.GLB that have a transaction number less than
   the ReqSync number noted in step 3 will be ignored. The transaction
   number in REQTRANS.GLB can be increased by repeatedly performing a
   Config, Dir-Sync, Requestor, Export.
<P>
   Doing repeated exports may not be feasible if the ReqSync number
   determined in step 3 is very high. If this is the case, you should call
   Microsoft Product Support Services and send in you REQCONF.GLB and
   SRVCONF.GLB files to have the files reset.
<P>
</OL><h2>MORE INFORMATION</h2>
 
<P>
REQTRANS.GLB is the directory synchronization transaction file that
contains the transactions on that postoffice. Each transaction has a
transaction number or sync number associated with it.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.20 admin<BR>
KBCategory: kbenv kbappnote<BR>
KBSubCategory: MailPCDirSync<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  June 4, 1996</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
