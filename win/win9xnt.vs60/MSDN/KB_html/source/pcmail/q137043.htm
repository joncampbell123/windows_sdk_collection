

<HTML>
<HEAD>
<TITLE>SMTP: Benchmarking the SMTP Gateway </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q137043">
<META NAME="KBModify" CONTENT="1997/10/20">
<META NAME="KBCreate" CONTENT="1995/09/19">
<META NAME="Keywords" CONTENT="">
<META NAME="KBArea" CONTENT="Support; KB; pcmail">
<META NAME="Description" CONTENT="  This article is intended to give you an idea of the volume of mail this gateway can theoretically move for inbound mail and outbound mail. This information will help you set the proper expectations of this gateway in high volume environments, or wh...">
<META NAME="Product" CONTENT="PC Mail">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAYC,QAMR,QAU3,QACE,QAFH,QAZA,QAA7,QAEV,QBVW,QADN,QAEF,QALY,QANJ,QABN,QBV0 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SMTP: Benchmarking the SMTP Gateway</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 20, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q137043</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.00
MS-DOS
kb3rdparty
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Mail Gateway to SMTP, version 3.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article is intended to give you an idea of the volume of mail this
gateway can theoretically move for inbound mail and outbound mail. This
information will help you set the proper expectations of this gateway in
high volume environments, or when a disproportionate amount of mail moves
into, or out of, the postoffice.
<P>
The tests were conducted with the following assumptions:

<UL><LI>All messages are the same size (537 bytes) with no attachments.

<LI>There is no traffic on the Microsoft Mail for PC Networks postoffice
   (PO) or the Smart Host---no file contention with users or other
   message transfer agent (MTA), nor does the Connection Attempts
   Options (-q) come into play.

<LI>The MS-DOS workstation running the gateway does not experience any
   network fluctuations.
<P>
</UL><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Outbound</h3>
 
<P>
When you move mail from the Microsoft Mail environment to SMTP, there are
three obvious variables: the Wait Option, the actual time it takes to send
mail, and how many messages move per cycle. A cycle begins with a wait
state and ends with a wait state. A limit of six messages is sent outbound
during each cycle.
<P>
Below are examples of how changing the Wait Option will increase or
decrease the volume of mail moving out of the SMTP gateway. A large wait
time will decrease the amount of time available for outgoing mail; thus, it
limits the amount of outbound mail.
<P>
<P><h3>Factors</h3>
 
<PRE>Wait Option (Sec)         120    (default)
Time to send msg. (sec)      2.5
Mail per cycle         6
Wait time per cycle (sec)      105
Active Time per cycle (sec)      15
               Hours   Days
Time period (Sec)           86,400    24   1

Waiting for Inbound Mail (Sec)   75,600   21   87.5%
Active gateway time (Sec)      10,800    3   12.5%
            =======
Messages Sent over 24 hour period   1,800

</PRE><h3>Factors</h3>
 
<PRE>Wait Option (Sec)         15
Time to send msg. (sec)      2.5
Mail per cycle         6
Wait time per cycle (sec)      0
Active Time per cycle (sec)      15
               Hours   Days
Time period (Sec)           86,400    24   1

Waiting for Inbound Mail (Sec)   0   0   0.0%
Active gateway time (Sec)   86,400    24   100.0%
            =======
Messages Sent per Time period   14,400

</PRE><h3>Factors</h3>
 
<PRE>Wait Option (Sec)         600
Time to send msg. (sec)      2.5
Mail per cycle         6
Wait time per cycle (sec)      585
Active Time per cycle (sec)      15
               Hours   Days
Time period (Sec)         86,400    24   1

Waiting for Inbound Mail (Sec)   84240   23.4   97.5%
Active gateway time (Sec)      2,160    0.6   2.5%
            ====
# Message Sent per Time period   360

</PRE>Per the factors above, if you change the -W option, it has a substantial
impact on the volume of mail moved out of the gateway. Inversely, this will
affect the availability of inbound messages. Depending on how much mail
needs to be sent, or which way it needs to be sent, this option will
determine how you configure your gateway.
<P>
However, there is one more issue that should be addressed. Receiving mail,
unlike sending mail, does not limit how many messages may be received
during a cycle. (This is not possible to configure on the SMTP host.) In
theory, once a connection is made messages will be received indefinitely.
Therefore, the setting of the command-line options makes no difference.
<P>
<P><h3>Inbound</h3>
 
<P>
Below is a table showing the maximum volume of inbound messages based on
the same size message.
<P>
<P><h3>Factors</h3>
 
<PRE>Wait Option (Sec)            120   Default
Time to receive msg. (sec)         2.5
Messages per cycle         Unlimited
Checking for mail per cycle (sec)      0
Receive Mail per cycle (sec)                300
                  Hours   Days
Time period (Sec)              86,400    24   1

Time spent checking for mail per day (Sec)   0   0   0.0%
Time Spent Receive mail (Sec)        86,400    24   100.0%

# Message received per Time period        34,560
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.00<BR>
KBCategory: kb3rdparty<BR>
KBSubcategory: MailGWSMTP<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 20, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
