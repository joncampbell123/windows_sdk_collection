

<HTML>
<HEAD>
<TITLE>Packet Filter Driver Blocks All Non-proxy Requests </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q174785">
<META NAME="KBModify" CONTENT="1997/12/17">
<META NAME="KBCreate" CONTENT="1997/10/06">
<META NAME="Keywords" CONTENT="kbusage pxsconfig kbfaq">
<META NAME="KBArea" CONTENT="Support; KB; proxysvr, axsf, winnt, iis, mcis">
<META NAME="Description" CONTENT="  The packet filter driver in Proxy Server version 2.0 blocks all non-proxy requests to and from the Proxy Server.  CAUSE =====  This only occurs when packet filtering is selected (enabled). The packet filter driver will not block applications that u...">
<META NAME="Product" CONTENT="Proxy Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QDKF,QAKG,QDJP,QBW9,QAGI,QBWS,QA2Q,QAU9,QANN,QAHC,QBWD,QAY2,QATS,QBVW,QAPP V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Packet Filter Driver Blocks All Non-proxy Requests</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  December 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q174785</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Proxy Server version 2.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The packet filter driver in Proxy Server version 2.0 blocks all
non-proxy requests to and from the Proxy Server.
<P>
<P><h2>CAUSE</h2>
 
<P>
This only occurs when packet filtering is selected (enabled). The
packet filter driver will not block applications that use any of the
proxy services. Instead, the dynamic packet filter feature will
automatically open the requested ports for these applications.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
If you run applications that access the Internet on the same computer
that is running Proxy Server, you need to configure static filters.
<P>
To add a custom or pre-defined static filter:

<OL><P><LI>Under Shared Services, click Security and select Add.

<P><LI>Select one of the pre-defined packet filters or use a sample from
   the list of packet filters below to create a custom packet filter.
<P>
   The Local Host and Remote Host parameters can be adjusted to allow
   connections to or from selected IP addresses.
<P>
</OL><h3>Common Packet Filters</h3>
 
<P>
FTP Server IN (Filter 1 of 2)
Protocol = TCP
Direction = IN
Local Port = 21
Remote Port = Any
<P>
FTP Server OUT (Filter 2 of 2)
Protocol = TCP
Direction = OUT
Local Port = 20
Remote Port = Any
<P>
HTTP Server (Port 8080)
(Note, there is a pre-defined filter for port 80)
Protocol = TCP
Direction = IN
Local Port = 8080
Remote Port = Any
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
For additional information on packet filters, please see the "Setting
Security Parameters" chapter in the Microsoft Proxy Server version 2.0
documentation. This article will be updated periodically with new
packet filter examples.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: frequently asked questions faq prx2faq<BR>
Keywords          : kbusage pxsconfig kbfaq<BR>
Version           : 2.00<BR>
Platform          : winnt<BR>
Hardware          : ALPHA x86<BR>
Issue type        : kbprb<BR>
Solution Type     : kbworkaround<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  December 17, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
