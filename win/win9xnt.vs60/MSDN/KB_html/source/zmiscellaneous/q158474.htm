

<HTML>
<HEAD>
<TITLE>Windows 95 TCP/IP Registry Entries </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q158474">
<META NAME="KBModify" CONTENT="1998/03/16">
<META NAME="KBCreate" CONTENT="1996/10/31">
<META NAME="Keywords" CONTENT="kbenv kbnetwork msnets win98 win95">
<META NAME="KBArea" CONTENT="Support; KB; win98x">
<META NAME="Description" CONTENT=" IMPORTANT: This article contains information about editing the registry. Before you edit the registry, you should first make a backup copy of the registry files (System.dat and User.dat). Both are hidden files in the Windows folder.   This article d...">
<META NAME="Product" CONTENT="win98x">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBBI,QABA,QBWD,QAKC,QAYY,QAP2,QBC6,QAKD,QAUJ,QDL9,QBWO,QBWN,QAG8,QDNT,QAH6 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Windows 95 TCP/IP Registry Entries</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 16, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q158474</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
********************************************************************
<PRE>     BETA INFORMATION  BETA INFORMATION  BETA INFORMATION  BETA

     This article discusses a Beta release of a Microsoft
     product. The information in this article is provided as-is
     and is subject to change without notice.

     No formal product support is available from Microsoft for
     this Beta product. For information about obtaining support
     for a Beta release, please see the documentation included
     with the Beta product files, or check the Web location
     from which you downloaded the release.

     BETA INFORMATION  BETA INFORMATION  BETA INFORMATION  BETA
</PRE>********************************************************************
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows 95
<LI>Microsoft Windows 98
</UL> 
<P>
IMPORTANT: This article contains information about editing the registry.
Before you edit the registry, you should first make a backup copy of the
registry files (System.dat and User.dat). Both are hidden files in the
Windows folder.
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article documents the Windows 95 registry entries for the TCP/IP
protocol. For more information about Windows 95 TCP/IP settings, see
the Win95rk.hlp file in the Admin\Reskit\Helpfile folder on the Windows
95 CD-ROM.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
WARNING: Using Registry Editor incorrectly can cause serious problems
that may require you to reinstall Windows 95. Microsoft cannot guarantee
that problems resulting from the incorrect use of Registry Editor can be
solved. Use Registry Editor at your own risk.
<P>
NOTE: For information about how to edit the registry, view the Changing
Keys And Values online Help topic in Registry Editor (Regedit.exe). Note
that you should make a backup copy of the registry files (System.dat and
User.dat) before you edit the registry.
<P>
The Value entries described in this article do not normally exist in the
Windows 95 registry; they must be added to the following registry key:
<P>
<PRE>   Hkey_Local_Machine\System\CurrentControlSet\Services\VxD\MSTCP

</PRE><h3>Values</h3>
 
<P>
BroadcastAddress = broadcast address in hexadecimal
<P>
Data Type: DWORD
<P>
Specifies the address to use for NetBIOS name query broadcasts. The
default is based on the IP address and the subnet mask.
<P>
BcastNameQueryCount = integer
<P>
Data Type: DWORD
<P>
Specifies the number of times the system will retry NetBIOS name query
broadcasts. The default is 3.
<P>
BcastQueryTimeout = milliseconds
<P>
Data Type: DWORD
<P>
Specifies the period of time the system will wait before timing out
broadcast name queries. The minimum value is 100. The default is 750.
<P>
BSDUrgent = 0 or 1
<P>
Data Type: DWORD
<P>
If this value is 1, it specifies that Microsoft TCP/IP is to treat
urgent data the way some UNIX systems do (with a maximum of 1 byte of
urgent data, for example). If this value is 0, it specifies that the
stack is to handle urgent data as specified by RFC 1122. The default is
1.
<P>
CacheTimeout = milliseconds
<P>
Data Type: DWORD
<P>
Specifies how long NetBIOS names are cached. The minimum is 60,000
milliseconds (1 minute). The default is 360,000 milliseconds (6
minutes).
<P>
DeadGWDetect = 0 or 1
<P>
Data Type: DWORD
<P>
Specifies whether Microsoft TCP/IP will use another gateway if the
current default gateway seems to be down. The default is 1.
<P>
DefaultRcvWindow = 16-bit number
<P>
Data Type: DWORD
<P>
Specifies the default receive window advertised by TCP. The default is
8192.
<P>
DefaultTOS = 8-bit number
<P>
Data Type: DWORD
<P>
Specifies the default type of service (TOS) for IP packets initiated by
Microsoft TCP/IP. The default is 0.
<P>
DefaultTTL = 8-bit number
<P>
Data Type: String
<P>
Specifies the default time to live (TTL) for IP packets from Microsoft
TCP/IP. The default is 32.
<P>
DnsServerPort = port
<P>
Data Type: DWORD
<P>
Specifies which DNS server port to send queries to when resolving a name
using DNS. The default is 53.
<P>
EnableProxy = 0 or 1
<P>
Data Type: DWORD
<P>
If this value is 1, it specifies that this computer is a WINS proxy
agent. The default is 0.
<P>
EnableRouting = 0 or 1
<P>
Data Type: DWORD
<P>
Specifies whether to enable static routing. Microsoft TCP/IP does not
supply a routing protocol, so all route table entries must be entered
using the route command. The default is 0.
<P>
IGMPLevel = 0, 1, or 2
<P>
Data Type: DWORD
<P>
Specifies the level of support allowed for IP multicast, corresponding
to the levels in RFC 1112. The default is 2.
<P>
InitialRefreshT.O. = milliseconds
<P>
Data Type: DWORD
<P>
Specifies the interval over which to contact WINS to refresh the name.
The minimum is 16 minutes, and the maximum is approximately 50 days
(0xFFFFFFFF). The default is 960,000 milliseconds (16 minutes).
<P>
KeepAliveTime = milliseconds
<P>
Data Type: String
<P>
Specifies the connection idle time in milliseconds before TCP will begin
sending keepalives, if keepalives are enabled on a connection. The
default is 2 hours (7,200,000).
<P>
KeepAliveInterval = 32-bit number
<P>
Data Type: DWORD
<P>
Specifies the time in milliseconds between retransmissions of
keepalives, once the KeepAliveTime has expired. Once KeepAliveTime has
expired, keepalives are sent every KeepAliveInterval milliseconds until
a response is received, up to a maximum of MaxDataRetries before the
connection is aborted. The default is 1 second (1000).
<P>
LmhostsTimeout = milliseconds
<P>
Data Type: DWORD
<P>
Specifies the period of time the system will wait before timing out when
seeking LMHOSTS for name resolution. The minimum value is 1000 (1
second). The default is 10,000 (10 seconds).
<P>
MaxConnections = 32-bit number
<P>
Data Type: DWORD
<P>
Specifies the maximum number of concurrent connections. The default is
100.
<P>
MaxConnectRetries = Number
<P>
Data Type: String
<P>
Specifies the number of times a connection attempt (SYN) will be
retransmitted before giving up. The initial retransmission timeout is 3
seconds, and it is doubled each time up to a maximum of 2 minutes. The
default is 3.
<P>
MaxDataRetries = 32-bit number
<P>
Data Type: String
<P>
Specifies the maximum number of times a segment carrying data or an FIN
will be retransmitted before the connection is aborted. The
retransmission timeout itself is adaptive and will vary according to
link conditions. The default is 5.
<P>
NameServerPort = port
<P>
Data Type: DWORD
<P>
Specifies the UDP port on the name server to which to send name queries
or registrations. The default is 137.
<P>
NameSrvQueryCount = integer
<P>
Data Type: String
<P>
Specifies the number of times the system will try to contact the WINS
server for NetBIOS name resolution. The default is 3.
<P>
NameSrvQueryTimeout = milliseconds
<P>
Data Type: DWORD
<P>
Specifies how long the system waits before timing out a name server
query. The minimum is 100. The default is 750.
<P>
NameTableSize = integer
<P>
Data Type: DWORD
<P>
Specifies the maximum number of names in the NetBIOS name table. The
minimum allowable value is 1 and the maximum is 255. The default is 17.
<P>
NodeType = 1, 2, 4, or 8
<P>
Data Type: DWORD
<P>
Specifies the mode of NetBIOS name resolution used by NetBIOS over
TCP/IP, where 1 = b-node, 2 = p-node, 4 = m-node, and 8 = h-node. This
value can be configured using DHCP. The default is 1 (b-node) if no
value is specified; if WINS servers are specified and NodeType is not,
the default is 8 (h-node).
<P>
PMTUBlackHoleDetect = 0 or 1
<P>
Data Type: DWORD
<P>
Specifies whether the stack will attempt to detect Maximum Transmission
Unit (MTU) routers that do not send back ICMP fragmentation-needed
messages. Setting this parameter when it is not needed can cause
performance degradation. The default is 0.
<P>
PMTUDiscovery = 0 or 1
<P>
Data Type: DWORD
<P>
Specifies whether Microsoft TCP/IP will attempt to perform path MTU
discovery as specified in RFC 1191. The default is 1.
<P>
RandomAdapter = 0 or 1
<P>
Data Type: DWORD
<P>
For a computer with multiple network adapters, specifies whether to
respond with an IP address selected randomly from the set of addresses
on the computer or whether to return the IP address of the adapter that
the request came in upon. The default is 0 (not random; that is, return
the address of the adapter that the request came in upon).
<P>
RoutingBufSize = 32-bit number
<P>
Data Type: DWORD
<P>
Specifies the total amount of buffer space to allocate for routing
packets. This parameter is ignored if EnableRouting=0. The default is
73,216.
<P>
RoutingPackets = 32-bit number
<P>
Data Type: DWORD
<P>
Specifies the maximum number of packets that can be routed
simultaneously. This parameter is ignored if EnableRouting=0. The
default is 50.
<P>
SessionKeepAlive = milliseconds
<P>
Data Type: DWORD
<P>
Specifies how often to send session keepalive packets on active
sessions. The minimum is 60 seconds. The default is 3600 seconds (1
hour).
<P>
SessionTableSize = integer
<P>
Data Type: DWORD
<P>
Specifies the maximum number of sessions in the NetBIOS session table.
The minimum allowable value is 1 and the maximum is 255. The default is
255.
<P>
SingleResponse = 0 or 1
<P>
Data Type: DWORD
<P>
For a computer with multiple network adapters, specifies whether to send
all IP addresses on a name query request from WINS. If this value is 1,
the system will send one address in a name query response; if 0, it will
return all the addresses of its adapters. The default is 0.
<P>
Size/Small/Medium/Large = 1, 2, or 3
<P>
Data Type: DWORD
<P>
Specifies how many buffers of various types to pre-allocate and the
maximum that can be allocated, where 1 = small, 2 = medium, and 3 =
large. The default is 1; the default is 3 if the WINS proxy is enabled.
<P>
This section describes variables for subkeys that appear in the
following registry key:
<P>
<PRE>   Hkey_Local_Machine\System\CurrentControlSet\Services\VxD\MSTCP\
   ServiceProvider

</PRE>The following keys describe the order used to resolve host names. A
lower number sets a higher priority for name resolution. These settings
are used for 16-bit Windows Sockets, which need to rely on the resolvers
that are expected to take the least time. The numbers indicate the
default values specified in Windows 95.
<P>
LocalPriority = 499
HostsPriority = 500
DNSPriority = 2000
NetbtPriority = 2001
<P>
For additional information about this functionality, please see the
following article(s) in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../win95x/q170619.htm">Q170619</A></B>
   TITLE     : Windows 95 ServiceProvider Priority Values Not Applied

</PRE>The entries in this section must be added to the following registry key,
where n represents the particular TCP/IP-to-network adapter binding.
<P>
<PRE>   Hkey_Local_Machine\System\CurrentControlSet\Services\Class\netTrans\
   000n

</PRE>MaxMTU = 16-bit integer
<P>
Data Type: String
<P>
Specifies the maximum size datagram IP that can pass to a media driver.
SNAP and source routing headers (if used on the media) are not included
in this value. For example, on an Ethernet network, MaxMTU will default
to 1500. The actual value used will be the minimum of the value
specified with this parameter and the size reported by the media driver.
The default is the size reported by the media driver.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 95<BR>
Keywords          : kbenv kbnetwork msnets win98 win95<BR>
Version           : 95<BR>
Platform          : WINDOWS<BR>
Issue type        : kbref<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 16, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
