

<HTML>
<HEAD>
<TITLE>IRQ Settings and Mouse Installation </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q12230 ">
<META NAME="KBModify" CONTENT="1996/09/16">
<META NAME="KBCreate" CONTENT="1986/11/26">
<META NAME="Keywords" CONTENT="kbhw kbdisplay">
<META NAME="KBArea" CONTENT="Support; KB; mouse, hw, win95x, winnt, hwother, win3x, msdos">
<META NAME="Description" CONTENT="  The jumper on the bus mouse should be checked before the card is installed in any computer, especially if the card is moved from one machine to another. The board's jumper controls which interrupt request  (IRQ) line is used. IRQ lines are used to ...">
<META NAME="Product" CONTENT="Mouse">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAIB,QBXT,QA5V,QAA1,QDJ9,QDI2,QAYV,QA05,QAB5,QAQ7,QAC9,QAJG,QACR,QAHT,QAHC V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>IRQ Settings and Mouse Installation</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 16, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q12230 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Bus Mouse, version 1.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The jumper on the bus mouse should be checked before the card is
installed in any computer, especially if the card is moved from one
machine to another. The board's jumper controls which interrupt
request  (IRQ) line is used. IRQ lines are used to facilitate
information  transfer from such I/O devices as disk controllers and
serial ports. The  jumper avoids IRQ conflicts with other devices
already installed in the  computer. Under each pair of pins on the
card is a number between 2 and  5 (inclusive). The jumper selects the
IRQ line. Microsoft ships the  boards with the jumper set to IRQ 2 for
installation in a typical IBM  PC or PC XT. Because IBM changed the
IRQ architecture in the PC AT by  using IRQ 2 for the second IRQ
controller, the bus mouse jumper is  usually set to IRQ 5 on an AT.
<P>
This information applies to the Microsoft Bus Mouse for MS-DOS, OS/2,
and Windows systems.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
While these jumper settings are correct for most installations, you
should verify which (if any) IRQ lines are being used by every device
already installed in the machine. There can be only one active device
per IRQ line. Refer to the technical manuals for each manufacturer's
product or contact the manufacturer directly for this information. The
following is an IRQ allocation table as defined in the IBM PC and AT
technical reference manuals (other manufacturers' software, hardware and
add-on boards must follow this convention in order to be IBM
compatible):
<P>
<PRE>                                        PC-AT
IRQ Line        PC, PC-XT       CTLR 1          CTLR 2

    0             Timer         Timer     | IRQ8  Clock
    1            Keyboard      Keyboard   | IRQ9  Redirected IRQ2
    2            Reserved       CTLR 2 &lt;--| IRQ10 Reserved
    3              COM2          COM2     | IRQ11 Reserved
    4              COM1          COM1     | IRQ12 Reserved
    5           Hard disk        LPT2     | IRQ13 Coprocessor
    6          Floppy disk   Floppy disk  | IRQ14 Hard disk
    7             LPT1-3         LPT1     | IRQ15 Reserved

</PRE>Because the mouse can be jumpered in the IRQ range of 2 through 5 and
there can be only one active device per IRQ line, the bus mouse can be
installed only if at least one of these lines is free.
<P>
For example, a bus mouse is to be installed in an IBM PC-AT with an
IBM PC-AT Serial/Parallel Adapter configured as COM1 and LPT1,
respectively; a Color Graphics Adapter; and a multi-function card with
128K of memory and a serial port configured as COM2. On this computer,
there is only one IRQ line still available on IRQ controller 1: IRQ 5.
IRQ 2 is used by the AT's second IRQ controller and IRQ lines 4 and 3
are used by COM1 and COM2. The CGA does not use an IRQ line and the
parallel port uses IRQ 7, which falls outside of the mouse's range. The
bus mouse should be jumpered for IRQ 5, thereby using the last IRQ line
in the normal IRQ range of 0 through 7 of the first IRQ controller. The
user of this computer should be aware of this for future
expansion.
<P>
The Enhanced Graphics Adapter (EGA) is now becoming a popular display
card for PCs and XTs. The EGA includes a hardware feature that allows
software to enable interrupts on IRQ2 to indicate the start of vertical
retrace. Therefore, if an EGA and bus mouse are installed in a PC or XT,
IRQ2 is no longer available for the mouse. In a full XT with a hard
disk, two serial ports, an EGA, and a bus mouse, there is an IRQ line
overlap between two devices. Therefore, one device must be sacrificed to
free up an IRQ line for the bus mouse. This is not a design deficiency
of the bus mouse; it is a fundamental design
restriction in the PCs and XTs.
<P>
As discussed above, there are only eight IRQ lines in the PC and XT,
of which four are used up by the motherboard and other standard
equipment. The other four lines go quickly. The following types of
expansion cards require that a free IRQ line be available:

<UL><LI>Network cards
<LI>Bisync communication cards
<LI>Tape back-up units
<LI>Some clock/calendar hardware
<LI>Serial communication cards
<LI>EGAs
<LI>Emulation boards
<LI>Hard disk controllers
<P>
</UL>There are more desirable devices to install in a machine than there
are IRQ lines to handle them. To help relieve the crowding of IRQ
lines, the IBM AT includes a second IRQ controller with seven more
lines. Currently, hardware is evolving to take advantage of the new AT
architecture.
<P>
Once the hardware is installed, the software must be loaded. When the
mouse driver loads, using either MOUSE.SYS from CONFIG.SYS or MOUSE.COM
from a batch file or the keyboard, the file is loaded into memory and
the driver then installs itself. This installation requires a few
seconds. Various operations are undertaken, including mouse hardware
initialization. This is the primary reason for the delay before the
mouse installation message appears.
<P>
If the error message "MOUSE: Microsoft mouse not found!" appears,
there can be a number of hardware-related causes, such as a broken
mouse; however, the problem more likely is an IRQ contention problem
either between the mouse and another device or between the serial
ports.
<P>
Typical bus mouse related problems are between the mouse and the hard
disk controller, that is, a bus mouse jumpered on IRQ 5 in an XT or
IRQ 2 in an AT. The common symptom for this problem is the inability
to perform a warm boot (CTRL+ALT+DEL). If the bus mouse is jumpered on
the same line as a serial port, network card, or emulator card,
irregular and unreproducible system crashes can occur. In Windows,
with a bus mouse doubled up on the IRQ line used by a modem, the mouse
support disappears when communications software is run.
<P>
The standard isolation procedure is to verify IRQ-line usage and if no
problems are uncovered, the next step is to remove as much hardware as
possible. In this way, the conflict should be uncovered between
particular devices and a resolution of the problem follows.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbhw kbdisplay<BR>
KBSubcategory:<BR>
Additional reference words: 6.x 7.x 8.x<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 16, 1996</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
