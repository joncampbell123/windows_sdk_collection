

<HTML>
<HEAD>
<TITLE>PRB: Winsock 1.1 Send() Over IPX/SPX Fails With WSAECONNRESET </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q166762">
<META NAME="KBModify" CONTENT="1997/04/23">
<META NAME="KBCreate" CONTENT="1997/04/10">
<META NAME="Keywords" CONTENT="NtwkWinsock">
<META NAME="KBArea" CONTENT="Support; KB; win32sdk">
<META NAME="Description" CONTENT="  Winsock 1.1 IPX/SPX applications communicating with NetWare applications or special devices using the send() API can fail with error WSAECONNRESET. This occurs when a Winsock application attempts to send large buffers using the SOCK_SEQPACKET socke...">
<META NAME="Product" CONTENT="Win32 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABN,QDL9,QBWO,QBWN,QALG,QAJH,QAH6,QDKF,QANY,QAB5,QAJB,QA8Y,QA5E,QA49,QA3T V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: Winsock 1.1 Send() Over IPX/SPX Fails With WSAECONNRESET</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 23, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q166762</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Win32 Application Programming Interface included with:
   - Microsoft Windows 95
   - Microsoft Windows 95 OEM Service Release, version 2
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Winsock 1.1 IPX/SPX applications communicating with NetWare applications or
special devices using the send() API can fail with error WSAECONNRESET.
This occurs when a Winsock application attempts to send large buffers using
the SOCK_SEQPACKET socket type to a Netware IPX application or special
device.
<P>
<P><h2>CAUSE</h2>
 
<P>
Microsoft's implementation of the IPX/SPX protocol takes advantage of a
network's full media size and does not limit its data packet transmission
size to 576 bytes. Some Netware applications or devices cannot handle data
packet transmissions greater than 576 bytes. The limitation is an
artificial one that IPX applications inherited from the Xerox Network
System's (XNS) Internet Datagram Protocol (IDP) packet structure which
originally limited IPX packets to 576 bytes (IPX header plus data). Some
NetWare specific IPX/SPX applications enforce the limitation on themselves
by inclusion of a constant MaxIPXPacketSize from header files in the
NetWare SDK.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
If your Winsock 1.1 application must communicate with an application that
imposes the artificial packet limit, you can do so by creating the socket
with type SOCK_STREAM and limiting the size of your send() calls to 534 or
fewer bytes.
<P>
<P><h2>STATUS</h2>
 
<P>
This behavior is by design.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The Novell IPX Router Specification states "While IPX implementations must
be able to handle at least a 576 byte packet, enhancements to IPX now allow
support for packet sizes up to 65,535 bytes."
<P>
<P><h2>REFERENCES</h2>
 
<P>
Novell IPX Router Specification, November 17,1992, Version 1.10, Part
Number: 107-000029-001
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 95<BR>
Keywords            : NtwkWinsock<BR>
Version             : 95<BR>
Platform            : WINDOWS<BR>
Issue type          : kbprb<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 23, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
