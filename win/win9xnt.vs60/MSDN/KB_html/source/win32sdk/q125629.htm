

<HTML>
<HEAD>
<TITLE>How to Overlay Images Using Image List Controls </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q125629">
<META NAME="KBModify" CONTENT="1995/09/29">
<META NAME="KBCreate" CONTENT="1995/02/01">
<META NAME="Keywords" CONTENT="kbui">
<META NAME="KBArea" CONTENT="Support; KB; win32sdk">
<META NAME="Description" CONTENT="  One of the more interesting controls Windows 95 provides as part of its new common controls is the image list. Image lists provide an easy way to manage a group of bitmaps and draw them on the screen, without having to worry about calling CreateCom...">
<META NAME="Product" CONTENT="Win32 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QATJ,QA28,QAW9,QAXQ,QAE1,QAB2,QA2O,QABA,QDL9,QBWO,QBWN,QA7O,QAOE,QAMN,QAH4 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Overlay Images Using Image List Controls</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 29, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q125629</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Win32 Application Programming Interface (API) included with:
<P>
<P><PRE>    - Microsoft Windows NT version 3.51
    - Microsoft Windows 95 version 4.0
</UL></PRE> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
One of the more interesting controls Windows 95 provides as part of its
new common controls is the image list. Image lists provide an easy way
to manage a group of bitmaps and draw them on the screen, without having
to worry about calling CreateCompatibleDC(), SelectObject(), BitBlt(),
StretchBlt(), and so on.
<P>
One interesting feature that image lists provide through the
ImageList_Draw() API is the ability to overlay images -- that is, to draw
an image transparently over another image. Calling ImageList_Draw() with
the last parameter set to an index to an overlay mask instructs the image
list to draw an image, and draw the overlay mask on top of it.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
To overlay images correctly using image lists, follow these steps:

<OL><P><LI>Create a bitmap that will have the images you want to draw as well as
   the overlay images you want drawn on top of these images.
<P>
   For example, say you have a bitmap of four 16x16 images:
<P>
<P><PRE>    - a green circle.
    - a red circle.
    - a panda.
    - a frog.
</PRE>
<P><LI>Create an image list out of the bitmap you've created in step 1 by using
   ImageList_LoadImage() as shown here:
<P>
   hImageList = ImageList_LoadImage (hInst,
<PRE>                                     "MyBitmap",
                                     16,
                                     4,
                                     RGB (255,0,0),
                                     IMAGE_BITMAP,
                                     0);

</PRE><P><LI>Decide which images you want to specify as overlay masks, and tag them
   as such by using the ImageList_SetOverlayImage() function. The following
   code specifies the panda and the frog (with 0-based index, this comes
   out to image 2 and 3) as overlay masks 1 and 2.
<P>
   NOTE: You can only specify up to four overlay masks per image list.
<P>
   ImageList_SetOverlayImage (hImageList,
<PRE>                              2,         // 0-based index to image list
                              1);        // 1-based index to overlay mask.


   ImageList_SetOverlayImage (hImageList,
                              3,       // 0-based index to image list
                              2);      // 1-based index to overlay mask.

</PRE><P><LI>Draw the image. The following code draws the green circle (or image 0 in
   the example image list). Then it draws the panda (overlay image 1 in the
   example) on top of it.
<P>
   ImageList_Draw (hImageList,
<PRE>                   0,     // 0-based index to imageList of image to draw
                   hDC,   // handle to a DC
                   16, 16 // (x,y) location to draw
                   INDEXTOOVERLAYMASK (1));   // Overlay image #1

</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 4.00<BR>
KBCategory: kbui<BR>
KBSubcategory: UsrCtl<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 29, 1995</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
