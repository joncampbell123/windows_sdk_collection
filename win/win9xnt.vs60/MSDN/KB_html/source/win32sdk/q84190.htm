

<HTML>
<HEAD>
<TITLE>Window Owners and Parents </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q84190 ">
<META NAME="KBModify" CONTENT="1995/12/15">
<META NAME="KBCreate" CONTENT="1992/05/04">
<META NAME="Keywords" CONTENT="kbui">
<META NAME="KBArea" CONTENT="Support; KB; win32sdk">
<META NAME="Description" CONTENT="  In the Windows environment, two relationships that can exist between windows are the owner-owned relationship and the parent-child relationship.  The owner-owned relationship determines which other windows are automatically destroyed when a window ...">
<META NAME="Product" CONTENT="Win32 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWN,QDL9,QBWO,QBWQ,QAGQ,QAN0,QAH5,QBVR,QAUD,QAGI,QAY5,QAMB,QBVV,QBBI,QARL V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Window Owners and Parents</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  December 15, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q84190 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows Software Development Kit (SDK) versions 3.1

<LI>Microsoft Win32 Application Programming Interface (API) included with:
<P>
<P><PRE>    - Microsoft Windows NT versions 3.5 and 3.51
    - Microsoft Windows 95 version 4.0
</UL></PRE> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
In the Windows environment, two relationships that can exist between
windows are the owner-owned relationship and the parent-child
relationship.
<P>
The owner-owned relationship determines which other windows are
automatically destroyed when a window is destroyed. When window A is
destroyed, Windows automatically destroys all of the windows owned by
A.
<P>
The parent-child relationship determines where a window can be drawn
on the screen. A child window (that is, a window with a parent) is
confined to its parent window's client area.
<P>
This article discusses these relationships and some Windows functions
that provide owner and parent information for a given window.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Although WS_OVERLAPPED windows don't typically have owners, they can.
Please see Kyle Marsh's MSDN article "Win32 Window Hierarchy and Styles,"
which says:
<P>
<PRE>   Overlapped windows may own other top-level windows or be owned by
   other top-level windows or both.

</PRE>Alternatively, the desktop window can be considered the owner
and parent of a WS_OVERLAPPED-style window. A WS_OVERLAPPED-style
window can be drawn anywhere on the screen and Windows will destroy
any existing WS_OVERLAPPED-style windows when it shuts down.
<P>
A window created with the WS_POPUP style does not have a parent by
default; a WS_POPUP-style window can be drawn anywhere on the screen.
A WS_POPUP-style window will have a parent only if it is given one
explicitly through a call to the SetParent function.
<P>
The owner of a WS_POPUP-style window is set according to the
hWndParent parameter specified in the call to CreateWindow that
created the pop-up window. If hWndParent specifies a nonchild window,
the hWndParent window becomes the owner of the new pop-up window.
Otherwise, the first nonchild ancestor of hWndParent becomes the owner
of the new pop-up window. When the owner window is destroyed, Windows
automatically destroys the pop up. Note that modal dialog boxes work
slightly differently. If hWndParent is a child window, then the owner
window is the first nonchild ancestor that does not have an owner (its
top-level ancestor).
<P>
A window created with the WS_CHILD style does not have an explicit
owner; it is implicitly owned by its parent. A child window's parent
is the window specified as the hWndParent parameter in the call to
CreateWindow that created the child. A child window can be drawn only
within its parent's client area, and is destroyed along with its
parent.
<P>
An application can change a window's parent by calling the SetParent
function after the window is created. Windows does not provide a
method to change a window's owner.
<P>
Windows provides three functions that can be used to find a window's
owner or parent:

<UL><LI>GetWindow(hWnd, GW_OWNER)
<LI>GetParent(hWnd)
<LI>GetWindowWord(hWnd, GWW_HWNDPARENT)
<P>
</UL>GetWindow(hWnd, GW_OWNER) always returns a window's owner. For child
windows, this function call returns NULL. Because the parent of the
child window behaves similar to its owner, Windows does not maintain
owner information for child windows.
<P>
The return value from the GetParent function is more confusing.
GetParent returns zero for overlapped windows (windows with neither
the WS_CHILD nor the WS_POPUP style). For windows with the WS_CHILD
style, GetParent returns the parent window. For windows with the
WS_POPUP style, GetParent returns the owner window.
<P>
GetWindowWord(hWnd, GWW_HWNDPARENT) returns the window's parent, if it
has one; otherwise, it returns the window's owner.
<P>
Two examples of how Windows uses different windows for the parent and
the owner to good effect are the list boxes in drop-down combo boxes
and the title windows for iconic MDI (multiple document interface)
child windows.
<P>
Due to its size, the list box component of a drop-down combo box may
need to extend beyond the client area of the combo box's parent
window. Windows creates the list box as a child of the desktop window
(hWndParent is NULL); therefore, the list box will be clipped only by
the size of the screen. The list box is owned by the first nonchild
ancestor of the combo box. When that ancestor is destroyed, the list
box is automatically destroyed as well.
<P>
When an MDI child window is minimized, Windows creates two windows: an
icon and the icon title. The parent of the icon title window is set to
the MDI client window, which confines the icon title to the MDI client
area. The owner of the icon title is set to the MDI child window.
Therefore, the icon title is automatically destroyed with the MDI
child window.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.00 3.10 3.50 3.51 4.00 95<BR>
KBCategory: kbui<BR>
KBSubcategory: UsrWndw<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  December 15, 1995</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
