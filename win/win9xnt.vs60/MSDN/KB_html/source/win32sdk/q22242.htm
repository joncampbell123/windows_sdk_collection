

<HTML>
<HEAD>
<TITLE>PRB: Area Around Text and Remainder of Window Different Colors </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q22242 ">
<META NAME="KBModify" CONTENT="1995/11/02">
<META NAME="KBCreate" CONTENT="1987/12/17">
<META NAME="Keywords" CONTENT="kbgraphic kbprb">
<META NAME="KBArea" CONTENT="Support; KB; win32sdk">
<META NAME="Description" CONTENT="  When text is painted into a window, an area around the text is a different color than the remainder of the window.  CAUSE =====  The area around the text is painted with a solid color while the remainder of the window is painted using a dithered co...">
<META NAME="Product" CONTENT="Win32 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAG9,QAPG,QATX,QAMB,QDL9,QBWO,QBWN,QAJQ,QAME,QAIA,QBWQ,QBBI,QAKU,QAGQ,QAH4 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: Area Around Text and Remainder of Window Different Colors</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 2, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q22242 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows Software Development Kit (SDK) for Windows
   versions 3.1 and 3.0

<LI>Microsoft Win32 Application Programming Interface (API) included with:
<P>
<P><PRE>    - Microsoft Windows NT versions 3.5 and 3.51
    - Microsoft Windows 95 version 4.0
</UL></PRE> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When text is painted into a window, an area around the text is a
different color than the remainder of the window.
<P>
<P><h2>CAUSE</h2>
 
<P>
The area around the text is painted with a solid color while the
remainder of the window is painted using a dithered color.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To make the area around the text and the remainder of the window
have the same color, perform one of the following two steps:

<UL><LI>Use a solid color for the window background, and use the same
   color for the text background. To ensure that a color is a solid
   color, use the GetNearestColor function. This function returns
   the nearest solid color available to represent the specified
   color.
<P>
   -or-

<LI>Call the SetBkMode function to specify TRANSPARENT mode for the
   text. Doing so prevents Windows from painting the area behind
   the text. The window background color shows through instead.
<P>
</UL><h2>MORE INFORMATION</h2>
 
<P>
By default, when an application paints text into its window, Windows
fills the area around the character with the current background color.
Windows always uses a solid color for this purpose.
<P>
When an application registers a window class, it specifies a handle to
a brush that Windows uses to paint the window background. On some
output devices, brushes can create dithered colors. On one of these
devices, the area behind painted text might have a different color
than the remainder of the window.
<P>
The following code specifies the window background color:
<P>
<PRE>   #define ELANGREEN  0x003FFF00
   pTemplateClass-&gt;hbrBackground = CreateSolidBrush((DWORD)ELANGREEN);

</PRE>The following code specifies the color used to paint around text and
draws some text into a device context:
<P>
<PRE>   #define SZ -1
   SetBkColor(hDC, (DWORD)ELANGREEN);
   DrawText(hDC, (LPSTR)"text", SZ, (LPRECT)&amp;Rect, DT_BOTTOM);

</PRE>The color used to paint the area around the text has a yellow cast,
which gives it a slightly different appearance than the window
background color.
<P>
A brush may be able to represent a wider color range than the solid
colors because a brush covers an area while a solid color may be used
to paint nominal-width lines (for example, lines that are one device
unit wide) that must be the same color at all locations and angles.
Therefore, the device-driver writer has the option of providing
dithered colors for brushes, but has no such freedom when it comes to
the solid colors for drawing lines.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.00 3.10 3.50 4.00 95<BR>
KBCategory: kbgraphic kbprb<BR>
KBSubcategory: GdiDrw<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 2, 1995</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
