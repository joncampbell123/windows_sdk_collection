

<HTML>
<HEAD>
<TITLE>HOWTO: Debug an Active Process in 32-bit Visual C++ </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q120707">
<META NAME="KBModify" CONTENT="1997/10/07">
<META NAME="KBCreate" CONTENT="1994/09/18">
<META NAME="Keywords" CONTENT="WBDebug">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  You can debug an active process with Microsoft Visual C++ versions 2.x, 4.x, and 5.0. You can attach to the active process by starting Visual C++ using the undocumented -p switch, followed by the process identification number (PID).  MORE INFORMATI...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAIJ,QBFY,QA56,QA55,QBLX,QDIV,QA39,QAVX,QABT,QBWS,QBE7,QBE6,QBC9,QBC8,QANO V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>HOWTO: Debug an Active Process in 32-bit Visual C++</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 7, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q120707</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>The Integrated Debugger included with:
   Microsoft Visual C++ 32-bit Edition, version 2.0, 2.1, 4.0, 4.1, 5.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
You can debug an active process with Microsoft Visual C++ versions 2.x,
4.x, and 5.0. You can attach to the active process by starting Visual C++
using the undocumented -p switch, followed by the process identification
number (PID).
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
To obtain the PID for the process to be debugged, use the process
viewer (PVIEW.EXE). Start PView. You will see something like this:
<P>
<PRE>   Process               CPU Time      Privileged      User
   MyApp(0xb7)           ...

</PRE>Here 0xb7 is the PID value of the application named MyApp.
<P>
Assume that the process was built with debugging information. Start
Visual C++ version 2.x as follows:
<P>
<PRE>   MSVC -p 0xb7

</PRE>Or, start Visual C++ version 4.x and 5.0 as follows:
<P>
<PRE>   MSDEV -p 0xb7

</PRE>NOTE: With VC5.0, you can also attach to a process by selecting the
following menu option:
<P>
<PRE>   Build::Start Debug::Attach to Process...

</PRE>When Visual C++ is loaded, look for statements in the status bar at the
bottom of the screen stating that symbols for the application and its DLLs
have been loaded. At this point, select the Debug menu, and choose the
Break option to see the assembler listing in the main window. Bring up the
call stack. Then double-click one of your functions. This brings up the
source code for that source module in which a breakpoint can be set, or
you can just open a source file and set a break point.
<P>
NOTE: When you stop debugging the application, the application will be
terminated. This is expected behavior.
<P>
The procedure on Windows 95 is a little different with Visual C++ 2.0
through 4.0 (Visual C++ 4.1 handles the Windows 95 PID without conversion).
The Windows 95 PIDs are negative signed decimals when converted from
hexadecimal. You need to make sure the PID has a minus sign in front of it.
For instance, if the PID of the process you want to attach to is FFFE64C3,
you can use this method with calculator to get the PID:
<P>
<PRE>   Hex PID -&gt; [Not] -&gt; (DEC) -&gt; [Not] -&gt; Dec PID

</PRE>The double negation is to trick calculator into giving you the correct
number. Otherwise, it gives you the unsigned decimal equivalent of the hex
number, which is well outside the valid PID range. In this example, you
should get a Dec PID of -105277. The command line to attach, then, is
simply:
<P>
<PRE>   start msdev -p -105277 -e -105277

</PRE>If you pass an invalid PID, you might receive an error like:
<P>
<PRE>   Invalid Parameter (Win32, Error 87)
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: current running attach<BR>
Keywords          : WBDebug<BR>
Version           : WINNT:2.0,2.1,4.0,4.1,5.0;<BR>
Platform          : NT WINDOWS<BR>
Issue type        : kbhowto<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 7, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
