

<HTML>
<HEAD>
<TITLE>How to Disable Default Pushbutton Handling for MFC Dialog </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q122489">
<META NAME="KBModify" CONTENT="1997/10/10">
<META NAME="KBCreate" CONTENT="1994/11/06">
<META NAME="Keywords" CONTENT="kbprg kbui">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  Windows dialog boxes support the use of a default button (pushbutton) that is automatically activated when the ENTER key is pressed while focus is not on a command button. The MFC class library will automatically call the CDialog::OnOK() virtual fu...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAUD,QABA,QAGI,QA01,QAY5,QBXS,QA5D,QDL9,QBWQ,QBWO,QBWN,QA4P,QAJD,QBV8,QAB9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Disable Default Pushbutton Handling for MFC Dialog</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 10, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q122489</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
1.00 1.50 | 1.00 2.00 4.00
<PRE>WINDOWS   | WINDOWS NT
</PRE>kbprg kbui
<P>
 
The information in this article applies to:

<UL><LI>The Microsoft Foundation Classes (MFC), included with:
<P>
<P><PRE>    - Microsoft Visual C++ for Windows, versions 1.0 and 1.5
    - Microsoft Visual C++ 32-bit Edition, versions 1.0, 2.0, and 4.0
      on the following platforms: x86, MIPS, Alpha, Power PC
</UL></PRE> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Windows dialog boxes support the use of a default button (pushbutton) that
is automatically activated when the ENTER key is pressed while focus is not
on a command button. The MFC class library will automatically call the
CDialog::OnOK() virtual function for a dialog whenever the default button
(pushbutton) is activated by pressing the ENTER key.
<P>
This behavior conforms to the guidelines set forth by "The Windows
Interface: An Application Design Guide." This manual is included with the
Windows version 3.1 SDK documentation. It is also available from Microsoft
Press.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Although default button (pushbutton) support is recommended, you might want
to disable or modify the standard implementation in certain situations. You
can do this in an MFC application by following these steps:

<OL><P><LI>Load the dialog into App Studio and change the OK button identifier
   from IDOK to something else such as IDC_MYOK. Also, clear the check from
   Default Button property.

<P><LI>Use ClassWizard to create a message handling function for this
   button named OnClickedMyOK. This function will be executed when a
   BN_CLICKED message is received from this button.

<P><LI>In the code for OnClickedMyOK, call the base class version of the
   OnOK function. Here is an example:
<P>
<PRE>   void CMyDialog::OnClickedMyOK()
   {
      CDialog::OnOK();
   }

</PRE><P><LI>Override OnOK for your dialog, and do nothing inside the function. Here
   is an example:
<P>
<PRE>   void CMyDialog::OnOK()
   {
   }

</PRE><P><LI>Run the program and bring up the dialog. Give focus to a control other
   than the OK button. Press the RETURN key. Notice that CDialog::OnOK()
   is never executed.
<P>
</OL>This technique effectively disables the standard default button
(pushbutton) support in an MFC program. The OK button will continue to
behave as before when activated by the mouse or through a mnemonic
keystroke, but the ENTER key will not trigger OnOK handling.
<P>
This same technique can be used to disable or modify default OnCancel
processing. The escape key generates a call to CDialog::OnCancel
just as the enter key generates an OnOK function call.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: kbinf 1.00 1.50 2.00 2.10 2.50 3.00 4.00<BR>
KBCategory: kbprg kbui<BR>
KBSubCategory: MfcUI<BR>
Keywords          : kbprg kbui<BR>
Technology        : kbMfc<BR>
Version           : 1.00 1.50 | 1.00 2.00 4.00<BR>
Platform          : NT WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 10, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
