

<HTML>
<HEAD>
<TITLE>PRB: L2061, L1106 Errors, Foundation Classes, Small Model App </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q102678">
<META NAME="KBModify" CONTENT="1997/07/17">
<META NAME="KBCreate" CONTENT="1993/08/08">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  An attempt to build an application in the small memory model with the Microsoft Foundation Class Library versions 1.0 or 2.0 may fail and Microsoft LINK may generate the following messages:     LINK : error L2061: no space for data block associated...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAH4,QAAP,QAB4,QBHQ,QAPF,QBFY,QAEV,QAKP,QAJH,QABO,QBVV,QAY5,QAE2,QABG,QBW6 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: L2061, L1106 Errors, Foundation Classes, Small Model App</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q102678</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
7.00   | 1.00 1.50
MS-DOS | WINDOWS
kbprg kbprb
<P>
 
The information in this article applies to:

<UL><LI>The Microsoft Foundation Classes (MFC) included with:
<P>
<P><PRE>    - Microsoft C/C++ version 7.0
    - Microsoft Visual C++ for Windows, versions 1.0 and 1.5
</UL></PRE> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
An attempt to build an application in the small memory model with the
Microsoft Foundation Class Library versions 1.0 or 2.0 may fail and
Microsoft LINK may generate the following messages:
<P>
<PRE>   LINK : error L2061: no space for data block associated with
          &lt;function&gt; inside _TEXT segment

   LINK : error L1106: unknown COMDAT allocation type for
          &lt;symbol&gt; record ignored

</PRE><h2>CAUSE</h2>
 
<P>
These errors occur when insufficient memory is available to allocate
vtables (virtual function tables) and message maps in the
application's code segment (_TEXT). If the code segment grows too
large, the allocations fail. In some cases, these errors occur only
when you build a debugging version of the application, because the
debugging versions of the Microsoft Foundation Classes libraries
include additional debugging code. The increased size of the code
segment causes the data block allocations to fail.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
These errors do not indicate a bug (incorrect code) in either the
application code or in the libraries. They simply reflect a limitation
of the small memory model, that the size of the code segment must not
exceed 64K. To resolve this situation, build the application in the
medium memory model.
<P>
Even though you can build the debugging versions of the Microsoft
Foundation Classes libraries in the small and compact memory models,
we do not recommend that you use them. For additional information,
please refer to the README.TXT file in the Microsoft Foundation
Classes libraries source code directory (by default, C:\MSVC\MFC\SRC).
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
In the LINK errors above, the &lt;function&gt; and &lt;symbol&gt; fields show the
decorated names for C++ functions in either the application or in the
library. LINK generates a pair of messages for each symbol (one L2061
error and one L1106 error). LINK generates each of the L2061 messages
before it generates any L1106 messages. The L1106 errors are caused by
the L2061 errors.
<P>
The following is an extract from the README.TXT file in the Microsoft
Foundation Classes libraries version 2.0 source code directory:
<P>
<PRE>   NOTE: The Small and Compact models do not support DEBUG=1, they are
   for retail build variants only.
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 1.00 1.50 2.00 2.50 7.00<BR>
KBCategory: kbprg kbprb<BR>
KBSubcategory: MfcMisc<BR>
Keywords            : kb16bitonly<BR>
Technology          : kbMfc<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 17, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
