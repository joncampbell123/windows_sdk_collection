

<HTML>
<HEAD>
<TITLE>INFO: String Constants May Be Interpreted as Trigraphs in C </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q67082 ">
<META NAME="KBModify" CONTENT="1997/09/08">
<META NAME="KBCreate" CONTENT="1990/11/20">
<META NAME="Keywords" CONTENT="CLngIss">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  To maintain compatibility with other systems, a series of ANSI- mandated trigraphs have been implemented beginning with Microsoft C version 6.0 and Microsoft QuickC version 2.5. The addition of these trigraphs may require that changes be made to co...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBFY,QAKJ,QAWP,QAH4,QAHH,QATX,QBWP,QBVV,QAOT,QAB7,QAWN,QA50,QAPF,QAKE,QDL9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INFO: String Constants May Be Interpreted as Trigraphs in C</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 8, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q67082 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft C for MS-DOS, versions 6.0, 6.0a, 6.0ax
<LI>Microsoft C for OS/2, versions 6.0, 6.0a
<LI>Microsoft C/C++ for MS-DOS, version 7.0
<LI>Microsoft Visual C++ for Windows, versions 1.0, 1.5
<LI>Microsoft Visual C++ 32-bit Edition, versions 1.0, 2.0, 4.0, 5.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
To maintain compatibility with other systems, a series of ANSI- mandated
trigraphs have been implemented beginning with Microsoft C version 6.0 and
Microsoft QuickC version 2.5. The addition of these trigraphs may require
that changes be made to code that was previously written for other versions
of C that do not support these codes. The sample code below illustrates one
such instance where this is necessary. The trigraphs are listed on page 424
of the Microsoft C "Advanced Programming Techniques" version 6.0 manual.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Trigraphs are three-character combinations that are used to represent
certain symbols in the C language that are not available in all character
sets. For example, some keyboards or character sets do not have the opening
and closing brace characters, "{" and "}". These characters are essential
to writing a C program; therefore, someone without use of these characters
can use the trigraphs "??&lt;" and "??&gt;" in place of the braces.
<P>
The compiler translates the three-character trigraph combinations into
single characters at compile time. If a sequence of characters in a
constant string matches a trigraph pattern, the compiler will replace the
three characters with the single corresponding character that the trigraph
represents.
<P>
This situation may manifest itself when using functions, such as
_dos_findfirst(), that may use these characters in a constant to represent
wildcard characters when doing a file search. The workaround is to break up
the constant with double quotation marks, as shown below. This procedure
will cause the compiler to concatenate the two strings without first
translating the characters.
<P>
<P><h3>Sample Code</h3>
 
<P>
<PRE>   #include &lt;stdio.h&gt;

   void main( void)
   {
      /* '??-' in the following line will be replaced by a '~' */

      printf( "??-Hello\n" );
   }

</PRE>To prevent the compiler from misinterpreting the "??-" character sequence
as an unintended trigraph, you could replace the printf line above with the
following line:
<P>
<PRE>   printf( "??""-Hello\n" );

</PRE>Notice that the only difference is the double quotation marks used to break
up the string into two substrings, thus eliminating the trigraph pattern.
 
<PRE>Keywords          : CLngIss
Version           : MS-DOS:6.0,6.00a,6.00ax,7.0; OS/2:6.0,6.00a;  WINDOWS:1.0,1.5; WINDOWS NT:1.0,2.0,4.0,5.0
Platform          : MS-DOS NT OS/2 WINDOWS</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 8, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
