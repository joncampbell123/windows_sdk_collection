

<HTML>
<HEAD>
<TITLE>Cannot Combine P-code and Overlays </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q87529 ">
<META NAME="KBModify" CONTENT="1997/07/17">
<META NAME="KBCreate" CONTENT="1992/08/03">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  It is not possible to create an overlaid MS-DOS program from code that has been compiled into p-code.  MORE INFORMATION  Attempting to create an overlaid MS-DOS program from object modules that have been compiled into p-code will cause the linker t...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAB4,QBFY,QBVV,QAH4,QAAP,QBBI,QAW9,QAE2,QACI,QDMW,QDL9,QBWQ,QBWO,QBWN,QA9N V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Cannot Combine P-code and Overlays</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q87529 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
7.00   | 1.00 1.50
MS-DOS | WINDOWS
kbprg
<P>
 
The information in this article applies to:

<UL><LI>Microsoft C/C++ for MS-DOS, versions 7.0
<LI>Microsoft Visual C++ for Windows, versions 1.0 and 1.5
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
It is not possible to create an overlaid MS-DOS program from code that has
been compiled into p-code.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Attempting to create an overlaid MS-DOS program from object modules that
have been compiled into p-code will cause the linker to generate the
following warning message:
<P>
<PRE>   LINK : warning L4013: Overlays : option ignored for
          segmented-executable file

</PRE>LINK versions 5.3 and 5.31.009 supplied with Microsoft C/C++ version 7.0
then generates L2029 "unresolved external" error messages for the following
symbols:
<P>
<PRE>   $$COVL
   $$OVLTHUNKEND
   $$MPOVLSIZE
   $$MPOVLLFA
   $$INTNO
   $$MPGSNOVL
   $$MPGSNBASE
   $$OVLTHUNKBEG
   $$CGSN

</PRE>LINK versions 5.5 and 5.6 supplied with Microsoft Visual C/C++ generate the
L4013 warning but do not generate the L2029 errors.
<P>
The linker generates the L4013 warning because compiling with the /Oq
option and linking with the /PCODE option causes the linker to create a
segmented executable file. MS-DOS executables are normally non-segmented.
However, the Make P-code utility (MPC), which must be run on a p-code
executable to make it runnable, requires a segmented executable. It is not
currently possible to specify overlays for a segmented executable. This
limitation applies to using both static overlays as well as the Microsoft
Overlay Virtual Environment (MOVE). The symbols that are listed as
unresolved externals are being referenced by the MOVE routines in the
medium and large memory model run-time libraries. These symbols are
ordinarily resolved by the overlay manager. However, because the overlay
manager is not linked in by the linker, these symbols are not defined.
<P>
Most of these errors also occur when specifying /OLDOVERLAY and using the
parenthetical notation to specify the old static overlays. Specifically,
L2029, "unresolved external" errors occur for the following symbols:
<P>
<PRE>   $$OVLBASE
   $$EXENAM
   $$MPOVLLFA
   $$INTNO
   $$MPGSNOVL
   $$MPGSNBASE
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: kbinf 1.00 1.50 7.00 5.30 5.50 5.60 packed<BR>
pcode<BR>
KBCategory: kbprg<BR>
KBSubcategory: MoveOverlay StaticOverlay<BR>
Keywords            : kb16bitonly<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 17, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
