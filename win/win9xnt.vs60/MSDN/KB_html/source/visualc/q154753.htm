

<HTML>
<HEAD>
<TITLE>INFO: What Are the C/C++ Libraries My Program Would Link With? </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q154753">
<META NAME="KBModify" CONTENT="1997/10/07">
<META NAME="KBCreate" CONTENT="1996/08/14">
<META NAME="Keywords" CONTENT="CLIss CPPLngIss LinkIss STLIss VCGenIss">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  This article describes the default libraries LIBC[D].LIB, LIBCMT[D].LIB, LIBCI[D].LIB, LIBCIMT[D].LIB, LIBCP[D].LIB, LIBCPMT[D].LIB, MSVCRT[D].LIB, MSVCIRT[D].LIB, and MSVCPRT[D].LIB that a program will link with when built using Visual C++.  MORE ...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAVX,QBHQ,QBFY,QABB,QABA,QAVW,QAH4,QAA5,QAE2,QA9O,QAOT,QAHT,QDNN,QDOP,QA56 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INFO: What Are the C/C++ Libraries My Program Would Link With?</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 7, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q154753</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Visual C++, 32-bit Edition, versions 4.2, 5.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article describes the default libraries LIBC[D].LIB, LIBCMT[D].LIB,
LIBCI[D].LIB, LIBCIMT[D].LIB, LIBCP[D].LIB, LIBCPMT[D].LIB, MSVCRT[D].LIB,
MSVCIRT[D].LIB, and MSVCPRT[D].LIB that a program will link with when built
using Visual C++.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
When you build a release (or debug) version of your project in Visual C++,
one of the basic C Runtime libraries (LIBC[D].LIB, LIBCMT[D].LIB, and
MSVCRT[D].LIB) is linked by default, depending on the compiler option you
choose (single-threaded &lt;ML[d]&gt;, multithreaded &lt;MT[d]&gt;, or multithreaded
DLL&lt;MD[d]&gt;). A library from the Standard C++ Library or one from the old
iostream library may also be linked depending on the headers you use in
your code. For example, consider the following cases:
<P>
<P><h3>Case 1: Sample program test1.cpp</h3>
 
<P>
<PRE>   // test1.cpp
   void main()
   {
   }

</PRE><LI>If you build test.cpp using the /ML (or /MLd, for a debug build)
   compiler option, your program will link with LIBC.LIB (or LIBCD.LIB, for
   debug build), in addition to other libraries.

<LI>If you build test.cpp using the /MT (or /MTd, for a debug build)
   compiler option, your program will link with LIBCMT.LIB (or LIBCMTD.LIB,
   for debug build), in addition to other libraries.

<LI>If you build test.cpp using the /MD (or /MDd, for a debug build)
   compiler option, your program will link with MSVCRT.LIB (or MSVCRTD.LIB,
   for debug build), in addition to other libraries. In this case, your
   program will be dependent on MSVCRT.DLL (or MSVCRTD.DLL for debug
   build).
<P>
</UL><h3>Case 2: Sample program test2.cpp</h3>
 
<P>
<PRE>   // test2.cpp
   #include &lt;iostream&gt;
   void main()
   {
   }

</PRE><LI>If you build test.cpp using the /ML (or /MLd, for a debug build)
   compiler option, your program will link with LIBC.LIB (or LIBCD.LIB, for
   debug build) and LIBCP.LIB (or LIBCPD.LIB, for debug build), in addition
   to other libraries.

<LI>If you build test.cpp using the /MT (or /MTd, for a debug build)
   compiler option, your program will link with LIBCMT.LIB (or LIBCMTD.LIB,
   for debug build) and LIBCPMT.LIB (or LIBCPMTD.LIB, for debug build), in
   addition to other libraries.

<LI>If you build test.cpp using the /MD (or /MDd, for a debug build)
   compiler option, your program will link with MSVCRT.LIB (or MSVCRTD.LIB,
   for debug build) and MSVCPRT.LIB (or MSVCPRTD.LIB, for debug build), in
   addition to other libraries. For Visual C++ 5.0, your program will be
   dependent on MSVCRT.DLL and MSVCP50.DLL (or MSVCRTD.DLL and MSVCP50D.DLL
   for debug build). For Visual C++ 4.2, your program will be dependent on
   MSVCRT.DLL (or MSVCRTD.DLL for debug build) and MSVCPRT.LIB (or
   MSVCPRTD.LIB, for debug build).
<P>
</UL><h3>Case 3: Sample program test3.cpp</h3>
 
<P>
<PRE>   // test.cpp
   #include &lt;iostream.h&gt;
   void main()
   {
   }

</PRE><LI>If you build test.cpp using the /ML (or /MLd, for a debug build)
   compiler option, your program will link with LIBC.LIB (or LIBCD.LIB, for
   debug build) and LIBCI.LIB (or LIBCID.LIB, for debug build), in addition
   to other libraries.

<LI>If you build test.cpp using the /MT (or /MTd, for a debug build)
   compiler option, your program will link with LIBCMT.LIB (or LIBCMTD.LIB,
   for debug build) and LIBCIMT.LIB (or LIBCIMTD.LIB, for debug build), in
   addition to other libraries.

<LI>If you build test.cpp using the /MD (or /MDd, for a debug build)
   compiler option, your program will link with MSVCRT.LIB (or MSVCRTD.LIB,
   for debug build) and MSVCIRT.LIB (or MSVCIRTD.LIB, for debug build) in
   addition to other libraries. In this case, your program will be
   dependent on MSVCRT.DLL (or MSVCRTD.DLL for debug build) and MSVCIRT.DLL
   (or MSVCIRTD.DLL for debug build).
<P>
</UL>Headers determine whether the Standard C++ libraries, old iostream
libraries, or neither will be linked. Compiler options (/ML[d], /MT[d],
/MD[d]) determine which version of the libraries single-threaded,
multithreaded, or multithreaded DLL is to be linked by default.
<P>
NOTE: It may seem that headers without the ".h" extension are Standard C++
headers and that headers with the ".h" extension are C Runtime headers or
old iostream headers. This is not true. As explained below, the files
&lt;useoldio.h&gt; and &lt;use_ansi.h&gt; determine the libraries your application will
link with.
<P>
Actually, there are two header files, &lt;useoldio.h&gt; and &lt;use_ansi.h&gt;, that
contain #pragmas. The #pragmas force either the old iostream library or the
Standard C++ library to be linked in by default.
<P>
The header file &lt;useoldio.h&gt; contains #pragma statements, which force the
old iostream library to be linked in. All old iostream headers include
&lt;useoldio.h&gt;. So, if you include any old iostream header in your
application, the old iostream library will be linked by default. The
following table lists all the header files that include &lt;useoldio.h&gt;.
<P>
<PRE>   Old iostream Headers
   --------------------

   FSTREAM.H   IOMANIP.H
   IOS.H       IOSTREAM.H
   ISTREAM.H   OSTREAM.H
   STDIOSTR.H  STREAMB.H
   STRSTREA.H

</PRE>The header file &lt;use_ansi.h&gt; contains #pragma statements that force the
Standard C++ Library to be linked in. All Standard C++ Headers include
&lt;use_ansi.h&gt;. So if you include any Standard C++ header in your
application, the Standard C++ library will be linked by default. The
following table lists all the header files that include &lt;use_ansi.h&gt;.
<P>
<P>
<PRE>   Standard C++ Headers
   ------------------------------------------------------

   ALGORITHM    BITSET     COMPLEX    DEQUE
   FSTREAM    FUNCTIONAL   IOMANIP    IOS
   IOSFWD      IOSTREAM    ISTREAM    ITERATOR
   LIMITS      LIST        LOCALE     MAP
   MEMORY      NUMERIC     OSTREAM    QUEUE
   SET         SSTREAM     STACK      STDEXCEPT
   STREAMBUF   STRING      STRSTREAM  TYPEINFO
   UTILITY     VALARRAY    VECTOR     XIOSBASE
   XLOCALE     XLOCINFO    XLOCMON    XLOCNUM
   XLOCTIME    XMEMORY     XSTRING    XTREE
   XUTILITY    YMATH.H

</PRE>You cannot mix calls to the old iostream library and the new Standard C++
Library in Visual C++ 4.2.
<P>
<PRE>                      Summary Table
</PRE> 
<PRE>| Compile   Old        New IOStream   Libraries                  |
| Option    IOStream   or STL         Linked With                |
|================================================================|
| /ML       No         No             LIBC.LIB                   |
|----------------------------------------------------------------|
| /MLd      No         No             LIBCD.LIB                  |
|----------------------------------------------------------------|
| /MT       No         No             LIBCMT.LIB                 |
|----------------------------------------------------------------|
| /MTd      No         No             LIBCMTD.LIB                |
|----------------------------------------------------------------|
| /MD       No         No             MSVCRT.LIB                 |
|----------------------------------------------------------------|
| /MDd      No         No             MSVCRTD.LIB                |
|----------------------------------------------------------------|
| /ML       No         Yes            LIBC.LIB,    LIBCP.LIB     |
|----------------------------------------------------------------|
| /MLd      No         Yes            LIBCD.LIB,   LIBCPD.LIB    |
|----------------------------------------------------------------|
| /MT       No         Yes            LIBCMT.LIB,  LIBCPMT.LIB   |
|----------------------------------------------------------------|
| /MTd      No         Yes            LIBCMTD.LIB, LIBCPMTD.LIB  |
|----------------------------------------------------------------|
| /MD       No         Yes            MSVCRT.LIB,  MSVCPRT.LIB   |
|----------------------------------------------------------------|
| /MDd      No         Yes            MSVCRTD.LIB, MSVCPRTD.LIB  |
|----------------------------------------------------------------|
| /ML       Yes        No             LIBC.LIB,    LIBCI.LIB     |
|----------------------------------------------------------------|
| /MLd      Yes        No             LIBCD.LIB,   LIBCID.LIB    |
|----------------------------------------------------------------|
| /MT       Yes        No             LIBCMT.LIB,  LIBCIMT.LIB   |
|----------------------------------------------------------------|
| /MTd      Yes        No             LIBCMTD.LIB, LIBCIMTD.LIB  |
|----------------------------------------------------------------|
| /MD       Yes        No             MSVCRT.LIB,  MSVCIRT.LIB   |
|----------------------------------------------------------------|
| /MDd      Yes        No             MSVCRTD.LIB, MSVCIRTD.LIB  |
</PRE> 
<P>
<PRE>          Summary Table for CRT DLLs Used
</PRE> 
<PRE>| Import Library   DLLs Used        DLLs Used     |
| Linked With      (VC 5.0)         (VC 4.2)      |
|=================================================|
| MSVCRT.LIB       MSVCRT.DLL       MSVCRT.DLL    |
|-------------------------------------------------|
| MSVCRTD.LIB      MSVCRTD.DLL      MSVCRTD.DLL   |
|-------------------------------------------------|
| MSVCPRT.LIB      MSVCP50.DLL                    |
|-------------------------------------------------|
| MSVCPRTD.LIB     MSVCP50D.DLL                   |
|-------------------------------------------------|
| MSVCIRT.LIB      MSVCIRT.DLL      MSVCIRT.DLL   |
|-------------------------------------------------|
| MSVCIRTD.LIB     MSVCIRTD.DLL     MSVCIRTD.DLL  |
</PRE> 
<P>
<P><h2>REFERENCES</h2>
 
<P>
For additional information, please see the following article(s) in the
Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../visualc/q154419.htm">Q154419</A></B>
   TITLE     : Standard C++ Library Frequently Asked Questions

</PRE>For latest technical discussions concerning the Standard C++ Library see
Microsoft Frequently Asked Questions in the Microsoft Technical Support Web
site at <B><A href="http://support.microsoft.com/support/visualc/default.asp">http://support.microsoft.com/support/visualc/default.asp.</A></B>
<P>
See the Standard C++ Library topic in Visual C++ Books Online, New Visual
C++ Version 4.2 Features, for related topics.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: MSVCRT.DLL MSVCIRT.DLL MSVCPRT.LIB LIBCI.LIB<BR>
LIBCIMT.LIB LIBCP.LIB LIBCPMT.LIB<BR>
Keywords          : CLIss CPPLngIss LinkIss STLIss VCGenIss<BR>
Version           : WINNT:4.2,5.0;<BR>
Platform          : NT WINDOWS<BR>
Issue type        : kbinfo<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 7, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
