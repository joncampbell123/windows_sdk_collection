

<HTML>
<HEAD>
<TITLE>PRB: C4057 or C4133 Occur Unexpectedly </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q42562 ">
<META NAME="KBModify" CONTENT="1997/08/26">
<META NAME="KBCreate" CONTENT="1989/03/16">
<META NAME="Keywords" CONTENT="kbfasttip">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  Using the Microsoft C/C++ compiler (CL.EXE) versions 7.0, 8.0, and 8.0c for MS-DOS, the following warning is generated:     C4057: 'argument': indirection to slightly different base types  Using the Microsoft C/C++ compiler (CL.EXE) versions 8.0 an...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBFY,QAB4,QA6E,QA4Q,QAOT,QBVV,QAH4,QAP2,QBWP,QAJQ,QABA,QABB,QAC1,QBEV,QA56 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: C4057 or C4133 Occur Unexpectedly</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  August 26, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q42562 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>The Microsoft C/C++ Compiler (CL.EXE) included with:
   - Microsoft C/C++ for MS-DOS, version 7.0
   - Microsoft Visual C++ for Windows, versions 1.0, 1.5
   - Microsoft Visual C++ 32-bit Edition, versions 1.0, 2.0, 4.0, 5.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Using the Microsoft C/C++ compiler (CL.EXE) versions 7.0, 8.0, and 8.0c for
MS-DOS, the following warning is generated:
<P>
<PRE>   C4057: 'argument': indirection to slightly different base types

</PRE>Using the Microsoft C/C++ compiler (CL.EXE) versions 8.0 and 9.0 (32-bit
edition), the following warning is generated:
<P>
<PRE>   C4133: 'argument' : incompatible types-from 'short *' to 'int *'

</PRE>Using the Microsoft C/C++ compiler (CL.EXE) version 10.0 and higher (32-bit
edition), the following warning is generated:
<P>
<PRE>   C4133: 'function' : incompatible types-from 'short *' to 'int *'

</PRE><h2>CAUSE</h2>
 
<P>
These warnings are expected behavior.  According to ANSI standards,
variables of type int* are different from variables of type short*.  And,
although the compiler may be able to perform an implicit promotion/demotion
among intergral types (char, short, int, long, etc.), pointers are not of
integral type.
<P>
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To remove these warnings, use an appropriate cast to instruct the compiler
to explicitly convert the value from its current data type to the desired.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The only restriction on the size of the short given by the ANSI standard is
that it NOT be longer than an integer. Code should be written with this in
mind so that it will be portable. In many implementations, such as WINDOWS
NT, integers are not the same as shorts.
<P>
Compiling the following program will generate the discussed warning:
<P>
<P><h3>Sample Code</h3>
 
<P>
<PRE>   /* Compile options needed: /c /W4
   */

   void ShortFunc( short, short * );
   void Func( int, int * );

   void main( )
   {
       short sTest;
       short *sPoint;

       ShortFunc( sTest, sPoint );
       Func( sTest, sPoint );  /*  Generates warning  */
       Func( sTest, (int *)sPoint );  /*  Does not generate warning  */
   }
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 8.00 8.00c 9.00<BR>
Keywords          : kbfasttip<BR>
Version           : 7.0 1.0 1.5 2.0 4.0 5.0<BR>
Issue type        : kbprb<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  August 26, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
