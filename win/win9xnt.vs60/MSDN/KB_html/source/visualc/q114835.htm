

<HTML>
<HEAD>
<TITLE>BUG: Scan All Dependencies May Fail to Include Files </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q114835">
<META NAME="KBModify" CONTENT="1997/07/22">
<META NAME="KBCreate" CONTENT="1994/05/15">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  Choosing Scan All Dependencies from the Project menu causes Visual Workbench to generate a dependency list for the current makefile, which is used to determine the files that need to be rebuilt. Header files that are included within double quotes m...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAVW,QAVX,QAFI,QBFY,QA56,QA55,QDOQ,QBXS,QBXB,QATJ,QAKP,QBXN,QBVV,QBWS,QAJN V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>BUG: Scan All Dependencies May Fail to Include Files</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 22, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q114835</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
1.00 1.50
WINDOWS
kbtool kbbuglist
<P>
 
The information in this article applies to:

<UL><LI>The Microsoft Visual Workbench included with:
   Microsoft Visual C++ for Windows, versions 1.0 and 1.5
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Choosing Scan All Dependencies from the Project menu causes Visual
Workbench to generate a dependency list for the current makefile, which is
used to determine the files that need to be rebuilt. Header files that are
included within double quotes may not be included in the dependency list
generated by the Visual Workbench if the header files are located outside
of the directory where the source files are located. This problem occurs if
the path for the dependency is included using the /I compiler switch. If
you modify the header file and choose Build from the Project menu, the
appropriate source files are not recompiled as expected.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
There are a few ways to work around this problem:

<UL><LI>Include the full path in the Include Files Path edit field in the
   Directories dialog box under the Options menu.
<P>
   -or-

<LI>Include the full path within the double quote rather than just the
   root filename.
<P>
   -or-

<LI>Move the header file into the current working directory.
<P>
</UL><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a bug in the products listed at the
beginning of this article. We are researching this bug and will post new
information here in the Microsoft Knowledge Base as it becomes available.
<P>
This problem does not occur in the Visual Workbench 32-bit, version 1.1.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Start with a project that consists of the following files:
<P>
<PRE>// TEST.CPP

   #include &lt;iostream.h&gt;
   #include "test.h"

   void main() {
      cout &lt;&lt; TESTING &lt;&lt; endl;
   }

// TEST.H

   #define TESTING  "testing"

</PRE>Have Visual Workbench generate the following makefile:
<P>
<PRE>   C:\TEST\TEST.MAK

</PRE><P><LI>Choose the Options menu.

<P><LI>Select Project.

<P><LI>Choose the Compiler button.

<P><LI>Select the Preprocessor category

<P><LI>Enter C:\H under Include Path.
<P>
</OL>The file TEST.CPP is not recompiled once TEST.H is modified and Build
is chosen from the Project menu.
<P>
The project can be correctly rebuilt in the following three situations:
<P>
<PRE>    if TEST.CPP is modified as suggested in the RESOLUTION section of the
    article, so that it appears as follows:

      // TEST.CPP

         #include "c:\h\test.h"

         void main() {
            cout &lt;&lt; TESTING &lt;&lt; endl;
         }

    -or-

    if C:\H is added to the Include Files Path that is found by choosing
    the Options menu and selecting Directories

    -or-

    if TEST.H is moved into the C:\TEST directory.

</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 1.00 1.50<BR>
KBCategory: kbtool kbbuglist<BR>
KBSubcategory: VWBIss<BR>
Keywords            : kb16bitonly<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 22, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
