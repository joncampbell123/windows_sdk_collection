

<HTML>
<HEAD>
<TITLE>FIX: Cannot Add New Member Variables with VIEWEX Sample </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q108291">
<META NAME="KBModify" CONTENT="1997/09/16">
<META NAME="KBCreate" CONTENT="1993/12/07">
<META NAME="Keywords" CONTENT="MfcMisc kbfasttip">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  From the Visual C++ Workbench, open the VIEWEX sample. To do this, select the Project menu and choose Open. The sample is under the Visual C++ directory in MFC\SAMPLES\VIEWEX\VIEWEX.MAK.  Using App Studio, add an edit control (or any type of contro...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAYL,QBFY,QA56,QA55,QABO,QAPF,QAH4,QBXT,QA5V,QAR4,QAIB,QA7O,QAOE,QAMN,QAB5 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>FIX: Cannot Add New Member Variables with VIEWEX Sample</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 16, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q108291</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:
<P>
<PRE>   The Microsoft Foundation Classes (MFC) included with:
    - Microsoft Visual C++ for Windows, versions 1.0, 1.5
    - Microsoft Visual C++, 32-bit Edition, version 1.0
</PRE> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
From the Visual C++ Workbench, open the VIEWEX sample. To do this, select
the Project menu and choose Open. The sample is under the Visual C++
directory in MFC\SAMPLES\VIEWEX\VIEWEX.MAK.
<P>
Using App Studio, add an edit control (or any type of control) to the
IDD_INPUTFORM dialog box used for the CFormView in this sample. Give it an
ID of ID_MYNEWEDIT. Now start Class Wizard with CTRL+W. (You may need to
choose to associate the CInputView class with the dialog box resource.)
Select the CInputView class if it's not already selected. Choose the Edit
Variables button or Member Variables tab depending on the version of Visual
C++. The ID_MYNEWEDIT ID will not show up in the Control IDs list, and thus
cannot be automatically associated with a member variable.
<P>
<P><h2>CAUSE</h2>
 
<P>
There is a line of code missing in the declaration of the CInputView class
in the INPUTVW.H file. The class definition in this file has a section as
follows:
<P>
<PRE>   // Form Data
   public:
      //{{AFX_DATA(CInputView)
      CString m_strData;
      int     m_iColor;
      //}}AFX_DATA

</PRE>This section of code is missing a line that Class Wizard needs in order to
identify the controls available to set up as edit variables. This line is
the enum line, which is normally automatically added by Class Wizard when
creating CDialog derived classes.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Modify the above code as follows:
<P>
<PRE>   //{{AFX_DATA(CInputView)
   enum { IDD = IDD_INPUTFORM };
   CString m_strData;
   int     m_iColor;
   //}}AFX_DATA
   //{{ AFX_DATA(CInputView

</PRE>This will work around the problem. With such an enum line, Class Wizard is
able to determine the dialog box template to examine for available
controls.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in the Microsoft products
listed above.  This problem was fixed in Microsoft Visual C++, 32-bit
Edition, version 2.0.
 
<PRE>Keywords          : MfcMisc kbfasttip
Technology        : kbmfc
Version           : 1.0 1.5
Platform          : NT WINDOWS
Issue type        : kbbug
Solution Type     : kbfix</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 16, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
