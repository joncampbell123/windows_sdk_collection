

<HTML>
<HEAD>
<TITLE>INFO: Keeping #include Files Out of VWB Dependency List </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q102390">
<META NAME="KBModify" CONTENT="1997/10/07">
<META NAME="KBCreate" CONTENT="1993/08/03">
<META NAME="Keywords" CONTENT="VwbIss kbfasttip">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  By default, the Visual Workbench includes files in the dependency list even if they are included between an #ifdef, #endif pair. In some situations, this behavior may be undesirable. The following article describes several ways to keep the files ou...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QA55,QA56,QBFY,QBWP,QAE1,QBVV,QAA1,QDL9,QBWQ,QBWO,QBWN,QDI2,QA2S,QAXB,QAL2 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INFO: Keeping #include Files Out of VWB Dependency List</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 7, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q102390</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>The Visual Workbench included with:
   - Microsoft Visual C++ for Windows, versions 1.0, 1.5, 1.51
   - Microsoft Visual C++, 32-bit Edition, versions 1.0, 2.0, 2.1, 4.0,
<P><PRE>     4.1, 4.2, 5.0
</UL></PRE> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
By default, the Visual Workbench includes files in the dependency list even
if they are included between an #ifdef, #endif pair. In some situations,
this behavior may be undesirable. The following article describes several
ways to keep the files out of the dependency scanning process.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The Visual Workbench scans a file for header file dependencies by looking
for lines in a source file that have the form
<P>
<PRE>   #include &lt;filename.h&gt;

   -or-

   #include "filename.h"

</PRE>Because the dependency scanner does not have a preprocessor, it will
include headers file in the dependency list even if they conditionally
included using an #ifdef as shown below.
<P>
For example, with the following code, the file "unixstuf.h" will be tagged
as a dependency when the makefile is built:
<P>
<PRE>   #define _WIN32

   #ifndef _WIN32
   #include &lt;sys/unixstuf.h&gt;
   #endif

</PRE>To get the desired behavior:

<OL><P><LI>Add the file name to the Visual C++ system header exclusion file,
   SYSINCL.DAT, found in the product BIN directory. The SYSINCL.DAT file
   is used by the Visual Workbench to prevent scanning specified files for
   dependencies. In its initial state, SYSINCL.DAT lists the system include
   files that are unlikely to change. You can edit this file to prevent
   the Visual Workbench from scanning other files, such as header files
   that you know will not change, or to scan system files that you alter.
   If you delete the SYSINCL.DAT file, Visual Workbench restores it to its
   default state the next time you start Visual Workbench.
<P>
   For Visual C++ 32-bit Edition, you have the option of creating
   MSVCINCL.DAT in the Windows NT directory. As the Visual C++ 4.0 Books
   Online state in the entry for "Updating Dependencies":
<P>
<P><PRE>      You can list in [MSVCINCL.DAT] additional files that you want
      to exclude, such as headers for external class libraries or
      some of the include files in a large project. You should use
      this file for additions because SYSINCL.DAT may be overwritten
      if you reinstall Visual C++, if you modify your installation
      with Setup, or if you update your installation. . . . These
      lists should contain only files that are not likely to change
      often.
</PRE><P>
   Make any necessary changes to SYSINCL.DAT or MSVCINCL.DAT before you
   start the Visual Workbench.
<P>
</OL><h2>REFERENCES</h2>
 
<P>
For more information about SYSINCL.DAT with Visual C++ for Windows or
Visual C++ 32-bit Edition, versions 1.0 and 2.x, choose Visual Workbench
from the Visual Workbench Help menu and choose Search. Type "SYSINCL.DAT"
and choose OK. For more information about SYSINCL.DAT or MSVCINCL.DAT with
Visual C++ 32-bit Edition, version 4.0, search the Books Online for
"updating dependencies".
<P>
NOTE: Each filename in these files must have a newline character sequence
immediately following the last character of the filename. The newline
character sequence is inserted by simply positioning the input cursor and
pressing the &lt;enter&gt; key.
 
<PRE>Keywords          : VwbIss kbfasttip
Version           : WINDOWS:1.0,1.5; WINDOWS NT:1.0,2.0,2.1,4.0,4.1,4.2,5.0
Platform          : NT WINDOWS
Issue type        : kbinfo</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 7, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
