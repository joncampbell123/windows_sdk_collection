

<HTML>
<HEAD>
<TITLE>PRB: Print Break in MFC App Running in Windows NT 3.51 Checked </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q138993">
<META NAME="KBModify" CONTENT="1997/07/10">
<META NAME="KBCreate" CONTENT="1995/10/31">
<META NAME="Keywords" CONTENT="MfcPrinting kberrmsg kbprb kbprint">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  While using the Visual C++ debugger, if you click Print or Print Preview in an MFC application running under Windows NT version 3.51 Checked Build, a message box appears:  In the Visual C++ 2.x debugger, the message box contains:     Break caused b...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QA01,QAGI,QAOX,QABH,QBFY,QA56,QA55,QAH4,QAEV,QABI,QBWS,QBRM,QAFV,QAIF V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: Print Break in MFC App Running in Windows NT 3.51 Checked</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 10, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q138993</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
2.00 2.10 2.20 4.00
WINDOWS NT
kbprint kberrmsg kbprb
<P>
 
The information in this article applies to:

<UL><LI>The Microsoft Foundation Classes (MFC) included with:
   Microsoft Visual C++, 32-bit Edition, versions 2.0, 2.1, 2.2, 4.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
While using the Visual C++ debugger, if you click Print or Print Preview in
an MFC application running under Windows NT version 3.51 Checked Build, a
message box appears:
<P>
In the Visual C++ 2.x debugger, the message box contains:
<P>
<PRE>   Break caused by hard coded breakpoint instruction

</PRE>In the Visual C++ 4.0 debugger, the message box contains:
<P>
<PRE>   User breakpoint called from code at 0x&lt;8-digit address&gt;

</PRE>The following message is also printed in the Output Window of the debugger:
<P>
<PRE>   BASE: GlobalFree called with a locked object.

</PRE><h2>CAUSE</h2>
 
<P>
MFC queries an HDEVNAMES handle for information about the printer device.
This information is obtained by making calls to GlobalLock to get a valid
pointer to the DEVNAMES structure. Under Win32, it is not technically
necessary to call GlobalUnlock for every GlobalLock, so MFC doesn't always
do so.
<P>
The Checked Build of Windows NT 3.51 provides debugging information that
warns you when GlobalFree is called on an object that does not have a lock
count of 0. When this occurs, it outputs a trace message and causes a hard
coded break instruction to be executed.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
The message and the break can be safely ignored. To continue with execution
in the debugger, you can just click Go on the Debug menu, or press the F5
key.
<P>
<P><h2>STATUS</h2>
 
<P>
This behavior is by design.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 2.00 2.10 2.20 4.00 3.00 3.10 3.20 4.00<BR>
KBCategory: kbprint kbprb kberrmsg<BR>
KBSubcategory: MfcPrinting<BR>
Keywords            : MfcPrinting kberrmsg kbprb kbprint<BR>
Technology          : kbMfc<BR>
Version             : 2.00 2.10 2.20 4.00<BR>
Platform            : NT WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 10, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
