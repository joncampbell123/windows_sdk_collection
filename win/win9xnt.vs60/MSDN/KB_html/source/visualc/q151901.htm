

<HTML>
<HEAD>
<TITLE>PRB: StatusBar Pane Enabled by Default </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q151901">
<META NAME="KBModify" CONTENT="1997/08/07">
<META NAME="KBCreate" CONTENT="1996/05/30">
<META NAME="Keywords" CONTENT="MfcUI kbprb kbprg kbui">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  When a non-default pane is added to the StatusBar, this pane is automatically enabled even if it does not have an Update UI handler.  CAUSE =====  This behavior is different than the behavior in earlier versions of MFC where the pane was automatica...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAXB,QAGQ,QAC1,QBD2,QBXS,QA4P,QAA5,QADK,QABA,QDIX,QBWP,QAY5,QABO,QAH4,QBWT V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: StatusBar Pane Enabled by Default</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  August 7, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q151901</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
4.00 4.10
WINDOWS NT
kbui kbprg kbprb
<P>
 
The information in this article applies to:

<UL><LI>The Microsoft Foundation Classes (MFC), included with:
   Microsoft Visual C++, 32-bit Edition, versions 4.0, 4.1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When a non-default pane is added to the StatusBar, this pane is
automatically enabled even if it does not have an Update UI handler.
<P>
<P><h2>CAUSE</h2>
 
<P>
This behavior is different than the behavior in earlier versions of MFC
where the pane was automatically disabled if there was no Update UI
handler.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To disable the pane, unless it is enabled by a handler, add an Update UI
handler for the pane to the CMainFrame class of the application that
disables the pane.
<P>
<P><h2>STATUS</h2>
 
<P>
This behavior is by design.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
In certain situations the pane can be disabled by default, such as when the
pane is displaying the status associated with a Document or the View. In
these situations, you should disable the pane if no Document/View is open.
<P>
To disable the pane by default, add an Update UI handler for this pane to
CMainFrame. Add an update UI handler in the Document or View that updates
the pane depending on the status.
<P>
When a Document/View is open, then the update UI handler in the
Document/View will update the pane depending on its state. When all
documents are closed, the Update handler in CMainFrame will disable the
pane.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Sample Code</h3>
 
<P>
<PRE>   /* Compile options needed: default
   */
   // Following code disables a pane in the StatusBar with ID,
   // ID_MYPANE in the CMainFrameClass.

   // MainFrm.h : interface of the CMainFrame class
   ...
   class CMainFrame : public CMDIFrameWnd
   {
   ...
       //}}AFX_MSG
       afx_msg void OnUpdateMypane(CCmdUI* pCmdUI);
       DECLARE_MESSAGE_MAP()
   };


   // MainFrm.cpp : implementation of the CMainFrame class
   ...

   BEGIN_MESSAGE_MAP(CMainFrame, CMDIFrameWnd)
       //{{AFX_MSG_MAP(CMainFrame)
   ...
       //}}AFX_MSG_MAP
       ON_UPDATE_COMMAND_UI(ID_MYPANE, OnUpdateMypane)
   END_MESSAGE_MAP()

   static UINT indicators[] =
   {
       ID_SEPARATOR,           // status line indicator
       ID_MYPANE,             //String resource with this ID in resources
       ID_INDICATOR_CAPS,
       ID_INDICATOR_NUM,
       ID_INDICATOR_SCRL,
   };

   ...
   void CMainFrame::OnUpdateMypane(CCmdUI* pCmdUI)
   {
       pCmdUI-&gt;Enable(FALSE);

   }
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 4.00 4.10 CStatusBar enable<BR>
KBCategory: kbui kbprg kbprb<BR>
KBSubcategory: MfcUI<BR>
Keywords          : MfcUI kbprb kbprg kbui<BR>
Technology        : kbMfc<BR>
Version           : 4.00 4.10<BR>
Platform          : NT WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  August 7, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
