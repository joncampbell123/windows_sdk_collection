

<HTML>
<HEAD>
<TITLE>Visual C++ README.WRI Part 8-Profiler </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q97545 ">
<META NAME="KBModify" CONTENT="1997/07/17">
<META NAME="KBCreate" CONTENT="1993/04/13">
<META NAME="Keywords" CONTENT="kb16bitonly VCGenIss kbreadme">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  The text below presents information in Part 8 of the README.TXT file distributed with Microsoft Visual C++ version 1.0. Setup installs README.WRI in the MSVC\HELP directory.  MORE INFORMATION  Profiling Windows Exit Procedures (WEPs)  You cannot us...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBV8,QAB9,QBBI,QA5V,QAH4,QAGI,QAY5,QBXT,QAIB,QAJQ,QA5E,QAVI,QAPN,QAKC,QBFY V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Visual C++ README.WRI Part 8-Profiler</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q97545 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
1.00
MS-DOS
kbreadme
<P>
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Visual C++ for MS-DOS, version 1.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The text below presents information in Part 8 of the README.TXT file
distributed with Microsoft Visual C++ version 1.0. Setup installs
README.WRI in the MSVC\HELP directory.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Profiling Windows Exit Procedures (WEPs)</h3>
 
<P>
You cannot use the Profiler while a WEP is being called. The profiler
normally detects that a WEP is about to be called, and removes all
breakpoints from the .DLL. That is, no profiling of a WEP takes place,
even though you may see an entry for it in the output from PLIST. In
addition, function calls made by a WEP will not be profiled, though
the same function calls can safely be made at any other time.
<P>
Under certain circumstances involving .DLLs loaded with LoadLibrary(),
the Profiler may be unable to detect that a WEP is about to be called.
In this case, you will most likely experience a crash of the system
during or after profiling. If you do, you can work around the problem
by explicitly turning off profiling of all WEPs and all functions that
they call. To do so, you must use a .PCF file as input to PREP. The
.PCF file must contain these lines for each .DLL containing a WEP:
<P>
<PRE>   PROGRAM &lt;XXX&gt;.DLL
   OBJECT &lt;YYY&gt;.DLL
   FUNCTION WEP DELETE

</PRE>where &lt;XXX&gt; and &lt;YYY&gt; are the appropriate names.
<P>
<P><h3>Tab-Delimited Output Format</h3>
 
<P>
The line information record (record type 7) described on page 55 of
the "Source Profiler User's Guide" should include a sixth field, Time.
The Time field gives the amount of time spent executing the line of
code, in milliseconds. This field is zero when profiling by counting
or coverage.
<P>
<P><h3>PLIST Command-Line Options</h3>
 
<P>
The PLIST /T command-line option, described on page 43 of Source
Profiler User's Guide, will be ignored if preceded by /SC, /SL, /SLS,
/SN, /SNS, or /ST.
<P>
<P><h3>Profiler Errors</h3>
 
<P>
Add the following messages to the list of profiler errors:
<P>
<PRE>   PR1311   A profiling type must be specified before using the
            &lt;command&gt; command or equivalent option.

       The type of profiling must be set with the LPROFILE or FPROFILE
       command or the equivalent PREP command-line option before using
       this command in a .PCF.

   PR1312   A PROGRAM command or /P command-line option must be used
            before using the &lt;command&gt; command or equivalent option.

       The program being profiled must be specified with the PROGRAM
       command or the PREP /P command-line option before using this
       command in a .PCF. The program name specified must be a valid
       .EXE, .COM, or .DLL file.

   PR1313   An OBJECT command must be used before using the &lt;command&gt;
            command.

       The object file being profiled must be specified with the
       OBJECT command before using this command in a .PCF.

   PR1314   A FILE command must be used before using the &lt;command&gt;
            command.

       The source file being profiled must be specified with the FILE
       command before using this command in a .PCF.

   PR1327   An invalid profiling action was requested.

       There was an attempt to perform an action that did not
       correspond to the current profiling type. This error can be
       caused by using the LINE.PCF command with function profiling.

   PR1328   Because of a .PBT version number mismatch, the profiler
            was unable to read .PBT file &lt;filename&gt;.

       There was an attempt to read two incompatible .PBT files.

   PR1432   A user-defined breakpoint was trapped at
            &lt;segment&gt;:&lt;offset&gt;

       The Profiler trapped a user-defined breakpoint (INT3) while
       executing the program being profiled. The breakpoint was
       trapped in a location that was being profiled.

   PR1433   An unexpected breakpoint was trapped at &lt;segment&gt;:&lt;offset&gt;

       The Profiler trapped a breakpoint (INT3) while executing the
       program being profiled. The breakpoint was trapped in a
       location that was not being profiled.

   PR1605   Because of a .PBT version number mismatch, the profiler
            was unable to merge .PBT file &lt;filename&gt;.

       There was an attempt to merge two incompatible .PBT files.

   PR3323   The profiler was unable to find the line number for
            function &lt;function&gt; in the source file.

       The CodeView information in the executable file is
       inconsistent. The information indicates that there is a
       function, procedure, or subroutine at a certain line number,
       but there was none found on that line.

   PR4428   A user-defined breakpoint was found at &lt;segment&gt;:&lt;offset&gt;
            Module: &lt;filename&gt;
            Linker Address: &lt;segment&gt;:&lt;offset&gt;

       A breakpoint was found at the specified location. The Profiler
       was told to profile this location. Processing will continue as
       normal.
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 1.00<BR>
KBCategory: kbreadme<BR>
KBSubcategory: VCGenIss<BR>
Keywords            : kb16bitonly VCGenIss kbreadme<BR>
Version             : 1.00<BR>
Platform            : MS-DOS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 17, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
