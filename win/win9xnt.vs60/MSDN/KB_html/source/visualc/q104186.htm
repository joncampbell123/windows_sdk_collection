

<HTML>
<HEAD>
<TITLE>PRB: C2250 Error Generated with Ambiguous Multiple Inheritance </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q104186">
<META NAME="KBModify" CONTENT="1997/07/25">
<META NAME="KBCreate" CONTENT="1993/09/09">
<META NAME="Keywords" CONTENT="CPPIss kbfasttip">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  With the Microsoft C/C++ compiler, the error     Error C2250: 'identifier': Ambiguous Inheritance of 'class::member'  may be generated when a class inherits from two or more classes, at least two of which derive from the same virtual base class and...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBFY,QAB4,QABO,QAAP,QA2O,QABA,QAY5,QDH9,QAOT,QAY2,QAJQ,QBXF,QBV8,QAB9,QA4F V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: C2250 Error Generated with Ambiguous Multiple Inheritance</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 25, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q104186</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>The Microsoft C/C++ Compiler (CL.EXE) included with:
   - Microsoft C/C++ for MS-DOS, version 7.0
   - Microsoft Visual C++ for Windows, versions 1.0, 1.5, 1.51, 1.52
   - Microsoft Visual C++ 32-bit Edition, versions 1.0, 2.0, 2.1, 4.0, 5.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
With the Microsoft C/C++ compiler, the error
<P>
<PRE>   Error C2250: 'identifier': Ambiguous Inheritance of 'class::member'

</PRE>may be generated when a class inherits from two or more classes, at least
two of which derive from the same virtual base class and redefine the same
base class virtual member.
<P>
<P><h2>CAUSE</h2>
 
<P>
This is expected C++ compiler behavior.
<P>
In the Sample Code below, the error is generated because D::f is ambiguous.
That is, both class B and class C redefine their member f(), inherited from
the virtual base class A, and class D inherits from B and C.  As class D
has only one vtable slot for the virtual function f(), and both B::f and
C::f cannot be put there, the compiler generates error C2550.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
There are two ways to avoid the error:

<UL><LI>Remove or change the name of the member function causing
   the ambiguity.  In the Sample Code below, the error can be
   fixed by removing (or commenting) the declaration of either
   B::f(), C::f(), or both.

<LI>Override the virtual function in the most-derived class.
   In the Sample Code below, this means adding a declaration
   of "void f();" to class D.  Then, if so desired, D::f can
   be defined to call f() from any of the base classes.  For
   example,
<P>
<PRE>   void D::f()
   {
      B::f();
      C::f();
   }

</PRE></UL><h2>MORE INFORMATION</h2>
 
<P>
Any expression that refers to a class member must make an unambiguous
reference.  Unfortunately, multiple inheritance introduces the possibility
for names to be inherited along more than one path.  The class-member names
along these paths are not necessarily unique.  These name conflicts are
called "ambiguities."  When the compiler detects an ambiguity, it generates
an error message.
<P>
<P><h3>Sample Code</h3>
 
<P>
<PRE>   /* Compiler options needed: /c
   */

   class A
   {
   public:
       int a;
       virtual void e();
       virtual void f();
   };

   class B : public virtual A
   {
   public:
      void f();
      int a;
   };

   class C : public virtual A
   {
   public:
      void f();
   };

   class D : public B, public C
   {
   public:
      void d();
   };  // VC++ 4.0 - 2 C2250 errors
       //   'D' : ambiguous inheritance of 'B::f'
       //   'D' : ambiguous inheritance of 'C::f'

   void D::d()
   {
     a++; // OK: only one function 'a' in class 'D'
     e(); // OK: only one function 'e' in class 'D'
     f(); // error C2250 or error C2385 :
          //   two function 'f's in class 'D'
   }
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 8.00 8.00c 9.00 9.10<BR>
Keywords          : CPPIss kbfasttip<BR>
Version           : 7.0 1.0 1.5 1.51 1.52 2.0 2.1 4.<BR>
Platform          : MS-DOS NT WINDOWS<BR>
Issue type        : kbprb<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 25, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
