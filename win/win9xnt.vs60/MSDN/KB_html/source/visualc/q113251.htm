

<HTML>
<HEAD>
<TITLE>SAMPLE: MULTICON Demonstrates Dynamic Icons </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q113251">
<META NAME="KBModify" CONTENT="1997/07/10">
<META NAME="KBCreate" CONTENT="1994/03/29">
<META NAME="Keywords" CONTENT="MfcUI kbfile kbprg">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  The MULTICON sample demonstrates how to implement dynamic icons for both CMDIChildWnd and CMDIFrameWnd windows. The procedure is to first register a window class with a NULL icon for the frame. A frame of this type receives WM_PAINT messages when i...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QADK,QAIB,QDL9,QBWQ,QBWO,QBWN,QBWP,QAIA,QA5A,QBW1,QAVQ,QAPF,QAND,QBW9,QBSO V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SAMPLE: MULTICON Demonstrates Dynamic Icons</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 10, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q113251</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
1.00 1.50 1.51 1.52 | 1.00 2.00 2.10 4.00
<PRE>WINDOWS             | WINDOWS NT
</PRE>kbprg kbfile
<P>
 
The information in this article applies to:

<UL><LI>The Microsoft Foundation Classes (MFC) included with:
   - The Microsoft Visual C++ for Windows, versions 1.5, 1.51, and
<P><PRE>     1.52
</PRE>   - The Microsoft Visual C++ 32-bit Edition, versions 1.0, 2.0, 2.1, 4.0,
<P><PRE>     4.1
</UL></PRE> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The MULTICON sample demonstrates how to implement dynamic icons for both
CMDIChildWnd and CMDIFrameWnd windows. The procedure is to first register a
window class with a NULL icon for the frame. A frame of this type receives
WM_PAINT messages when it becomes iconic, and can output to a 36 x 36*
pixel area. To prevent duplicating output code from the view, the frame can
call its view's OnDraw member to do the output.
<P>
Note: Dynamically animated application icons will not work on Windows 95
and versions of Windows NT after 3.51.
<P>
MULTICON can be downloaded as a self-extracting file from the Microsoft
Software Library (MSL) on the following services:

<UL><LI>Microsoft Download Service (MSDL)
<P><PRE>      Dial (206) 936-6735 to connect to MSDL
      Download <A href="http://support.microsoft.com/download/support/mslfiles/multicon.exe">MULTICON.EXE</A> <I>(size: 47498 bytes)</I> 
</PRE>
<LI>Internet (anonymous FTP)
<P><PRE>      ftp ftp.microsoft.com
      Change to the \softlib\mslfiles directory
      Get <A href="http://support.microsoft.com/download/support/mslfiles/multicon.exe">MULTICON.EXE</A> <I>(size: 47498 bytes)</I> 
</PRE><P>
</UL>This file contains subdirectories, be sure to use the -d command line
switch while extracting.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Two simple view classes are used to demonstrate dynamic icons: CRectView
and CEllipseView. These classes draw a random rectangle and a random
ellipse, respectively. CWinApp::OnIdle is overridden to invalidate each
open view and each minimized frame window. The MULTICON sample also
demonstrates how to scale the output from an open view to fit a minimized
frame, and how to convert the minimized frame's output to an icon during a
drag operation.
<P>
*For Windows 3.1, subject to change in future versions of Windows.
<P>
<PRE>Feature (How to...)                            Location(s)
-------------------                            -----------

</PRE>Generate random rectangles ................... RECTVIEW.CPP
<PRE>                                               CRectView::OnDraw

</PRE>Generate random ellipses ..................... ELLPSEVW.CPP:
<PRE>                                               CEllipseView::OnDraw

</PRE>Register a window class with a NULL
icon ......................................... MAINFRM.CPP:
<PRE>                                               CMainFrame::PreCreateWindow

</PRE>Render on a minimized CMDIFrameWnd using the
application's active view .................... CMainFrame::OnPaint
<P>
Convert the display of a minimized
CMDIFrameWnd to an icon ...................... CMainFrame::QueryDragIcon
<P>
Enable OnIdle processing while a menu or
modal dialog is displayed .................... CMainFrame::OnEnterIdle
<P>
<PRE>Render on a minimized CMDIChildWnd using the   ICONWND.CPP:
</PRE>associated view .............................. CIconWnd::OnPaint
<P>
Convert the display of a minimized
CMDIChildWnd to an icon ...................... CIconWnd::QueryDragIcon
<P>
<PRE>Drive animated views and icons in the          MULTICON.CPP:
</PRE>background ................................... CMulticonApp::OnIdle
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: kbinf 1.00 1.5 1.51 1.52 2.0 2.10 2.5 2.51 2.52<BR>
3.00 3.10 4.00 4.10 dynamic mdi frame child<BR>
KBCategory: kbprg kbfile<BR>
KBSubcategory: MfcUI<BR>
Keywords            : MfcUI kbfile kbprg<BR>
Technology          : kbMfc<BR>
Version             : 1.00 1.50 1.51 1.52 | 1.00 2.00<BR>
Platform            : NT WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 10, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
