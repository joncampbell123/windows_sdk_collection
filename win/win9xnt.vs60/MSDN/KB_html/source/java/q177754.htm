

<HTML>
<HEAD>
<TITLE>FIX: NoClassDefFoundError When a Valid Class Definition Exists </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q177754">
<META NAME="KBModify" CONTENT="1998/01/29">
<META NAME="KBCreate" CONTENT="1997/12/05">
<META NAME="Keywords" CONTENT="kb3rdparty JVM">
<META NAME="KBArea" CONTENT="Support; KB; java">
<META NAME="Description" CONTENT=" The information in this article applies specifically to version 4.79.2252 of the Microsoft Virtual Machine for Java, which is included in the above products.   A Java applet or program that attempts to load certain valid Java classes may fail with a...">
<META NAME="Product" CONTENT="java">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBXF,QBRJ,QBV9,QDH9,QBFM,QBVX,QABO,QAR4,QA3N,QAVZ,QAC1,QDKS,QBWP,QA6A,QAT7 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>FIX: NoClassDefFoundError When a Valid Class Definition Exists</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 29, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q177754</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Internet Explorer version 4.0 for Windows NT 4.0
<LI>SDK for Java, version 2.0
<LI>Microsoft Internet Explorer version 4.0 for Windows 95
</UL> 
<P>
The information in this article applies specifically to version 4.79.2252
of the Microsoft Virtual Machine for Java, which is included in the above
products.
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
A Java applet or program that attempts to load certain valid Java classes
may fail with a NoClassDefFoundError exception.
<P>
If the applet is running inside Internet Explorer, there may be no visible
symptoms, except that the applet does not run properly. If Java Logging is
enabled in Internet Explorer, however, the file Javalog.txt file, created
in the Java subdirectory of the Windows directory, contains a log of the
exception, and a call stack. Here is a typical example of the exception:
<P>
<PRE>   java.lang.NoClassDefFoundError: COM/objectspace/jgl/HashMap

</PRE><h2>CAUSE</h2>
 
<P>
The Microsoft Virtual Machine for Java verifies that the .class file that
defines each Java class is valid before loading it. Version 4.79.2252
erroneously decides that certain .class files are not valid, and therefore,
fails to load them. When it fails to find a valid definition for a class,
the Virtual Machine throws a NoClassDefFoundError exception.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Download and install the current Virtual Machine from the following Web
site:
<P>
<PRE>   <B><A href="http://www.microsoft.com/java/vm/dl_vmsp2.htm">http://www.microsoft.com/java/vm/dl_vmsp2.htm</A></B>

</PRE><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a bug in the Microsoft products listed
at the beginning of this article. This bug has been corrected in the
Microsoft Virtual Machine for Java, version 4.79.2334.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
One class that the Virtual Machine fails to validate is the HashMap class
from ObjectSpace's JGL class library. It is possible to produce other
.class files that the Virtual Machine will fail to validate using a Java
compiler, including Microsoft's Visual J++ or SDK 2.0 for Java.
<P>
<P><h3>Steps to Reproduce Behavior</h3>
 
<P>
If you have JGL and SDK 2.0 for Java, the following program will exhibit
this bug:
<P>
<PRE>   import COM.objectspace.jgl.*;
   public class HashMapTest
   {
      public static void main (String args[])
      {
         HashMap    hm = new HashMap();
      }
   }

</PRE>Version 4.79.2252 of the Virtual Machine throws a NoClassDefFoundError.
Version 4.79.2334 of the Virtual Machine executes this with no errors.
<P>
<P><h2>REFERENCES</h2>
 
<P>
JGL is manufactured by ObjectSpace, Inc., a vendor independent of
Microsoft; we make no warranty, implied or otherwise, regarding this
product's performance or reliability.
<P>
Further information about JGL can be found at the following Web site:
<P>
<PRE>   <B><A href="http://www.objectspace.com/jgl/">http://www.objectspace.com/jgl/</A></B>

</PRE>For the latest Knowledge Base articles and other support information on
Visual J++ and the SDK for Java, see the following page on the Microsoft
Technical Support site:
<P>
<PRE>   <B><A href="http://support.microsoft.com/support/visualj/">http://support.microsoft.com/support/visualj/</A></B>
   <B><A href="http://support.microsoft.com/support/java/">http://support.microsoft.com/support/java/</A></B>
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: NoClassDefFoundError
<P>

Keywords          : kb3rdparty JVM<BR>
Technology        : kbInetDev internet<BR>
Version           : WINDOWS:2.0,4.0<BR>
Platform          : WINDOWS<BR>
Issue type        : kbbug<BR>
Solution Type     : kbfix<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 29, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
