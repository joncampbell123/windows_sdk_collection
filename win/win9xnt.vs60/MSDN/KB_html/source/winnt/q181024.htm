

<HTML>
<HEAD>
<TITLE>DHCP Event ID 1002: DHCP Received an Unknown Option... </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q181024">
<META NAME="KBModify" CONTENT="1998/03/05">
<META NAME="KBCreate" CONTENT="1998/02/12">
<META NAME="Keywords" CONTENT="NTINTEROP ntnetserv ntrouter NTSrvWkst nttcp kb3rdparty kberrmsg kbinterop kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  Your Windows NT Remote Access Service (RAS) server or Routing and Remote Access Service (RRAS) server may log the following event message in Event Viewer about once every minute:     Event ID   : 1002    Source     : DHCP    Description: DHCP recei...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWD,QDJG,QBWP,QBUP,QA1S,QDIZ,QBUV,QAC2,QBWS,QBSO,QABA,QAVZ,QACK,QARL,QANN V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>DHCP Event ID 1002: DHCP Received an Unknown Option...</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 5, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q181024</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation versions 3.51 and 4.0
<LI>Microsoft Windows NT Server versions 3.51 and 4.0
<LI>Microsoft Routing and Remote Access Service Update for Windows NT
   Server version 4.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Your Windows NT Remote Access Service (RAS) server or Routing and Remote
Access Service (RRAS) server may log the following event message in Event
Viewer about once every minute:
<P>
<PRE>   Event ID   : 1002
   Source     : DHCP
   Description: DHCP received an unknown option 006 of length 007. The raw
                option data is given below.

</PRE><h2>CAUSE</h2>
 
<P>
This error is usually caused when the following conditions exist:

<UL><LI>Your Windows NT RAS server is configured to use Dynamic Host
   Configuration Protocol (DHCP) to assign remote TCP/IP client addresses.

<LI>You have a router on your network with a feature known as DHCP Spoofing
   enabled.

<LI>You do not have a DHCP server currently on your network.
<P>
</UL><h2>RESOLUTION</h2>
 
<P>
To resolve this issue, you will need to do one of the following:

<UL><LI>Configure your RAS server to statically assign IP address using the
   following steps:
<P>
   1. Click Start, point to Settings, click Control Panel, and double-click
<P><PRE>      Network.
</PRE><P>
   2. Click the Services tab and double-click Remote Access Service.
<P>
   3. Click Network, click Configure for TCP/IP in Server Settings of the
<P><PRE>      Network Configuration dialog box.
</PRE><P>
   4. Click Use Static Address Pool and enter the IP address pool that you
<P><PRE>      want to use.
</PRE><P>
   5. Click OK and close until you are prompted to restart your computer.
<P>
   6. Restart your computer.
<P>
   -or-

<LI>Disable the DHCP Spoofing feature on your router. Consult your router
   manufacturer for information on how to do this.
<P>
   -or-

<LI>Configure a DHCP server on your network.
<P>
</UL><h2>MORE INFORMATION</h2>
 
<P>
With a default installation, a Windows NT RAS server is configured with the
option to "Use DHCP to assign remote TCP/IP client addresses." With this
option set, the RAS server will broadcast DHCPDISCOVER packets to a DHCP
server. After the DHCP server responds, the RAS server will cache a range
of IP addresses for its dial-in clients. What are not cached are the other
configuration options such as Domain Name Service (DNS) servers, Windows
Internet Name Service (WINS) servers, and default gateway information. For
more information, see the following article in the Microsoft Knowledge
base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../winnt/q160699.htm">Q160699</A></B>
   TITLE     : Understanding DHCP IP Address Assignment for RAS Clients

</PRE>Some routers, including Ascend Pipeline routers, have a feature known as
DHCP Spoofing. This feature is essentially similar to a DHCP Relay Agent.
The router will listen for DHCP broadcasts and attempt to answer the
requests by responding with a temporary IP address, along with other
optional parameters that are pre-configured in the router.
<P>
The temporary IP address is the IP address of the router plus 1 for each
sequential client request. A client who receives an address from the router
will have a lease duration of only 1 minute and will have to renew its
address after the lease expires in 50 percent of its lease time.
<P>
Pipeline routers are manufactured by Ascend, a vendor independent of
Microsoft; we make no warranty, implied or otherwise, regarding this
product's performance or reliability.
<P>
For information about how to contact Ascend, query in the Knowledge Base
for one of the following articles:
<P>
<PRE>   ARTICLE-ID: <B><A href="../zmiscellaneous/q65416.htm">Q65416</A></B>
   TITLE     : Hardware and Software Third-Party Vendor Contact List, A-K

   ARTICLE-ID: <B><A href="../zmiscellaneous/q60781.htm">Q60781</A></B>
   TITLE     : Hardware and Software Third-Party Vendor Contact List, L-P

   ARTICLE-ID: <B><A href="../zmiscellaneous/q60782.htm">Q60782</A></B>
   TITLE     : Hardware and Software Third-Party Vendor Contact List, Q-Z
</PRE> 
<PRE>Keywords          : NTINTEROP ntnetserv ntrouter NTSrvWkst nttcp kb3rdparty kberrmsg kbinterop kbnetwork
Version           : WinNT:3.51,4.0
Platform          : winnt
Issue type        : kbprb</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 5, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
