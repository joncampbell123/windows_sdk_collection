

<HTML>
<HEAD>
<TITLE>Clustering Information on IP Address Failover </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q168567">
<META NAME="KBModify" CONTENT="1998/03/19">
<META NAME="KBCreate" CONTENT="1997/05/14">
<META NAME="Keywords" CONTENT="NTPROTOCOL NTSrv kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT=" Microsoft Cluster Server(MSCS) provides the ability to define an IP address resource within a cluster, and for it to failover from one node to another.  IP address failover ability depends on two things:   - Support for dynamic registration and dere...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWD,QBWP,QAC2,QAGI,QAR5,QAXB,QBW4,QBBI,QAVZ,QAC1 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Clustering Information on IP Address Failover</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 19, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q168567</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server, Enterprise Edition version 4.0
   - Microsoft Cluster Server
</UL> 
<P>
Microsoft Cluster Server(MSCS) provides the ability to define an IP address
resource within a cluster, and for it to failover from one node to another.
<P>
IP address failover ability depends on two things:

<UL><LI>Support for dynamic registration and deregistration of IP addresses.

<LI>Ability to update the network address translation caches of other
   systems attached to the subnet on which an address is registered.
<P>
</UL>Dynamic address registration and deregistration is already implemented
within the Microsoft Windows NT operating system to support the lease of IP
addresses using the Dynamic Host Configuration Protocol (DHCP).
<P>
Microsoft Cluster Server uses existing features within Windows NT for IP
address registration and deregistration. When the cluster component
attempts to bring an IP Address resource online, the software sends a
command to the TCP/IP driver to register the specified address. A similar
command exists to unregister an address when the corresponding resource is
taken offline.
<P>
The cluster software updates the translation caches of other systems on the
LAN through the Address Resolution Protocol (ARP) specification (RFC 826),
which is implemented by Windows NT. The specification states that all
systems receiving an ARP request must update their IP Address to physical
address mapping for the source of the request (the source IP and physical
network addresses are contained within the request).
<P>
Further, as part of the IP address registration process, the Windows NT
TCP/IP driver broadcasts an ARP request on the appropriate LAN several
times. The request asks the owner of the specified IP address to respond
with its physical network address. By sending these requests for the IP
address being registered, Windows NT may detect IP address conflicts; if a
response is received, the address cannot be safely used.
<P>
When the driver sends these requests, Windows NT specifies the IP address
being registered as the source of the request. Thus, all systems on the
network will update their ARP cache entries for the specified address.
Therefore, the registering system becomes the new owner of the address.
<P>
NOTE: If an address conflict occurs, the responding system may send out
another ARP request for the same address, forcing the other systems on the
subnet to update their caches again. Windows NT does this when it detects a
conflict with an address that it has successfully registered.
<P>
For more information on the Address Resolution Protocol (ARP) as discussed
in RFC 826, you may obtain a copy on the Internet from the following
source:
<P>
<PRE>   <B>ftp://ds.internic.net/rfc/rfc826.txt</B>
</PRE> 
<PRE>Keywords          : NTPROTOCOL NTSrv kbnetwork
Version           : WinNT:4.0
Platform          : winnt
Issue type        : kbinfo</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 19, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
