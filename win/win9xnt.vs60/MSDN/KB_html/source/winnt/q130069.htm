

<HTML>
<HEAD>
<TITLE>SERVICES.EXE Fails With Access Violation and Returns RPC Busy... </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q130069">
<META NAME="KBModify" CONTENT="1997/11/10">
<META NAME="KBCreate" CONTENT="1995/05/10">
<META NAME="Keywords" CONTENT="ntnetserv NTSrvWkst kbbug3.50 kbfix3.51 kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  The  RPC Server is too busy...  message indicates that SERVICES.EXE or one of its threads may have hung. A thread may remain in a blocking state and appear to be hung if a resource is not available.  SERVICES.EXE is a process which functions as the...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QACK,QBWP,QAGI,QAUD,QAAP,QAY5,QAB4,QAKP,QA1S,QBVV,QAO4,QBTX,QDNL,QAV1,QAV0 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SERVICES.EXE Fails With Access Violation and Returns RPC Busy...</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 10, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q130069</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.50
WINDOWS
kbnetwork kbbug3.50 kbfix3.51
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 3.5
<LI>Microsoft Windows NT Server version 3.5
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The "RPC Server is too busy..." message indicates that SERVICES.EXE or one
of its threads may have hung. A thread may remain in a blocking state and
appear to be hung if a resource is not available.
<P>
SERVICES.EXE is a process which functions as the service control manager.
It also runs a variety of Windows NT user mode functions as threads
including server, browsing, event log, and RPC services. The symptoms are
typically returned by workstations performing commands including net view,
event log, and other related RPC requests. Client RPC requests to the pipe
\SRVSVC, will result in Server Message Block (SMB) errors returned with
STATUS_PIPE_NOT_AVAILABLE by the server. If the failure involves a
SERVICES.EXE access violation, a DRWTSN32.LOG will be present in the
%SYSTEMROOT% directory. Often, NET USE sessions provided by the server
remain active and new sessions can be established. The following messages
may be returned to client requests involving the RPC services:
<P>
<PRE>   Error 1723:  The RPC server is too busy to complete this operation.
   Error 1722:  The RPC server is unavailable.
   Error 1721:  Not enough resources are available to complete this
                operation.

</PRE><h2>CAUSE</h2>
 
<P>
One possible cause of these symptoms involves the use of a 15 character
computername that is resolved through the Sockets interface to domain name
service (DNS). A parsing error can occur resulting in intermittent heap
corruption. If DNS resolution is configured through the Control Panel
TCP/IP DNS dialogue box, the computername may be resolved in this manner.
The results of the heap corruption are not predictable. However, an access
violation in SERVICES.EXE may result if a critical data structure is
damaged. Also, the server will only attempt to resolve the name in order
to establish a session with the computer in question. These operations may
not occur frequently. However, the computer browsing service, print
services or messenger service may initiate requests for such operations.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To correct this problem, install the new LMHSVC.DLL file.
<P>
LMHSVC.DLL has been modified so that the computer name is correctly
parsed.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Windows NT version 3.5.
This problem was corrected in Windows NT version 3.51.
of
tagging
ds:0023:0015fbf8=20
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbnetwork kbbug3.50 kbfix3.51<BR>
KBSubcategory: ntnetserv NTSrvWkst<BR>
Additional reference words: 3.50 prodnt computer domain name<BR>
Keywords          : ntnetserv NTSrvWkst kbbug3.50 kbfix3.51 kbnetwork<BR>
Version           : 3.50<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 10, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
