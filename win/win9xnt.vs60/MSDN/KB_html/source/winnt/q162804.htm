

<HTML>
<HEAD>
<TITLE>STOP 0x00000079 After Applying Windows NT 4.0 Post-SP2 KRNL Fix </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q162804">
<META NAME="KBModify" CONTENT="1997/05/15">
<META NAME="KBCreate" CONTENT="1997/01/28">
<META NAME="Keywords" CONTENT="ntmp NTSrvWkst ntstop kbbug kbfix kbsetup">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  On a multiprocessor system, after you apply the Windows NT 4.0 Post-SP2 (Service Pack 2) KRNL-FIX (Krnl40x.exe, where x is the processor type) the system will display a STOP error message:     STOP: 0x00000079 (0x00000002 0x00000002 0x00000000 0x00...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAA1,QDI2,QAR4,QAGB,QAFI,QBXB,QATJ,QAB4,QBE7,QBE6,QDIV,QAEF,QABA,QDL9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>STOP 0x00000079 After Applying Windows NT 4.0 Post-SP2 KRNL Fix</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 15, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q162804</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 4.0
<LI>Microsoft Windows NT Server version 4.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
On a multiprocessor system, after you apply the Windows NT 4.0 Post-SP2
(Service Pack 2) KRNL-FIX (Krnl40x.exe, where x is the processor type) the
system will display a STOP error message:
<P>
<PRE>   STOP: 0x00000079 (0x00000002 0x00000002 0x00000000 0x00000000)

</PRE><h2>CAUSE</h2>
 
<P>
This error is a mismatched HAL STOP error message. It is caused by applying
the single processor Ntoskrnl.exe, rather than using the Ntkrnlmp.exe file,
which needs to be renamed to Ntoskrnl.exe before the fix is applied.
<P>
The README file from the fix includes this information:
<P>
<PRE>   Note: If the target computer is a multiprocessor system, then perform
   the following command in order to replace the uniprocessor version of
   the kernel with the multiprocessor version. This step must not be done
   if the target computer is a uniprocessor system.

   Copy NTKRNLMP.EXE NTOSKRNL.EXE

   To install this hotfix, put the new Ntoskrnl.exe, hotfix.exe, and
   hotfix.ini in the same (temporary) directory, and then type:

   "hotfix /install"

   After installation, type "hotfix" to verify that it was installed
   correctly, then perform a reboot the system.

</PRE><h2>RESOLUTION</h2>
 
<P>
To correct this problem, do one of the following:

<UL><LI>If Windows NT is installed on a FAT partition, replace Ntoskrnl.exe in
   the %SystemRoot%\System32 directory with the Ntkrnlmp.exe from the
   Post-SP2 KRNL-FIX. In the %SystemRoot%\System32 directory, rename
   Ntkrnlmp.exe to Ntoskrnl.exe.
<P>
   Reboot the computer and restart Windows NT.
<P>
</UL>-OR-
<P>
Use the following KB article to modify your ERD diskette to replace the
Single processor kernel with the Muliprocessor kernel.
<P>
ARTICLE ID: <B><A href="../winnt/q164471.htm">Q164471</A></B>
<PRE>TITLED    : Replacing System Files Using a Modified Emergency Repair Disk

-OR-

</PRE><LI>If Windows NT is installed on an NTFS partition, re-install Windows NT
   to a separate directory (parallel installation). Boot into this new
   installation. Go to the original Windows NT %SystemRoot%\System32
   directory and replace Ntoskrnl.exe with the Ntkrnlmp.exe from the Post-
   SP2 KRNL-FIX. In the %SystemRoot%\System32 directory, rename
   Ntkrnlmp.exe to Ntoskrnl.exe.
<P>
   Reboot the computer and restart Windows NT, starting into the original
   version of Windows NT. If the original version now starts properly, the
   "parallel installation" can be deleted. This can be done using Explorer,
   File Manager or My Computer.
<P>
   WARNING: Use caution when deleting operating system subdirectories or
   modifying the Boot.ini.
<P>
   Delete ONLY the Windows NT directory that was created for the parallel
   installation; do NOT delete the original installation.
<P>
   In addition, the Boot.ini can be modified to remove references to this
   now non-existent version of Windows NT. If the parallel installation was
   installed to a directory called Winnt.bak, delete only those lines in
   Boot.ini that have Winnt.bak. Also, make sure that the "DEFAULT=" entry
   is directed back to the ARC path and directory for the original
   installation of Windows NT.
<P>
   For additional information on the Boot.ini file, please see the
   following article in the Microsoft Knowledge Base:
<P>
   ARTICLE-ID: <B><A href="../winnt/q102873.htm">Q102873</A></B>
<PRE>   TITLE     : BOOT.INI and ARC Path Naming Conventions and Usage
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 0x79 4.00 SP2 hotfix<BR>
Keywords            : ntmp NTSrvWkst ntstop kbbug kbfix kbsetup<BR>
Version             : 4.0<BR>
Platform            : winnt<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 15, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
