

<HTML>
<HEAD>
<TITLE>Novell Client 32 Requestor Cannot Connect to FPNW </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q167816">
<META NAME="KBModify" CONTENT="1998/03/04">
<META NAME="KBCreate" CONTENT="1997/04/30">
<META NAME="Keywords" CONTENT="kbbug3.51 kbbug4.00 NTPROTOCOL NTSrvWkst kb3rdparty kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QDL9,QBWN,QBWO,QDO3,QARL,QBWQ,QACK,QDIK,QDNL,QAKD,QAGX,QAY2,QANE,QAC1 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Novell Client 32 Requestor Cannot Connect to FPNW</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 4, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q167816</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation versions 3.51 and 4.0
<LI>Microsoft Windows NT Server versions 3.51 and 4.0
<LI>Microsoft File and Print Services for NetWare version 3.51
<LI>Microsoft Services for NetWare version 4.0
<LI>Microsoft Windows 95
 --------------------------------------------------------------------------
<P>
</UL><h2>SYMPTOMS</h2>
 
<P>
NOTE: Information in this article applies to Novell's Client 32 Requestor
version 2.11.
<P>
When you try to connect to a FPNW server volume from a computer running
Windows NT version 3.51, Microsoft Windows NT version 4.0, or Microsoft
Windows 95 with Novell's Client 32 Requestor for NetWare loaded, you cannot
connect or the following message appears:
<P>
<PRE>   A device attached to the system is not functioning.

</PRE>NOTE:  This error will also occur with OS/2 Warp clients.
<P>
<P><h2>CAUSE</h2>
 
<P>
Case 87 (decimal) NetWare Core Protocol (NCP) packets are normally used to
communicate with NetWare 3.x servers. Case 22 (decimal) NCPs are normally
used to communicate with NetWare 2.x servers. Novell's Client 32 Requestor
for Windows 95 makes use of Case 87 NCP packets with NetWare 3.x servers,
and Case 22 NCP packets with NetWare 2.x servers. Novell's Client 32
Requestor for Windows NT uses only case 87 NCPs and cannot communicate with
NetWare 2.x servers. Either client software version detects FPNW as a
NetWare 3.x server and attempts to converse with it using Case 87 NCPs.
FPNW 3.51 and 4.0 (without Windows NT 4.0 Service Pack 2) recognize the
Case 87 NCPs required to support Novell's VLM, Microsoft's CSNW/GSNW, and
Novell's OS/2 Requestor. However, the case 87 support in FPNW 3.51 and 4.0
(without Service Pack 2) is not complete enough to support Novell's Client
32 Requestor, which was released after either version of FPNW shipped. This
incomplete support for all case 87 NCPs causes the earlier error.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Windows NT Server Version 4.0 Running FPNW
 
<P>
Apply the latest Windows NT 4.0 service pack to resolve this issue. The
latest Windows NT 4.0 service pack contains FPNW enhancements to allow FPNW
to communicate using Case 87 NCPs.
<P>
If LIP and burst mode were disabled before you installed the service pack,
it is strongly recommended that you enable them.
<P>
Perform the following steps to enable LIP and burst mode:
<P>
WARNING: Using Registry Editor incorrectly can cause serious, system-wide
problems that may require you to reinstall Windows NT to correct them.
Microsoft cannot guarantee that any problems resulting from the use of
Registry Editor can be solved. Use this tool at you own risk.

<OL><P><LI>Use the Services utility in Control Panel to stop the FPNW service or
   type the following command at a command prompt:
<P>
<P><PRE>      NET STOP FPNW
</PRE>
<P><LI>Start Registry Editor (Regedt32.exe).

<P><LI>From the HKEY_LOCAL_MACHINE Window, go to the following key:
<P>
<P><PRE>      System\CurrentControlSet\Services\FPNW\Parameters
</PRE>
<P><LI>Set the EnableBurst value to 1. This is the default value.

<P><LI>Set the EnableLip value to 1. This is the default value.

<P><LI>If present, set the EnableOS2NameSpace value to 1. If the value is not
   present, it defaults to 1.

<P><LI>Quit Registry Editor.

<P><LI>Shut down and restart the server.
<P>
</OL>Windows NT Server Version 3.51 Running FPNW
 
<P>
There is no resolution but there is a workaround to the problem when
Windows NT Server version 3.51 and FPNW are involved. This section explains
the workaround so that a computer running Novell's Client 32 Requestor on
Windows 95 can function when communicating with a Windows NT Server version
3.51 computer running FPNW 3.51.
<P>
NOTE: This work around only allows Windows 95 workstation computers with
Novell's 32-bit NetWare client installed to communicate properly with a
Windows NT Server 3.51 computer running FPNW 3.51. Using Novell's 32-bit
NetWare client on Windows NT to communicate with an FPNW 3.51 server is not
supported.
<P>
Apply the latest Windows NT 3.51 service pack to the Windows NT Server
version 3.51 computer with FPNW installed. Applying the service pack
installs an updated version of Fpnwsrv.sys that permits the registry
changes discussed later.
<P>
Configuring File and Print Services for NetWare version 3.51 to respond as
a NetWare version 2.2 file server allows Novell's Client 32 Requestor to
function correctly. Perform the following steps to configure File and Print
Services for NetWare in this manner:
<P>
NOTE: Making these changes will disable long filename support (OS/2 name
space) from clients, as well as support for burst mode and LIP
communication.
<P>
WARNING: Using Registry Editor incorrectly can cause serious, system-wide
problems that may require you to reinstall Windows NT to correct them.
Microsoft cannot guarantee that any problems resulting from the use of
Registry Editor can be solved. Use this tool at your own risk.

<OL><P><LI>Use the Services utility in Control Panel to stop the FPNW service or
   type the following command at a command prompt:
<P>
<P><PRE>      NET STOP FPNW
</PRE>
<P><LI>Start Registry Editor (Regedt32.exe).

<P><LI>From the HKEY_LOCAL_MACHINE window, go to the following key:
<P>
<P><PRE>      \System\CurrentControlSet\Services\FPNW\Parameters
</PRE>
<P><LI>Click Add Value from the Edit menu.

<P><LI>Add the following:
<P>
<P><PRE>      Value Name: EnableOS2NameSpace
      Data Type:  REG_DWORD
<PRE></PRE>      Data:       0

</PRE><P><LI>Change EnableBurst value from 1 (default) to 0.

<P><LI>Change EnableLip value from 1 (default) to 0.

<P><LI>Shut down and restart the server.
<P>
</OL><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Microsoft Windows NT
versions 3.51 and 4.0. This problem has been corrected in the latest U.S.
Service Pack for Windows NT version 4.0. For information on obtaining the
Service Pack, query on the following word in the Microsoft Knowledge Base
(without the spaces):
<P>
S E R V P A C K
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: client32<BR>
Keywords          : kbbug3.51 kbbug4.00 NTPROTOCOL NTSrvWkst kb3rdparty kbnetwork<BR>
Version           : WinNT:3.5,4.0;Windows:95<BR>
Platform          : winnt<BR>
Issue type        : kbbug kbhowto<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 4, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
