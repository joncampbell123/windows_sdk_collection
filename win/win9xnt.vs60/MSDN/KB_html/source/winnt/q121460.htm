

<HTML>
<HEAD>
<TITLE>Common Object File Format (COFF) </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q121460">
<META NAME="KBModify" CONTENT="1994/10/12">
<META NAME="KBCreate" CONTENT="1994/10/05">
<META NAME="Keywords" CONTENT="kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  Windows NT uses a special format for the executable (image) files and object files. The format used in these files are referred to as Portable Executable (PE) or Common Object File Format (COFF) files. The name Portable Executable refers to the fac...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAPN,QAW6,QAKC,QBV8,QABA,QBC6,QBXS,QBAO,QAG8,QBWC,QBBI,QAHE,QAWN,QBWP,QDNG V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Common Object File Format (COFF)</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 12, 1994</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q121460</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
<LI>Microsoft Windows NT Advanced Server version 3.1
<LI>Microsoft Windows NT Workstation version 3.5
<LI>Microsoft Windows NT Server version 3.5
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Windows NT uses a special format for the executable (image) files and
object files. The format used in these files are referred to as Portable
Executable (PE) or Common Object File Format (COFF) files. The name
Portable Executable refers to the fact that executable files can run on
more than one platform. This article describes in detail the internal
features of PE/COFF file formats and its parameters.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The PE/COFF file headers consist of a MS-DOS stub, file signature, COFF
Header, and Optional Header. An object file contains only the COFF Header,
but an image file contains all the headers described above. The most
important of these headers is the COFF header. The table below describes
the information stored in the COFF header.
<P>
<PRE>Offset Size Field               Description
</PRE> 
<PRE>0       2   Machine             Number identifying type of target machine.
2       2   Number of Sections  Number of sections; indicates size of the
                                Section Table, which immediately follows
                                the headers.
4       4   Time/Date Stamp     Time and date the file was created.
8       4   Pointer to Symbol   Offset, within the COFF file, of the symbol
            Table               table.
12      4   Number of Symbols   Number of entries in the symbol table.
                                This data can be used in locating the
                                string table, which immediately follows
                                the symbol table.
16      2   Optional Header     Size of the optional header, which is
            Size                included for executable files but not
                                object files. An object file should have a
                                value of 0 here.
18      2   Characteristics     Flags indicating attributes of the file.

</PRE>Windows NT Software Development Kit (SDK) provides a utility called
DUMPBIN. DUMPBIN is a 32-bit tool that displays information about 32-bit
Common Object File Format (COFF) binary files. DUMPBIN runs only from a
command prompt. You can use DUMPBIN to examine the following kinds of COFF
files: object files, standard libraries of COFF objects, executable files,
and dynamic-link library (DLL) files.
<P>
To run DUMPBIN, use the following syntax:
<P>
<PRE>   DUMPBIN [options] [files]

</PRE>The following are options parameters and definitions for DUMPBIN:
<P>
<PRE>   /ALL
   /ARCHIVEMEMBERS
   /DISASM
   /EXPORTS
   /HEADERS
   /IMPORTS
   /LINENUMBERS
   /LINKERMEMBER[:{1|2}]
   /OUT:filename
   /PDATA
   /RAWDATA[:{NONE|BYTES|SHORTS|LONGS}[,#]]
   /RELOCATIONS
   /SECTION:name
   /SUMMARY
   /SYMBOLS

Options          Definition
</PRE> 
<PRE>/ALL             Setting this option causes DUMPBIN to display all
                 available information except code disassembly.

</PRE>/ARCHIVEMEMBERS  Setting this option causes DUMPBIN to display minimal
<PRE>                 information about member objects in a library.

/DISASM          Setting this option causes DUMPBIN to show disassembly
                 of code sections, using symbols if present in the file.

/EXPORTS         This option causes DUMPBIN to list all definitions
                 exported from an executable file or DLL.

/HEADERS         Setting this option causes DUMPBIN to display the file
                 header and the header for each section. When used with a
                 library, displays the header for each member object.

/IMPORTS         This option causes DUMPBIN to list all definitions
                 imported to an executable file or DLL.

/LINENUMBERS     Setting this option causes DUMPBIN to show COFF line
                 numbers. Line numbers exist in an object file if it was
                 compiled with /Zi. An executable file or DLL contains
                 COFF line numbers if it was linked with /DEBUG and
                 /DEBUGTYPE:COFF option.

</PRE>/LINKERMEMBER [[:{1|2}]]
<PRE>                 Setting this option causes DUMPBIN to list public symbols
                 defined in a library. Specify the 1 argument to display
                 symbols in object order, along with their offsets. Specify
                 the 2 argument to display offsets and index numbers of
                 objects, then list the symbols in alphabetical order along
                 with the object index for each. To get both outputs,
                 specify /LINKERMEMBER without the number argument.

</PRE>/OUT:&lt;filename&gt;  This option specifies a filename for the output.
<P>
/RAWDATA [[:{BYTES|SHORTS|LONGS|NONE}[[,number]]]]
<PRE>                 Setting this option causes DUMPBIN to display the raw
                 contents of each section in the file. The arguments
                 control the format of the display, as follows:
      Argument - Result
      BYTES    - The default. Contents are displayed in hexadecimal bytes,
                 and also as ASCII if they have a printed representation.
      SHORTS   - Contents are displayed in hexadecimal words.
      LONGS    - Contents are displayed in hexadecimal longwords.
      NONE     - Raw data is suppressed. This is useful to control the
                 output of /ALL.
      number   - Displayed lines are set to a width that holds number
                 values per line.

/RELOCATIONS     Setting this option causes DUMPBIN to display any
                 relocations in the object or image.

</PRE>/SECTION: &lt;section&gt;
<PRE>              This option restricts the output to information on the
              specified section.

/SUMMARY      Setting this option causes DUMPBIN to display minimal
              information about sections, including total size. This
              option is the default if no other option is specified
              in a DUMPBIN command.

/SYMBOLS      Setting this option causes DUMPBIN to display the COFF symbol
              table. Symbol tables exist in all object files. A COFF symbol
              table appears in an image file only if it is linked with
              /DEBUG /DEBUGTYPE:COFF
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: prodnt 3.10 3.50 entry NTS NTW<BR>
KBCategory: kbnetwork<BR>
KBSubCategory: ntfilesys<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 12, 1994</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
