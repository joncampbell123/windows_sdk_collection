

<HTML>
<HEAD>
<TITLE>REG: Device Driver Entries, PART 1 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q102988">
<META NAME="KBModify" CONTENT="1997/05/08">
<META NAME="KBCreate" CONTENT="1993/08/12">
<META NAME="Keywords" CONTENT="kbother ntregistry">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAKD,QDJ9,QDJP,QAKG,QBWP,QAB5,QAKC,QAIJ,QAP2,QABA,QDIV,QAU9,QAHC,QADN,QAJG V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>REG: Device Driver Entries, PART 1</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 8, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q102988</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Windows NT operating system version 3.1
<LI>Windows NT Advanced Server version 3.1
<P>
</UL>The article contains REGISTRY entries for Device Drivers, Part 1. These
subgroups are included:

<UL><LI>File System Drivers and Recognizers
<LI>Disk, Serial and Parallel Ports
<LI>Description Entries for Adapters
<LI>DeviceMap Subkey Entries for AtDisk
<LI>DeviceMap Subkey Entries for Serial and Parallel Ports
<LI>Parallel Subkey Entries in the Services Subkey
<LI>Serial Subkey Entries in the Services Subkey
<LI>Multiport Serial I/O Card Entries in the Services Subkey
<P>
</UL>There are 5 parts to the Device Driver Entries article series:

<UL><LI>Part 1: Device Driver Entries
<LI>Part 2: Mouse and Keyboard Entries
<LI>Part 3: Mouse and Keyboard Entries, cont'd
<LI>Part 4: SCSI Miniport Entries
<LI>Part 5: Sound Card and Video Device Driver Entries
</UL> 
<P>
<P>
NOTE: You can view current settings for these device drivers by choosing
the Devices button in WinMSD.
<P>
<P><h2>FILE SYSTEM DRIVERS AND RECOGNIZERS</h2>
 
<P>
Each file system supported by Windows NT is made up of three components:
the file system driver, the file system utility DLL, and the file system
recognizer used during startup to determine the file systems present on the
system. All necessary elements and settings are recognized automatically by
Windows NT. You can configure file system drivers by choosing the Devices
icon in Control Panel.
<P>
<PRE>File system driver        File System and recognizer
</PRE> 
<PRE>Cdfs and Cdfs_Rec         Compact disc file system (CDFS)
Fastfat and Fat_Rec       File Allocation Table (FAT)
Ntfs and Ntfs_Rec         Windows NT file system (NTFS)
Pinball and HPFS_Rec      High-performance file system (HPFS)

</PRE>The Registry path for settings that control file system drivers is the
following, where DriverName is the file system driver minus the filename
extension:
<P>
<PRE>   HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\DriverName

</PRE>The standard entries for the file system drivers are:
<P>
<PRE>Value Entry     Default value
</PRE> 
<PRE>ErrorControl    0x1 (Normal)
Group           Boot file system
Start           0x4 (disabled)
Type            0x2 (file system driver)

</PRE>The file system recognizer determines whether the file system should be
loaded. The Registry path for file system recognizers is the following,
where RecognizerName is the file system driver minus the filename
extension:
<P>
<PRE>   HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\RecognizerName

</PRE>The standard entries for the file system recognizers are:
<P>
<PRE>Value Entry     Default value
</PRE> 
<PRE>ErrorControl    0 (startup halts)
Group           Boot file system
Start           0x1 (system)
Type            0x8 (file system recognizer)

</PRE>The file system drivers and recognizers do not add any additional Registry
entries besides the standard entries described in the
"CurrentControlSet\Services Subkeys Entries" articles.
<P>
Note: If CONVERT.EXE has been used to convert the file system on a hard
disk drive, this value is added to CurrentControlSet\Control\SessionManager
so that conversion occurs when the system is restarted:
<P>
<PRE>   BootExecute = autocheck autoconv \Dos\Devices\x: /FS:NTFS

</PRE><h2>DISK, SERIAL, AND PARALLEL PORT ENTRIES</h2>
 
<P>
This section provides general information about the Description entries for
adapters in the Hardware key. Then specific information is presented about
the DeviceMap subkey entries for AtDisk and for serial and parallel ports.
Finally, Services subkey entries for parallel and serial ports are
described, including specific entries for multiport serial I/O cards.
<P>
<P><h3>Description Entries for Adapters</h3>
 
<P>
The following shows the path for all MultifunctionAdapter entries:
<P>
<PRE>   HKEY_LOCAL_MACHINE\HARDWARE\Description\System
   \MultifunctionAdapter\0\ControllerName\0.

</PRE>The entries in this portion of the Registry contain data discovered by the
Hardware Recognizer or provided from the ARC database that describes
controllers for hard disks, display devices, the keyboard, pointing
devices, and serial and parallel ports. Administrators cannot usefully
modify entries in the Hardware key. This data is volatile (destroyed and
recreated each time the system starts) and is useful only for informational
purposes. You can use WinMSD to view this information in a more usable
format.
<P>
Each subkey contains information in this format:
<P>
<PRE>Component Information   REG_BINARY   System-defined
</PRE> 
<P>
Identifies version information plus other data for the associated subkey
entry.
<P>
<PRE>Configuration Data   REG_UNKNOWN   System-defined
</PRE> 
<P>
Contains binary information related to the hardware component, such as I/O
port addresses and IRQ number. This entry is not present if no such data is
available for a particular subkey.
<P>
<PRE>Identifier   REG_SZ   Device type name
</PRE> 
<P>
Contains the name of a component, if specified.
<P>
The following samples from the MultifunctionAdapter subkeys describe a
system that has a keyboard, a Microsoft InPort bus mouse or Microsoft Mouse
Port mouse, and a Microsoft serial mouse (on COM1), all connected to the
ISA bus. This sample is for informational purposes only, since these
subkeys are volatile and are therefore recreated each time you start
Windows NT.
<P>
In the following example, the Identifier value specifies the keyboard type
name, which is typically PCAT_ENHANCED to indicate a 101/102-key enhanced
keyboard. The keyboard type name is mainly informational, since the actual
keyboard type and subtype are retrieved from the keyboard-specific data in
Configuration Data.
<P>
<PRE>   HKEY_LOCAL_MACHINE\HARDWARE\Description\System\MultifunctionAdapter
   \0\KeyboardController\0\KeyboardPeripheral\0

</PRE><h3>Configuration Data : REG_UNKNOWN : Device data (keyboard type, subtype)</h3>
 
<P>
<P><h3>Identifier : REG_SZ : PCAT_ENHANCED</h3>
 
<P>
The following two examples show typical Identifier values for two basic
types of pointer devices. For the first example, the Identifier value for
the pointer type name can also be MICROSOFT PS2 MOUSE (also known as the
Mouse Port mouse) or MICROSOFT BUS MOUSE under this subkey:
<P>
<PRE>   HKEY_LOCAL_MACHINE\HARDWARE\Description\System\MultifunctionAdapter
   \0\PointerController\0\PointerPeripheral\0

</PRE><h3>Identifier : REG_SZ : MICROSOFT INPORT MOUSE</h3>
 
<P>
This example shows a typical entry for a serial mouse, under this subkey:
<P>
<PRE>   HKEY_LOCAL_MACHINE\HARDWARE\Description\System\MultifunctionAdapter
   \0\SerialController\0\PointerPeripheral\0

</PRE><h3>Identifier : REG_SZ : MICROSOFT SERIAL MOUSE</h3>
 
<P>
<P><h3>DeviceMap Subkey Entries for AtDisk</h3>
 
<P>
AtDisk is the driver for non-SCSI hard disk controllers on x86-based
computers.
<P>
NOTE: The Abiosdsk driver has no Hardware key and no parameters that users
can set under CurrentControlSet\Services.
<P>
The following Registry path can contain subkeys named Controllerx, where x
starts at 0 and increases:
<P>
<PRE>   HKEY_LOCAL_MACHINE\HARDWARE\DeviceMap\AtDisk

</PRE>These Controllerx subkeys are created for each non-SCSI hard disk
controller on the system. As with all hardware data, these subkeys are
volatile and so are recreated each time you start the system.
<P>
Under the Controllerx subkeys are subkeys named Disky, where y starts at 0
(zero) and increases. These subkeys are created for each actual disk
controlled by the particular controller. Under the Disky subkeys are the
following value entries, which can be extremely helpful in reporting disk
problems:
<P>
<PRE>Firmware revision   REG_SZ   Free format
</PRE> 
<P>
Defined by the disk manufacturer to identify the version of the on-board
code used to control the disk.
<P>
<PRE>Identifier   REG_SZ   Free format
</PRE> 
<P>
Defined by the disk manufacturer to identify the make and model of the
disk.
<P>
<PRE>Number of cylinders   REG_DWORD   A hex value
</PRE> 
<P>
The number of cylinders on the drive.
<P>
<PRE>Number of heads   REG_DWORD   A hex value
</PRE> 
<P>
The number of heads on the drive.
<P>
<PRE>Sectors per track   REG_DWORD   A hex value
</PRE> 
<P>
The number of sectors that exist on a track. These are typically 512-byte
sectors.
<P>
The standard entries for AtDisk under the CurrentControlSet\Services subkey
are:
<P>
<PRE>Value entry     Default value
</PRE> 
<PRE>ErrorControl    0 (startup halts)
Group           Primary disk
Start           0x0 (boot)
Tag             0x2
Type            0x1 (Kernel driver)

</PRE><h3>DeviceMap Subkey Entries for Serial and Parallel Ports</h3>
 
<P>
Remember that the entries in HKEY_LOCAL_MACHINE\HARDWARE are recreated each
time the system is started. The entries in these subkeys are described here
for informational purposes only.
<P>
<PRE>ParallelX   REG_SZ   A string, typically LPTy
</PRE> 
<P>
HKEY_LOCAL_MACHINE\HARDWARE\DEVICEMAP\PARALLEL PORTS
<P>
Specifies that the Windows NT Parallel device X is the actual device for
the MS DOS name LPTy. These value entries are used to determine all the
parallel ports available on the system.
<P>
<PRE>SerialX   REG_SZ   A string, typically COMy
</PRE> 
<P>
HKEY_LOCAL_MACHINE\HARDWARE\DeviceMap\Serialcomm
<P>
Specifies that the Windows NT Serial device X is the actual device for the
MS DOS name COMy. These value entries are used to determine all the
communication ports available on the system.
<P>
<P><h3>Parallel Subkey Entries in the Services Subkey</h3>
 
<P>
The following subkeys and values can be found under the following key:
<P>
<PRE>   HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\Parallel

</PRE>Subkeys and values under the Parallel subkey can be used to configure
parallel (printer) ports in addition to information that the Hardware
Detector finds at system startup.
<P>
This can also be used to override values determined by the Hardware
Detector. If the PortAddress value entry is the same as a system-detected
port, this data in the current control set will be used instead of the data
found by the system. Entries appear in the System log in Event Viewer if
this is occurring.
<P>
The Parallel subkey contains a subkey named Parameters, under which is a
set of subkeys typically named Parallelx where x is some whole number. A
system administrator must place these subkeys and values into the Registry.
There exists no tool other than Registry Editor to define and manipulate
these values.
<P>
For example, under the Parallel2 subkey, the following value entries can
appear.
<P>
The first two of these value entries are required. If the section does not
include both, the port is not configured and an error appears in the System
log in Event Viewer. If an entry is placed into the Registry with just
these values, the port will be driven using polling algorithms.
<P>
<PRE>DosDevices   REG_SZ   Free-form string
</PRE> 
<P>
Specifies the name used to access the parallel port from the command prompt
or from within an application. A typical value would be LPT3.
<P>
<PRE>PortAddress   REG_DWORD   A hex value
</PRE> 
<P>
Denotes the address of the first register of the parallel port. A typical
PortAddress in this case would be 0x278.
<P>
These values are optional:
<P>
<PRE>DisablePort   REG_DWORD   0 or 1
</PRE> 
Default: 0
<P>
If the value is a 1, the device will be deleted after the port is reset
during initialization. No access to the port will be allowed.
<P>
<PRE>Interrupt   REG_DWORD   A hex value
</PRE> 
<P>
Denotes the IRQ that the particular device would interrupt on. A typical
Interrupt value in this case would be 0x5.
<P>
The standard entries for the Parallel subkey are:
<P>
<PRE>Value entry    Default value
</PRE> 
<PRE>ErrorControl   0 (startup halts)
Group          Extended base
Start          0x2 (autoload)
Type           0x1 (Kernel device driver)

</PRE><h3>Serial Subkey Entries in the Services Subkey</h3>
 
<P>
The following subkeys and values can be found under the following key:
<P>
<PRE>   HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\Serial

</PRE>Subkeys and values under the CurrentControlSet\Services subkey can be used
to configure serial ports in addition to information that the Hardware
Detector finds at system startup. This can also be used to override values
determined by the Hardware Detector. If the PortAddress value entry is the
same as a system-detected port, this data in the current control set will
be used instead of the data found by the system. Entries appear in the
System log in Event Viewer if this is occurring.
<P>
The Serial subkey contains a subkey named Parameters, under which is a set
of subkeys typically named SerialX where X is a whole number. A system
administrator must place these subkeys and values into the Registry. You
can only define and manipulate these values by using Registry Editor.
<P>
For example, under the Serial2 subkey, the following value entries can
appear.
<P>
The first three of these value entries are required. If the subkey does not
include all three, the port is not configured, and an error appears in the
System log in Event Viewer.
<P>
<PRE>DosDevices   REG_SZ   Free-form string
</PRE> 
<P>
Specifies the name used to access the communication port from the command
prompt or from within an application. A typical value would be COM3.
<P>
<PRE>Interrupt   REG_DWORD   A hex value
</PRE>Denotes the IRQ that the particular device would interrupt on. A typical
Interrupt value in this case would be 0x4.
<P>
<PRE>PortAddress   REG_DWORD   A hex value
</PRE> 
<P>
Denotes the address of the first register of the serial device. A typical
PortAddress in this case would be 0x3e8.
<P>
These entry values are optional:
<P>
<PRE>DisablePort   REG_DWORD    0 or 1
</PRE> 
Default: 0
<P>
If the value is 1, the device will be deleted after the port is reset
during initialization. No access to the port will be allowed.
<P>
<PRE>ForceFifoEnable   REG_DWORD   0 or 1
</PRE> 
Default: 1
<P>
If the value is 1 and the hardware supports a FIFO buffer (for example, the
NS 16550AFN), the driver enables the FIFO. Not all FIFOs are reliable. If
the application or the user notices lost data or no data transmission, it
is recommended that this value be set to 0.
<P>
The standard entries for the Serial subkey are:
<P>
<PRE>Value entry     Default value
</PRE> 
<PRE>ErrorControl    0 (startup halts)
Group           Extended base
Start           0x2 (autoload)
Type            0x1 (Kernel device driver)

</PRE><h3>Multiport Serial I/O Card Entries in the Services Subkey</h3>
 
<P>
In addition to controlling the standard serial ports included with most
PCs, the Microsoft serial driver can be used to control many dumb multiport
serial cards. Dumb denotes that the control includes no onboard processor.
<P>
At least the following two additional value entries are used for each port
on the multiport card. Each of these two entries must be included for each
port of the multiport board under subkey entries in
CurrentControlSet\Services:
<P>
<PRE>InterruptStatus   REG_DWORD   A hex value
</PRE> 
<P>
Denotes the address of the interrupt status register that indicates which
port on the multiport card is actually requesting an interrupt. To
determine the appropriate value, consult the manufacturer’s installation
guide.
<P>
<PRE>PortIndex   REG_DWORD   A hex value
</PRE> 
<P>
Denotes which port on the card this information is for. These values start
at 1 and increase. Typically these would be the same as the values
inscribed on the connector for the multiport.
<P>
Certain multiport boards, such as Digiboard non-MCA bus cards, use a
different scheme to determine which port is interrupting. These boards
should include the following value entry in the configuration data:
<P>
<PRE>Indexed   REG_DWORD   Should be 1
</PRE> 
<P>
Denotes that this board uses an indexed interrupt notification scheme as
opposed to a bitmapped method. To determine whether this entry should be
included, consult the board’s manufacturer.
<P>
For detailed examples describing entries for four-port and eight-port
communications boards, see "Controlling Multiport Serial I/O Cards" in
Chapter 13 of the "Windows NT Resource Kit," "Configuration Management and
the Registry."
<P>
Reference: "The Windows NT Resource Kit for Operating System Version 3.1".
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt<BR>
Keywords            : kbother ntregistry<BR>
Version             : 3.1<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 8, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
