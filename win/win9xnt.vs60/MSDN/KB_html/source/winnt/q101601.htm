

<HTML>
<HEAD>
<TITLE>Converting Filenames from NTFS to FAT (8.3) Convention </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q101601">
<META NAME="KBModify" CONTENT="1997/05/07">
<META NAME="KBCreate" CONTENT="1993/07/19">
<META NAME="Keywords" CONTENT="kbother ntfilesys">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT=" The Windows NT filesystem (NTFS) support filenames up to 255 characters long. In most cases, NTFS also generates an MS-DOS compatible filename in 8.3 (filename.extension) format that allows an MS-DOS-based or 16-bit Windows-based application to acce...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QA2S,QAPF,QAO1,QAWN,QAEF,QALY,QAKE,QAY2,QAGX,QBWP,QBW5,QBJQ,QAJQ,QBVV,QAML V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Converting Filenames from NTFS to FAT (8.3) Convention</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 7, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q101601</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:
<P>
<PRE>  - Microsoft Windows NT operating system, version 3.1
  - Microsoft Windows NT Advanced Server, version 3.1
</PRE> 
<P>
The Windows NT filesystem (NTFS) support filenames up to 255
characters long. In most cases, NTFS also generates an MS-DOS
compatible filename in 8.3 (filename.extension) format that allows an
MS-DOS-based or 16-bit Windows-based application to access the same
files.
<P>
NTFS translates a long filename to an 8.3 filename in the following
manner:

<UL><LI>NTFS deletes any illegal characters from the long filename and
   removes any spaces. The resulting filename must be a letter or a
   number and it must not contain the following illegal characters:
<P>
<P><PRE>      . " / \ [ ] : ; = ,
</PRE><P>
   If the filename contains any of these characters, unexpected
   results may occur. The resulting filename cannot contain any
   spaces.

<LI>Because an 8.3 filename can contain only one period (.), NTFS
   removes additional periods from the filename if valid, non-space
   characters follow the final period (see Example 1 below).
   Otherwise, NTFS ignores the final period and uses the second to
   last period (see Example 2 below).
<P>
   Example 1: This is a really long filename.123.456.789.txt
   converts to THISIS~1.TXT
<P>
   Example 2: This is a really long filename.123.456.789.
   converts to THISIS1.789

<LI>NTFS truncates the filename, if necessary, to six characters and
   appends a tilde (~) and a digit. For example, each unique filename
   created ends with "~1". Duplicate filenames end with "~2", "~3",
   and so on.

<LI>NTFS truncates the filename extension to three or fewer characters.

<LI>NTFS translates all characters in the filename and extension to
   uppercase. (File Manager displays filenames in lowercase.)
<P>
</UL>An exception to the rules above occurs when the NTFS directory name or
filename contains space and fewer than eight characters. In this case,
NTFS does not create an 8.3 filename. This may cause problems if you
attempt to access the file or directory through a network. To work
around this situation, substitute an illegal character, such as a "[",
for the space and NTFS will create a legal 8.3 filename. Even though this
behavior seems inconsistent, it maintains compatibility with MS-DOS.
In MS-DOS, a space is considered an illegal character and causes similar
problems when it is used in that environment.
<P>
The following examples demonstrate how NTFS applies these rules:
<P>
a file.doc
<P>
<PRE>   This is not converted because the filename has fewer than 8
   characters and contains a space.

</PRE>a[file.doc
<P>
<PRE>   This is converted to A_FILE~1.DOC because the filename contains
   illegal characters.

</PRE>A Long Filename.TXT
<P>
<PRE>   This is converted to ALONGF~1.TXT because the filename contains
   more than 8 characters.
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt conversion convert file name lfn<BR>
Keywords            : kbother ntfilesys<BR>
Version             : 3.1<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 7, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
