

<HTML>
<HEAD>
<TITLE>Expndsym.cmd Does Not Work for Cross-Platform Debug </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q147015">
<META NAME="KBModify" CONTENT="1998/02/23">
<META NAME="KBCreate" CONTENT="1996/02/20">
<META NAME="Keywords" CONTENT="NTSrv kbprg kbtool">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  The Expndsym.cmd file in the \Support\Debug\ folder of the Windows NT 4.0 Server compact disc cannot be used directly off the CD-ROM.  CAUSE =====  Due to space constraints the symbols used for kernel debugging were compressed on the Windows NT 4.0...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAVX,QBXM,QDNQ,QBXS,QAFI,QDOL,QAC9,QDLP,QBVV,QAEO,QAA1,QAWN,QDI2,QBXB V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Expndsym.cmd Does Not Work for Cross-Platform Debug</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 23, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q147015</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server version 4.00
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The Expndsym.cmd file in the \Support\Debug\ folder of the Windows NT 4.0
Server compact disc cannot be used directly off the CD-ROM.
<P>
<P><h2>CAUSE</h2>
 
<P>
Due to space constraints the symbols used for kernel debugging were
compressed on the Windows NT 4.0 Server compact disc; as a result, they
cannot be used directly off the CD-ROM.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To make retrieval of the symbols easier there is an Expndsym.cmd command
script which expands the files to a hard disk location for usage with
kernel debugger. This script does not work well for cross-platform debugs.
It always uses the folder of the current platform.
<P>
The following modified Expndsym.cmd enables easy setup of debugger symbols
for cross-platform debugging:
<P>
@echo off
@echo ------------------------------------------------------------------
@echo This Script Will Expand The Debug Executables ie: DLL'S, EXE's, To
@echo the %2\System32\ Directory Of Your NT Install Directory. It
@echo Will Then Expand All Symbols, IE: *.Dbg To a Tree Created at
@echo \%2\Symbols\acm,com,cpl,dll,drv,exe,scr,sys.
@echo ------------------------------------------------------------------
<P>
mode 80,9999
<P>
set THISCPU=%PROCESSOR_ARCHITECTURE%
if "%PROCESSOR_ARCHITECTURE%" == "X86" set THISCPU=I386
if "%PROCESSOR_ARCHITECTURE%" == "x86" set THISCPU=I386
<P>
if "%1"=="" goto syntax
if "%2"=="" goto syntax
if "%3"=="" goto default
set SYM_PLAT=%3
goto continue
:default
set SYM_PLAT=THISCPU
:continue
<P>
if "%1"=="%1\" goto syntax
<P>
set CDROMPATH=%1
<P>
xcopy /ite %cdrompath%\support\debug\%THISCPU% %2
<P>
md %2\system32
<P>
expand -r %cdrompath%\support\debug\%THISCPU%\*.* %2\system32\
for %%i in (acm com cpl dll drv exe scr sys) do (
<PRE>    expand -r %cdrompath%\support\debug\%3\symbols\%%i\*.* %2\SYMBOLS\%%i
</PRE>)
goto end
<P>
:SYNTAX
@echo SYNTAX: "expndsym &lt;Windows NT CD (CDROM) Drive Letter&gt; &lt;Destination
Path&gt; [Platform]"
<PRE>@echo         "expndsym F: C:\Winnt Alpha"

:end
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt<BR>
Keywords          : NTSrv kbprg kbtool<BR>
Version           : 4.0<BR>
Platform          : winnt<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 23, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
