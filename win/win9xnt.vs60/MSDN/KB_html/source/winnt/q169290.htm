

<HTML>
<HEAD>
<TITLE>DHCP Reservations Do Not Get Assigned from a Superscope </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q169290">
<META NAME="KBModify" CONTENT="1997/10/10">
<META NAME="KBCreate" CONTENT="1997/05/29">
<META NAME="Keywords" CONTENT="NTSrv nttcp kbnetwork kbbuglist">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  When you are using a dynamic host configuration protocol (DHCP) superscope, reservations made in any subscope, except for the first subscope, may not be given out.  For example, you have a single segment using the following superscopes:  192.168.1....">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QDJG,QAY2,QAC2,QBWP,QDO3,QARL,QAEF,QAJB,QBVV,QA0M,QAR5,QAIJ,QBW4,QBWD,QAJQ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>DHCP Reservations Do Not Get Assigned from a Superscope</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 10, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q169290</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server version 4.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you are using a dynamic host configuration protocol (DHCP) superscope,
reservations made in any subscope, except for the first subscope, may not
be given out.
<P>
For example, you have a single segment using the following superscopes:
<P>
192.168.1.1-255, subnet mask 255.255.255.0
192.168.2.1-255, subnet mask 255.255.255.0
<P>
You use one DHCP server, create a scope for each network, and then create a
superscope using these two scopes. This allows your DHCP server to assign
addresses from either scope to clients on the same physical segment.
<P>
Then you create a reservation in scope #2 for a client computer. When the
client computer tries to get an address using DHCP, the DHCP server gives
the client computer an address from the first scope instead of giving it
the reservation in the second scope.
<P>
<P><h2>CAUSE</h2>
 
<P>
This is happening because a DHCP server normally hands out addresses from a
superscope starting with the first scope. After that scope is full, the
server starts handing out addresses from the second scope, third scope, and
so on.
<P>
Because the reservation is in the second scope, the DHCP server gives out
an address from the first scope if it is not full. If the first scope had
been full, then the client reservation would have been given out correctly.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Windows NT 4.0 Service Pack
2. This problem has been corrected in Microsoft Windows NT 4.0 Service Pack
3. For information on obtaining the Service Pack, query on the following
word in the Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K

</PRE>For more information about superscopes, please see the following article in
the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../winnt/q161571.htm">Q161571</A></B>
   TITLE     : Using DHCP "Superscopes" to Serve Multiple Logical Subnets
</PRE> 
<PRE>Keywords          : NTSrv nttcp kbnetwork kbbuglist
Version           : WinNT:4.0
Platform          : winnt
Issue type        : kbbug
Solution Type     : kbservicepack</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 10, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
