

<HTML>
<HEAD>
<TITLE>Does InterNIC Think Your DNS Servers Are Working? </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q169326">
<META NAME="KBModify" CONTENT="1998/02/09">
<META NAME="KBCreate" CONTENT="1997/05/30">
<META NAME="Keywords" CONTENT="NTINTEROP NTSrv nttcp kbnetwork kbusage">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  Although InterNIC has required a primary and secondary name server in the past, it did not always fully verify their functionality. InterNIC is now consistently verifying whether the servers you have specified are lame. Lame, as defined by InterNIC...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAVW,QAVX,QA5V,QAUD,QAC2,QAGI,QBVX,QAVZ,QBWP,QAUJ,QABA,QANE,QAR5,QBWD,QA9A V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Does InterNIC Think Your DNS Servers Are Working?</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 9, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q169326</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server version 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Although InterNIC has required a primary and secondary name server in the
past, it did not always fully verify their functionality. InterNIC is now
consistently verifying whether the servers you have specified are lame.
Lame, as defined by InterNIC, is "the condition whereby a name-space is
delegated to an entity but that entity will not answer to that name". If
the nslookup utility returns an authoritative answer (when queried for a
Status Of Authority [SOA] resource record) for your domain name, then your
servers are not considered lame.
<P>
See the following on the InterNIC server for more information:
<P>
InterNIC Lame Delegation Policy:
<P>
<PRE>   <B>ftp://rs.internic.net/policy/internic/internic-domain-5.txt</B>

</PRE>InterNIC Web site:
<P>
<PRE>   <B>http://rs.internic.net</B>

</PRE><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>How to Test Your DNS Server</h3>
 
<P>
In this article, you will be using the NSLOOKUP command-line utility
provided with Windows NT Server. Type NSLOOKUP at an MS-DOS command prompt,
then press Enter. This will start NSLOOKUP in interactive mode (as opposed
to line mode). You will now see that the prompt is a greater than (&gt;) sign.
Type a question mark "?" without the quotes, and then press enter. This
will give you the commands available for use in NSLOOKUP. Also, to quit
gracefully from the NSLOOKUP utility, type "exit" and press enter.
<P>
There are three commands you can use to test our name servers: SERVER, SET,
and `NAME'. `NAME' is not actually a command, it is just the fully
qualified domain name as specified in the WHOIS record. The WHOIS database
is maintained by InterNIC and contains information for all domain names
registered to it.
<P>
For additional information, please see the following article in the
Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../winnt/q169213.htm">Q169213</A></B>
   TITLE     : How to Verify Internet Domain Registration Info with
               InterNIC

</PRE>A sample WHOIS record for the Test.net domain:
<P>
The whois client utility is not available with Windows NT. You can access
this information through the World Wide Web at:
<P>
<PRE>   <B>http://rs.internic.net/cgi-bin/whois</B>

</PRE>-or-
<P>
By telnet 198.41.0.5.
<P>
Below is a what you would see using telnet.
<P>
In Windows NT 4.0, click the Start button, click Run, and type TELNET
198.41.0.5
<P>
You will see the following on your screen. Comments are preceded by
*****
<P>
Trying 198.41.0.5 port 23...
Connected to 198.41.0.5.
<P>
***************************************************************************
* -- InterNIC Registration Services Center  --
*
<PRE>* For wais, type:                    WAIS &lt;search string&gt; &lt;return&gt;
* For the *original* whois type:     WHOIS [search string] &lt;return&gt;
* For referral whois type:           RWHOIS [search string] &lt;return&gt;
*
</PRE>* For user assistance call (703) 742-4777
* Questions/Updates on the whois database to HOSTMASTER@internic.net
* Please report system problems to ACTION@internic.net
***************************************************************************
Please be advised that use constitutes consent to monitoring
(Elec Comm Priv Act, 18 USC 2701-2711)
<P>
6/1/94
We are offering an experimental distributed whois service called referral
whois (RWhois). To find out more, look for RWhois documents, a sample
client and server under:
gopher: (rs.internic.net) InterNIC Registration Services -&gt;
<PRE>        InterNIC Registration Archives -&gt; pub -&gt; rwhois
        anonymous ftp: (rs.internic.net) /pub/rwhois
</PRE>Cmdinter Ver 1.3 Thu May 29 14:42:50 1997 EST
[ansi] InterNIC &gt;
[ansi] InterNIC &gt; whois TEST.NET
Connecting to the rs Database . . . . . .
Connected to the rs Database
Test Communications (TEST3-DOM)
<PRE>   734 Crater Street
   Charlotte, NC 28205
   US

   Domain Name: TEST.NET

   Administrative Contact:
      Administrator  (ADM214-ORG)  administrator@TEST.NET
      704-342-4664 (FAX) 704-342-1144
   Technical Contact, Zone Contact:
      Test, Russ  (RO553)  russ@TEST.NET
      704-342-4664 (FAX) 704-342-1144
   Billing Contact:
      Test, Lisa  (LL1079)  lisa@TEST.NET
      704-342-4664 (FAX) 704-342-1144

   Record last updated on 19-Dec-96.
   Record created on 19-Dec-96.
   Database last updated on 20-May-97 05:00:33 EDT.

   Domain servers in listed order:

   NS1.TEST.NET              123.123.123.253
   HARRIS2.DIABLO1.COM  200.200.200.1

</PRE>Type a handle, name, mailbox, or other field, optionally preceded
<PRE>  by a keyword, like "host diis". Type "?" for short, 2-page
  details, "HELP" for full documentation, or hit RETURN to exit.
</PRE>---&gt; Do ^E to show search progress, ^G to abort a search or output &lt;---
Whois:
<P>
Press ENTER to exit Whois.
<P>
[ansi] InterNIC &gt;
<P>
*****Record the Domain servers listed in the WHOIS record and their ip
*****addresses.
<P>
[ansi] InterNIC &gt; logout
<P>
*****This is what you would expect from a properly configured name server
*****and WHOIS record:
<P>
*****(Remember, these are examples, please replace all mentions of
<PRE>*****ns1.test.net   with your primary DNS servers hostname and
*****harris2.diablo1.com     with your secondary DNS servers hostname.)

&gt;
</PRE>&gt;NSLOOKUP
Default Server:  ntw.test.net
Address:  200.200.200.5
<P>
&gt;SERVER ns1.test.net
Default Server:  ns1.test.net
<PRE>Address:   123.123.123.253

</PRE>&gt;SET TYPE=ANY
&gt;test.net
Server:  ns1.test.net
Address:  123.123.123.253
<P>
Test.net  nameserver = ns1.test.net
Test.net  nameserver = harris2.diablo1.com
Test.net
<PRE>   Primary name server = ns1.test.net
   Responsible mail addr = Administrator.test.net
   Serial = 5
   Refresh = 3600 (1 hour)
   Retry    = 600 (10 mins)
   Expire   = 86400 (1 day)
   Default TTL = 3600 (1 hour)
</PRE>ns1.test.net internet address = 123.123.123.253
harris2.diablo1.com internet address = 200.200.200.1
&gt;
<P>
*****The above is an example of an "authoritative answer." The name server,
*****NS1.TEST.NET, returned the SOA (Status of Authority) record for the
*****domain TEST.NET.
<P>
*****This is what to expect from a lame server. HARRIS2.DIABLO1.COM is
*****listed as TEST.NETs secondary name server and is required to be
*****authoritative for the TEST.NET domain:
<P>
&gt;
&gt;NSLOOKUP
Default Server:  ntw.test.net
Address:  200.200.200.5
<P>
&gt;SERVER harris2.diablo1.com
Default Server:  harris2.diablo1.com
<PRE>Address:   200.200.200.1

</PRE>&gt;SET TYPE=ANY
&gt;test.net
Server: harris2.diablo1.com
Address: 200.200.200.1
<P>
Non-authoritative answer:
<PRE>test.net     nameserver = ns1.test.net
test.net     nameserver = harris2.diablo1.com

</PRE>Authoritative answers can be found from:
<PRE>test.net     nameserver = ns1.test.net
test.net     nameserver = ns2.test.netn
ns1.test.NET          internet address = 123.123.123.253
harris2.diablo1.com      internet address = 200.200.200.1

</PRE>*****The above is returning a non-authoritative answer and is telling us
*****where to get an authoritative answer from. Note that it is telling us
*****that an authoritative answer can be obtained from ourselves!
<P>
&gt;NSLOOKUP
Default Server:  wow.diablo1.com
Address:  200.200.200.199
<P>
&gt;SERVER harris2.diablo1.com
Default Server:  harris2.diablo1.com
<PRE>Address:   200.200.200.1

</PRE>&gt;SET TYPE=ANY
&gt;test.net
Server: harris2.diablo1.com
Address: 200.200.200.1
<P>
DNS request timed out.
<PRE>         Timeout was 2 seconds.
</PRE>DNS request timed out.
<PRE>         Timeout was 4 seconds.
</PRE>DNS request timed out.
<PRE>         Timeout was 8 seconds.
</PRE>*** Request to harris2.diablo1.com timed-out
<P>
(OR)
<P>
*** harris2.diablo1.com can't find test.net.: No response from server
<P>
*****The above is considered a lame server as well. This server isn't even
*****listening for DNS queries or doesn't even exist!
<P>
For additional information, please see the following article in the
Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../winnt/q171789.htm">Q171789</A></B>
   TITLE     : PTR Record for DNS Server is not Automatically Created
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: soa start of authority ntdns Status of Authority<BR>
Domain Name System<BR>
Keywords          : NTINTEROP NTSrv nttcp kbnetwork kbusage<BR>
Version           : WinNT:4.0<BR>
Platform          : winnt<BR>
Issue type        : kbinfo<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 9, 1998</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
