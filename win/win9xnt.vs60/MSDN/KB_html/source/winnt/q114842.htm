

<HTML>
<HEAD>
<TITLE>Setup Failure When Too Many Files Are On Drive C </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q114842">
<META NAME="KBModify" CONTENT="1997/11/05">
<META NAME="KBCreate" CONTENT="1994/05/15">
<META NAME="Keywords" CONTENT="kbbug3.10 ntboot ntfilesys kbsetup">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  The Windows NT Setup routine may not complete successfully when too many files are present in the root of a FAT-formatted drive C.  CAUSE =====  The FAT (File Allocation Table) format has a maximum limit to the number of files that may be present i...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAA1,QDI2,QDIV,QDIZ,QDIR,QBFY,QA9N,QAV1,QAV0,QAVV,QAEF,QBVV,QAC9,QAFI V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Setup Failure When Too Many Files Are On Drive C</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 5, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q114842</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
<LI>Microsoft Windows NT Advanced Server version 3.1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The Windows NT Setup routine may not complete successfully when too many
files are present in the root of a FAT-formatted drive C.
<P>
<P><h2>CAUSE</h2>
 
<P>
The FAT (File Allocation Table) format has a maximum limit to the number of
files that may be present in the root directory. On most systems running MS-
DOS version 6.x or earlier, this limit is 511 files.
<P>
Windows NT Setup needs to copy the files NTDETECT.COM, NTLDR, BOOT.INI, and
possibly NTBOOTDD.SYS to the root of drive C. If there are too many files
already in the root directory, these files are not copied. A message
appears saying that the files were not copied and that Setup may not be
able to complete, but there is no explanation of the specific reason for
the failure and Setup proceeds until the system tries to boot into the
graphical portion of Setup. At this stage, the system may be unbootable
because the Windows NT boot sector is unable to find NTLDR. You cannot boot
into Windows NT or the previous operating system and must boot from floppy
disk to recover.
<P>
<P><h2>WORKAROUND</h2>
 
<P>
If the previous operating system was MS-DOS, you have two options at this
stage:

<UL><LI>Boot an MS-DOS floppy disk and use SYS to make drive C bootable to MS-
   DOS. Then delete or move enough files from the root of drive C to allow
   for the creation of the above files and start the installation process
   anew. (It may also be necessary to remove any temporary directory
   created by the Setup process to provide enough total free disk space.)
<P>
   -or-

<LI>Boot an MS-DOS floppy disk and then delete or move enough files from the
   root of drive C so that the required files may be manually put into
   place. This may require the manual creation of a BOOT.INI file and in
   the case of a SCSI boot drive, may require copying the appropriate SCSI
   mini-port driver to "NTBOOTDD.SYS." Therefore, if you are not familiar
   with these options, it is advised that you use the first option.
<P>
</UL><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Windows NT and Windows NT
Advanced Server version 3.1. We are researching this problem and will post
new information here in the Microsoft Knowledge Base as it becomes
available.
<P>
More information is available in the following Knowledge Base Articles:
<P>
<PRE>   ARTICLE ID:  <B><A href="../winnt/q173694.htm">Q173694</A></B>
   TITLE     :  Err Msg: ERROR: Setup Was Unable to Install the Boot Loader
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: lfn prodnt<BR>
Keywords          : kbbug3.10 ntboot ntfilesys kbsetup<BR>
Version           : 3.1<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 5, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
