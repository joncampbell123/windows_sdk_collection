

<HTML>
<HEAD>
<TITLE>BOOT.INI and ARC Path Naming Conventions and Usage </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q102873">
<META NAME="KBModify" CONTENT="1997/07/23">
<META NAME="KBCreate" CONTENT="1996/05/06">
<META NAME="Keywords" CONTENT="kbusage ntboot">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  This article explains the conventions in the Advanced RISC Computing (ARC) specifications that are used to define the path to a Windows NT installation on Intel x86-processor-based computers and RISC-based computers. This article consists of the fo...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAFV,QDIV,QBE7,QBE6,QAC9,QAA1,QBHI,QAI4,QDI2,QAPF,QAKC,QAFI,QBC6,QAG8 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>BOOT.INI and ARC Path Naming Conventions and Usage</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 23, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q102873</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
<LI>Microsoft Windows NT Advanced Server version 3.1
<LI>Microsoft Windows NT Workstation versions 3.5, 3.51, and 4.0
<LI>Microsoft Windows NT Server versions 3.5, 3.51, and 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article explains the conventions in the Advanced RISC Computing (ARC)
specifications that are used to define the path to a Windows NT
installation on Intel x86-processor-based computers and RISC-based
computers. This article consists of the following sections:

<UL><LI>x86-Based and RISC-Based ARC Paths Comparison
<LI>Differences Between the MULTI(X) and SCSI(X) Syntax and Application
<LI>Examples of x86-Based and RISC-Based ARC Paths
<P>
</UL><h2>x86-Based and RISC-Based ARC Paths Comparison</h2>
 
<P>
The path to each Windows NT installation is described in a single line in
the BOOT.INI file for x86-based computers, however, on RISC-based
computers a set of four lines is used in the computer firmware BOOT-
options to point to a single Windows NT installation. If there are
multiple installations of Windows NT on your x86-based computer, the
BOOT.INI has one ARC path for each installation in it. You are prompted
with a boot menu during the boot process to choose the installation you
want to boot.
<P>
There are two basic forms in which an ARC path can appear, one form
starting with MULTI() and the other form starting with SCSI(). Both forms
are used on x86-based computers, however, only the SCSI() form is used on
RISC computers:
<P>
<P><h3>x86-Based Computers</h3>
 
<P>
The following are generic examples of two possible BOOT.INI ARC paths:
<P>
<PRE>   multi(X)disk(Y)rdisk(Z)partition(W)\&lt;winnt_dir&gt;

   -or-

   scsi(X)disk(Y)rdisk(Z)partition(W)\&lt;winnt_dir&gt;

</PRE>where X, Y, Z, and W are numbers that identify the item to their left.
<P>
Both ARC-path examples above allow Windows NT find the %SystemRoot%
directory to complete the boot process by loading files in that reside in
that directory. For additional information, see the Differences Between
The MULTI(X) And SCSI(X) Syntax And Application section below.
<P>
<P><h3>RISC-Based Computers</h3>
 
<P>
Because the RISC-based architecture requires that the firmware points to
different areas of the system, the ARC path to a single Windows NT
installation consists of a group of four definitions with ARC paths
(versus only a one-line ARC-path definition on x86-based computers). Each
ARC path that follows one of the four definitions starts with SCSI() after
the definition name:
<P>
<PRE>   SYSTEMPARTITION scsi(X)disk(Y)rdisk(Z)partition(W)
   OSLOADER  scsi(X)disk(Y)rdisk(Z)partition(W)\os\&lt;nt_dir&gt;\osloader.exe
   OSLOADPARTITION scsi(X)disk(Y)rdisk(Z)partition(W)
   OSLOADFILENAME  \&lt;winnt_dir&gt;

</PRE>The following explains each line of the four-line group above.
<P>
Definition 1 (SYSTEMPARTITION):
<P>
<PRE>   Defines the path to the SYSTEMPARTITION, the small, File Allocation
   Table (FAT) partition which holds OSLOADER.EXE and HAL.EXE:

      scsi(X)disk(Y)rdisk(Z)partition(W)

</PRE>Definition 2 (OSLOADER):
<P>
<PRE>   Defines the path to the OSLOADER file. This is the same as the
   SYSTEMPARTITION, but it includes a path descriptor:

      scsi(X)disk(Y)rdisk(Z)partition(W)\os\&lt;nt_dir&gt;\osloader.exe

   where &lt;nt_dir&gt; indicates the directory in which OSLOADER.EXE resides.

</PRE>Definition 3 (OSLOADPARTITION):
<P>
<PRE>   Defines the boot partition which contains the rest of the Windows NT
   system files:

      scsi(X)disk(Y)rdisk(Z)partition(W)

</PRE>Definition 4 (OSLOADFILENAME):
<P>
<PRE>   Defines the name of the Windows NT installation directory (winnt_dir)
   with no drive letter:

      \&lt;winnt_dir&gt;

</PRE><h2>Differences Between the MULTI(X) and SCSI(X) Syntax and Application</h2>
 
<P>
<P><h3>MULTI(X) Syntax</h3>
 
<P>
The MULTI(X) syntax of the ARC path is only used on x86-based computers.
In Windows NT version 3.1 this path is only valid for IDE and ESDI drives;
in Windows NT version 3.5, 3.51 and 4.0 it is valid for SCSI drives as
well.
<P>
The MULTI() syntax indicates to Windows NT that it should rely on the
computers BIOS to load system files. This means that the operating system
will be using interrupt (INT) 13 BIOS calls to find and load NTOSKRNL.EXE
and any other files needed to boot Windows NT.
<P>
The X, Y, Z, and W parameters have the following meaning:

<UL><LI>X is the ordinal number of the adapter and should always be 0 (see
<P><PRE>     the text below for the reason).
</PRE>
<LI>Y is always 0 (zero) if the ARC path starts with MULTI(), because
   MULTI() invokes the INT 13 call as described above and therefore does
   not need the DISK() parameter information.

<LI>Z is the ordinal for the disk on the adapter and is usually a number
   between 0 and 3.

<LI>W is the partition number. All partitions receive a number except
   for type 5 (MS-DOS Extended) and type 0 (unused) partitions, with
   primary partitions being numbered first and then logical drives.
<P>
   NOTE: The first valid number for W is 1, as opposed to X, Y, and Z
   which start at 0 (zero).
<P>
</UL>Theoretically, this syntax could be used to start Windows NT on any drive
in the system. However, this would require that all drives are correctly
identified through the standard INT 13 interface; since support for this
varies from disk controller to disk controller and most system BIOS only
identify a single disk controller through INT 13, in practice it is only
safe to use this syntax to start Windows NT from the first two drives
connected to the primary disk controller, or the first four drives in the
case of a dual-channel EIDE controller.
<P>
In a pure IDE system, the MULTI() syntax will work for up to the four
drives maximum on the primary and secondary channels of a dual-channel
controller.
<P>
In a pure SCSI system, the MULTI() syntax will work for the first two
drives on the first SCSI controller (that is, the controller whose BIOS
loads first).
<P>
In a mixed SCSI and IDE system, the MULTI() syntax will work only for the
IDE drives on the first controller.
<P>
<P><h3>SCSI(X) Syntax</h3>
 
<P>
The SCSI() syntax is used on both RISC and x86-based computers and is used
in all versions of Windows NT. Using SCSI() notation indicates that
Windows NT will load a boot device driver and use that driver to access
the system partition.
<P>
On an x86-based computer, the device driver used is NTBOOTDD.SYS, which
can be found in the root of the system drive (generally of drive C) and is
a copy of the device driver for the drive controller in use.
<P>
On a RISC computer, the driver is built into the firmware as required by
the RISC standards, so no file is required.
<P>
The X, Y, Z, and W parameters have the following meaning when using the
SCSI() syntax:

<UL><LI>X is the ordinal number of the adapter as identified by the
   NTBOOTDD.SYS driver.

<LI>Y is the SCSI ID of the target disk.

<LI>Z is the SCSI logical unit number (LUN) of the target disk. This
   number is almost always 0 (zero).

<LI>W is the partition number. All partitions receive a number except
   for type 5 (MS-DOS Extended) and type 0 (unused) partitions, with
   primary partitions being numbered first and then logical drives.
<P>
   NOTE: This first valid number for W is 1, as opposed to X, Y, and Z
   which start with 0.
<P>
</UL>When using SCSI() notation the value of X depends upon NTBOOTDD.SYS. Each
SCSI driver under Windows NT has its own method of ordering controllers,
although generally they conform to the order that the BIOS on the
controllers load (that is, if the BIOS is loaded).
<P>
Additionally, if you have multiple controllers that use different device
drivers, you should only count those controlled by NTBOOTDD.SYS when
determining the value of the X parameter. For instance, if you have an
Adaptec 2940 (which uses the driver AIC78XX.SYS) and an Adaptec 1542
(which uses AHA154X.SYS) X will always be 0. What will change is the
NTBOOTDD.SYS file:

<UL><LI>If you load Windows NT from a drive on the Adaptec 2940, NTBOOTDD.SYS
   is a copy of AIC78XX.SYS.

<LI>If you load Windows NT from a drive on the Adaptec 1542, NTBOOTDD.SYS
   is a copy of AHA154X.SYS.
<P>
</UL>Theoretically, you can use SCSI() notation with an EIDE controller
provided you are using ATAPI.SYS copied to the name NTBOOTDD.SYS, however,
this does not work and is not supported.
<P>
<P><h2>Example of x86-Based and RISC-Based ARC Paths</h2>
 
<P>
The following are examples of valid ARC paths. The first two examples are
ARC paths on x86-based computers. Example three is taken from a single
boot entry on a DEC Alpha AXP 150 RISC-based computer, but should be
correct for all RISC-based computers with similar drive configurations.
<P>
NOTE: If you have multiple ARC paths in the BOOT.INI file and a
combination of different SCSI adapters in your computer as shown in
example 1 and 2 below, you must copy the appropriate SCSI driver to the
NTBOOTDD.SYS file name in the root directory of the system partition
(generally drive C), before you shut down to boot from a Windows NT
installation that resides on a drive connected to the other SCSI
controller. This is because regardless on which drive the other Windows NT
installation resides, NTBOOTDD.SYS always resides on the system partition.
<P>
<P><h3>Example 1: Multiple SCSI controllers</h3>
 
<P>
This is an example of an x86-based computer with the following drives and
controllers installed:

<UL><LI>Two Adaptec 2940 SCSI controllers, each with two 1 gigabyte (GB) hard
   drives at ID 0 and 1.

<LI>One Adaptec 1542 SCSI disk controller, with two 1 GB hard drives at ID
   0 and 4.
<P>
</UL>Each hard drive has a single, 1 GB primary partition. For the purpose of
explaining this example, the partitions are numbered from 1 through 6,
with partition 1 and 2 identifying disk one and two attached to the
Adaptec 2940 controller, partition 3 and 4 identifying the disks attached
to the second Adaptec 2940 controller, and partition 5 and 6 on the disks
on the Adaptec 1542. One of the following ARC paths appears in BOOT.INI
depending on what partition you installed Windows NT. This example assumes
that Windows NT is installed in a directory named WINNT35:
<P>
<PRE>Windows NT Installed On         Corresponding ARC Path
</PRE> 
Partition1(on 1st Adaptec 2940)
multi(0)disk(0)rdisk(0)partition(1)\WINNT35
Partition2(on 1st Adaptec 2940)
multi(0)disk(0)rdisk(1)partition(1)\WINNT35
Partition3(on 2nd Adaptec 2940) scsi(1)disk(0)rdisk(0)partition(1)\WINNT35
Partition4(on 2nd Adaptec 2940) scsi(1)disk(1)rdisk(0)partition(1)\WINNT35
<PRE>Partition5(on Adaptec 1542)     scsi(0)disk(0)rdisk(0)partition(1)\WINNT35
Partition6(on Adaptec 1542)     scsi(0)disk(4)rdisk(0)partition(1)\WINNT35

</PRE>NOTES: For partition 3 and 4, NTBOOTDD.SYS is a copy of AIC78XX.SYS, for
partition 5 and 6 NTBOOTDD.SYS is a copy of AHA154X.SYS. As an alternative
to the ARC paths of partition 1 and 2, you can substitute the following
paths provided that you have an NTBOOTDD.SYS file that is a copy of the
AIC78XX.SYS driver:
<P>
<PRE>Windows NT Installed On         Corresponding ARC Path
</PRE> 
Partition1(on 1st Adaptec 2940) scsi(0)disk(0)rdisk(0)partition(1)\WINNT35
Partition2(on 1st Adaptec 2940) scsi(0)disk(1)rdisk(0)partition(1)\WINNT35
<P>
However, Windows NT Setup always uses MULTI() syntax for these first two
drives.
<P>
<P><h3>Example 2: Mixed IDE and SCSI Environment</h3>
 
<P>
This is an example of an x86-based computer with the following drives and
controllers installed:

<UL><LI>A dual-channel EIDE controller with three 1 GB drives, two on the
   primary channel and one on the secondary channel.

<LI>An Adaptec 2940 SCSI controller with a single 4 GB hard drive at ID 3.
<P>
</UL>The three EIDE drives have one 1 GB partition each, the SCSI drive has
four 1 GB partitions. For the purpose of explaining this example, the
partitions are numbered from 1 through 7, with partition 1 and 2
identifying disks one and two on the primary channel of the EIDE
controller, partition 3 on the secondary channel, and partitions 4, 5, 6,
and 7 on the SCSI drive. One of the following ARC paths appears in
BOOT.INI depending on what partition you installed Windows NT. This
example assumes that Windows NT is installed in a directory named WINNT35:
<P>
<PRE>Windows NT Installed On        Corresponding ARC Path
</PRE> 
Partition1 (pri. EIDE channel) Multi(0)disk(0)rdisk(0)partition(1)\WINNT35
Partition2 (pri. EIDE channel) multi(0)disk(0)rdisk(1)partition(1)\WINNT35
Partition3 (sec. EIDE channel) multi(0)disk(0)rdisk(2)partition(1)\WINNT35
<PRE>Partition4 (on Adaptec 2940)   scsi(0)disk(3)rdisk(0)partition(1)\WINNT35
Partition5 (on Adaptec 2940)   scsi(0)disk(3)rdisk(0)partition(2)\WINNT35
Partition6 (on Adaptec 2940)   scsi(0)disk(3)rdisk(0)partition(3)\WINNT35
Partition7 (on Adaptec 2940)   scsi(0)disk(3)rdisk(0)partition(4)\WINNT35

</PRE>NOTES: Loading Windows NT from partitions 4 through 7 requires an
NTBOOTDD.SYS file which is a copy of AIC78XX.SYS.
<P>
<P><h3>Example 3: Boot variables on a DEC Alpha AXP 150</h3>
 
<P>
On a RISC computer, all boot paths are defined through the firmware. When
creating a new boot entry for a RISC computer the firmware steps you
through a series of prompts which aids you in defining the paths
correctly; so unless you are editing a boot entry that is not working any
more, you should never have to directly edit the ARC paths on a RISC
computer.
<P>
The following example is a boot entry on a DEC Alpha AXP 150, with a
single hard drive at ID 0 that is partitioned as follows:

<UL><LI>One 4 MB system partition.
<LI>One 396 MB boot partition.
<P>
</UL>Windows NT is installed on the boot partition in a directory named WINNT35
and the OSLOADER directory is also named OS\WINNT35, however, it is on the
system partition. The boot entry has the following values:
<P>
<PRE>   SYSTEMPARTITION scsi(0)disk(0)rdisk(0)partition(1)
   OSLOADER  scsi(0)disk(0)rdisk(0)partition(1)\os\winnt35\osloader.exe
   OSLOADPARTITION scsi(0)disk(0)rdisk(0)partition(2)
   OSLOADFILENAME  \WINNT35
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 3.10 3.50 3.51 4.00<BR>
Keywords            : kbusage ntboot<BR>
Version             : 3.1 3.5 3.51 4.0<BR>
Platform            : WinNT<BR>
Issue type          : kbhowto<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 23, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
