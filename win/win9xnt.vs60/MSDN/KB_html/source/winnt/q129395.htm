

<HTML>
<HEAD>
<TITLE>Troubleshooting FTP Error 425 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q129395">
<META NAME="KBModify" CONTENT="1996/09/03">
<META NAME="KBCreate" CONTENT="1995/04/25">
<META NAME="Keywords" CONTENT="kbnetwork kbtshoot">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  FTP error 425 may be returned to an FTP client if the server is unable to open a socket for data transfer. This article explains the error and how to troubleshoot it.  MORE INFORMATION  When using FTP to do directory listings, file transfers, etc. ...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBW9,QARL,QBWD,QAKG,QAI5,QBG2,QDJP,QAH6,QAAP,QAB4,QAQW,QBV8,QAB9,QBBI,QA3Q V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Troubleshooting FTP Error 425</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 3, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q129395</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 3.5
<LI>Microsoft Windows NT Server version 3.5
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
FTP error 425 may be returned to an FTP client if the server is unable
to open a socket for data transfer. This article explains the error and how
to troubleshoot it.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
When using FTP to do directory listings, file transfers, etc. from a
server, one session is maintained as a control connection. A separate
connection is established from the server back to the client for each
transfer of data. This is commonly referred to as a "back connection". For
example, when an ftp user logs onto an ftp server and types DIR, the
following sequence of events occurs:

<UL><LI>The FTP client establishes a socket to listen on for the results of
   the remote DIR command.

<LI>The FTP client sends a PORT command to the server, telling it what
   IP address and TCP port it is listening on for the "back connection.
   This command is sent over the control session that was established
   during the logon process.

<LI>The FTP client sends a LIST command to the server, telling it to list
   all files in the current directory. Again, this is sent over the
   original control session.

<LI>The FTP server executes the LIST command, and passes the results back
   to the client by establishing a new connection to the callback address
   specified by the previous PORT command.
<P>
</UL>If an FTP error 425 occurs, this indicates that the server was unable to
open the connection back to the client. The most likely cause for this is
an FTP client application that is attempting to re-use a socket that is
still in the TCP TIME-WAIT state due to an earlier connection that hasn't
been timed out yet. Per RFC793, Windows NT 3.5 systems leave old
connections in the TIME-WAIT state for 2MSL (240 seconds). During
this time they cannot be re-used.
<P>
The socket that cannot be used is defined by a "5-tuplet":

<UL><LI>The source IP address (that of the ftp server)
<LI>The source port (the ftp server data port)
<LI>The destination IP address (that of the ftp client)
<LI>The destination port (specified by the client in the PORT command)
<LI>The protocol (TCP/IP)
<P>
</UL>You should not encounter this problem with the Microsoft FTP client because
it allows Windows Sockets to select a socket that is not in use. However,
some third-party FTP-based applications may do their own port management.
When this is done, care must be taken by the application not to reuse
the same socket twice within four minutes (2MSL or 240 seconds).
<P>
To verify whether this is the cause of an FTP error 425, a network tracing
tool can be used. More useful background information and definition of
some of the terms used in this article may be found in RFC793.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbnetwork kbtshoot<BR>
KBSubCategory: ntnetserv<BR>
Additional reference words: 3.50 prodnt tshoot trouble shoot shooting<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 3, 1996</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
