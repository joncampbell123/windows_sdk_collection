

<HTML>
<HEAD>
<TITLE>How to Configure Windows 95 Remoteboot on Windows NT 4.0 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q158452">
<META NAME="KBModify" CONTENT="1997/09/10">
<META NAME="KBCreate" CONTENT="1996/10/30">
<META NAME="Keywords" CONTENT="NTSrv kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  This article explains the steps required to install and configure Windows 95 for the Remoteboot service under Windows NT Server 4.0. Prior to performing any of the steps outlined in this article, you must have properly installed the Remoteboot serv...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWQ,QBXB,QATJ,QAA1,QDL9,QBWO,QBWN,QAFI,QDI2,QBWP,QDIZ,QARL,QAC9,QBWS,QDNF V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Configure Windows 95 Remoteboot on Windows NT 4.0</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 10, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q158452</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server version 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article explains the steps required to install and configure Windows
95 for the Remoteboot service under Windows NT Server 4.0. Prior to
performing any of the steps outlined in this article, you must have
properly installed the Remoteboot service on Windows NT and have
configured
the remoteboot client for MS-DOS. For more information, please see the
following articles here in the Microsoft Knowledge Base:
<P>
<PRE>   Article-ID: 158277
   TITLE     : How to Configure DOS for Remoteboot on Windows NT 4.0

   Article-ID: 158454
   TITLE     : How to Install Remoteboot on Windows NT 4.0

</PRE>For this article, it is assumed that your system’s Remoteboot service,
Server-Based Setup (SBS) installation directory, and machine directory
reside in a Windows NT 4.0 Server configured for remoteboot.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Requirements</h3>
 
<P>
An SBS of Windows 95 requires 90 megabytes (MB) of available disk space on
the server, as well as an additional 2 MB for the Windows 95 client
configuration files and at least 10 MB for each Windows 95 machine
directory. More disk space is required if users install additional
software.
<P>
The remoteboot client computer requires 8 MB of RAM, must use a
386DX or higher processor, and must have a supported Remoteboot
Network Card.
<P>
<P><h3>Installing SBS for Windows 95 Clients</h3>
 
<P>
The following procedures are taken from the Windows NT Server Networking
Guide Help file in the Windows NT 4.0 Resource Kit.
<P>
For more information about SBS servers, see the Microsoft
Windows 95 Resource Kit. The resource kit describes additional purposes,
beyond remoteboot, that you can use an SBS server for.
<P>
To install an SBS server for a Windows 95 client, you will need a Windows
95 installation compact disc (not to be confused with a floppy disk) and
the Windows 95 client computer. You must then complete the following
steps:

<OL><P><LI>On the server that will contain the SBS files, create a shared
</OL>directory
with 90 MB of available disk space. The shared directory can have any
name.
<P>
NOTE: As you share the directory, assign read-only permission for regular
users and full access for administrators. Use Server Manager to focus on
the shared directory, and set read-only permission for the Users group and
full permission for the Administrators group. In File Manager, on the Disk
menu, click Share As (do NOT open the Security menu and click
Permissions).

<OL><P><LI>Install one regular Windows 95 client on the network or use an existing
</OL>one. You will use this client to configure the SBS server.

<OL><P><LI>Log on to the Windows 95 client using an account that has write access
</OL>to the shared directory on the SBS server.

<OL><P><LI>Put the Windows 95 compact disc in the client's CD-ROM drive. In
</OL>Windows Explorer, switch to the Admin\Nettools\Netsetup directory.

<OL><P><LI>Double-click the file Netsetup.exe.
<P>
</OL>Note that you must run Netsetup.exe at a Windows 95 client. Errors will
occur if you run this file on a computer running Windows NT.

<OL><P><LI>In the Server-Based Setup dialog box, click Set Path, and specify the
</OL>path to the SBS server. In specifying the path, you can type a drive
letter
for a mapped drive, a network name for a server (for example,
\\server1\sharedir), or a network path to a specific directory (for
example, \\server1\sharedir\rpl\win95). The button name becomes Change
Path
if a server was defined previously.

<OL><P><LI>Click OK, then click Install.

<P><LI>Server-Based Setup now presents you with a series of dialog boxes
</OL>asking
you to select among various options. The boxes you see may include the
following:

<UL><LI>A dialog box for specifying an installation policy controlling how
</UL>users
<PRE>   can install Windows 95 from the server. If you support only remoteboot
   clients, click Server. If you support other SBS functions as well,
</PRE></OL>click
<PRE>   User's Choice. Do not click Local Hard Drive.

</PRE><LI>A dialog box for setting the source path for Windows 95 files.  This is
   the path to the compact disc on the client.

<LI>A dialog box for indicating whether you want to create a default setup
   script. Specify that you do NOT want to create a default setup script.
   Setup scripts for Windows NT remoteboot installation require special
   settings.

<LI>A dialog box for providing a CD Key number for product identification.

<LI>A dialog box for directing Server-Based Setup to copy Windows 95 files
   to the SBS shared directory.

</UL><OL><P><LI>At the remoteboot server, insert the compact disc or floppy disk
</OL>containing the Windows NT remoteboot for Windows 95 files. Change to the
newly inserted disc or disk, then change to the Update\Win95 directory. To
update the Windows 95 files for remotebooting, run Win95srv.bat. The
following inputs illustrate this process:
<P>
<PRE>   d:
   cd \clients\rpl\update\win95
   win95srv.bat &lt;dest&gt;

</PRE></OL>where &lt;dest&gt; is the shared directory on the SBS server.

<OL><P><LI>If you are updating from version 3.51 or earlier of the Remoteboot
</OL>service, start the Remoteboot service at the remoteboot server (if it is
not already started). Then run the program Rbootsrv.bat to update the
remoteboot files and database for Windows 95 remotebooting. Thus, at the
server's command prompt, you would type:
<P>
<PRE>   d:
   cd \clients\rpl\update\win95
   rbootsrv.bat  &lt;SBS_path&gt;  &lt;RPL_path&gt;  [\\servername]

</PRE></OL>where:

<UL><LI>&lt;SBS_path&gt; is the path to the installed SBS server's Windows 95 files.

<LI>&lt;RPL_path&gt; is the path to the remoteboot directory.

<LI>\\servername is the name of the remoteboot server (you can omit this
   if you are typing at the remoteboot server).

</UL><OL><P><LI>At the remoteboot server, start Remoteboot Manager.

<P><LI>On the Configure menu, click Check Configurations to activate the new
</OL>configurations.
<P>
<P><h3>Installing the First Windows 95 Client</h3>
 
<P>
Each remoteboot client has a machine directory. This directory contains
client-specific configuration information and data. Stored here are the
appropriate initialization and configuration files, the registry, desktop,
start menu directories, spool directories and the swap file and temp
directories. These machine directories can reside on any server on the
network provided that the server is running NetBEUI and IPX protocols and
that there is ample disk space available. You may want to spread the load
of the machine directories across servers.

<OL><P><LI>On the server that will contain the machine directory, create a shared
</OL>directory with at least 10 MB of space available per client. Additional
space may be needed depending on the installed applications. The share
directory can have any name and be located in any directory. One
suggestion
is that you create the directory under the WINNT\RPL and supply a name of
Win95.mac.
<P>
NOTE: The server for the machine directory must be in the same
domain or workgroup as the SBS server.
<P>
NOTE: The machine directories may not be subdirectories of the
SBS directory.

<OL><P><LI>Set the permissions for the share and directory (NTFS only).
</OL>The group RPLUSERS and the group ADMINISTRATORS both need full control.
<P>
NOTE: For added security (NTFS only), assign the permissions to a machine
directory so that only the users who will use the client have full control
of the machine directory for that remoteboot computer.

<OL><P><LI>Boot the remoteboot client with DOS 6.2x.

<P><LI>Using the NET LOGON command, log on to the remoteboot client
</OL>using an account that has read access to the SBS server and write
<PRE>access to the server with the machine directory share.   Many users
</PRE></OL>have found it easier to use the administrator account during the
installation process for full access to all systems.

<OL><P><LI>   Using the NET USE command, map one drive to the SBS share and
</OL>another
<PRE>  to the machine directory share.

</PRE></OL>NOTE: The drive letters used during this step cannot be changed and will
be
dedicated to the booting and operation of the Windows 95 remoteboot
client.
For example, in the following:
<P>
<PRE>     net use F: \\NTSERVER\WIN95.SBS
     net use G: \\NTSERVER\WIN95.MAC

</PRE></UL>drive F is mapped to the Windows 95 SBS and drive G is mapped to the
Windows 95 machine directory share. These drive letters cannot be changed
or used for other shares since Windows 95 uses them during its operation.

<OL><P><LI>Change to the drive letter mapped to the SBS share.  In the above
</OL>example, this is drive F.

<OL><P><LI>Run the Windows 95 Setup program by typing:
<P>
<P><PRE>     Setup /t:temppath
</PRE><P>
</OL>where /t: is required and temppath is a path to a directory to store
temporary files during the installation. This path could be G:\win.tmp.
Note that the temp path is completely removed after completing the
installation of Windows 95.
<P>
NOTE: You may want to use SETUP /T:TEMPPATH /IW /IS MSBATCH.INF.
This bypasses licensing during setup and skips scandisk.

<OL><P><LI>Setup will display the following dialog boxes:

</OL></UL><LI>Server-Based Setup dialog box. Select "Setup Windows to
   run from a network server."

<LI>Startup Method dialog box. Select "Start Windows from the network
   (remoteboot server)."

<LI>Machine Directory dialog box. Enter the drive letter and a directory to
   install the Windows 95. (The drive letter must be the same drive letter
   mapped for the computer’s directory, and the directory name should
   reflect the configuration for the computer. For example, G:\DELL5166
   might be used for a Dell Pentium 166. The directory is created during
   setup.)

<LI>Setup Options dialog box. Choose custom setup.

<LI>Analyzing Your Computer dialog box. Select "No, I want to modify the
   hardware list." (You should exclude as many hardware types and items
   from the auto-detection as possible. If during the auto-detection
</UL>phase,
<PRE>   the system fails, you should restart the setup process and exclude more
   items from the auto-detection phase.)

</PRE></OL>NOTE: If your network adapter is using IRQ2 or IRQ3, this will conflict
with the serial port detection and possibly cause the system to fail
during
setup.

<UL><LI>Select Components dialog box. Clear the checkbox for Communications if
   your remoteboot client doesn't have a modem.

<LI>Network Configuration dialog box. Select the appropriate network
</UL>adapter
<PRE>   and the desired protocols. If your network adapter is not displayed,
</PRE>you
<PRE>   will have to add and configure your adapter.

</PRE>NOTE: If you add your network adapter, you must confirm the resource
settings for the adapter by selecting OK. If you select Cancel, your
Windows 95 remoteboot setup will fail to boot properly.

<UL><LI>Identification dialog box. Make sure the workgroup name is the same as
   the domain or workgroup name of the SBS server and machine directory
   server.
<P>
</UL>When the Windows 95 setup program completes, reboot the client and either
turn it off or leave it at the prompt that asks you whether you want to
boot from the network or not.

<OL><P><LI> At the remoteboot server, start the Remoteboot Manager.

<P><LI>Create a profile for the Windows 95 client. In the Configuration box,
</OL>choose the Windows 95 configuration that corresponds to the client's
network adapter type. The adapter type should be the same one used to do
the DOS6.2x remoteboot.

<OL><P><LI>Select the client's workstation record by double-clicking on it or
</OL>selecting Properties from the Remoteboot menu, and assign the new Windows
95 profile.

<OL><P><LI>Once the profile has been configured, you need to move the client-
</OL>specific Windows 95 real-mode boot files from the client's machine
directory to the Rpl\Rplfiles\ Profiles\&lt;profile_name&gt; directory on the
remoteboot server. To do this, go to the remoteboot server (or a client
with write access to the remoteboot server's Rpl directory), and run the
Rpl\Bin\Win95clt.bat program by typing:
<P>
<PRE>     cd &lt;systemroot&gt;\rpl\bin
     win95clt  mach_directory  \\rpl_server  profile_name

</PRE></OL>where:

<UL><LI>mach_directory is the path to the client's machine directory.

<LI>\\rpl_server is the name of the remoteboot server.

<LI>profile_name is the name of the Windows 95 profile associated with the
   client.
<P>
</UL>For example, you could type:
<P>
<PRE>     cd \winnt\rpl\bin
     WIN95CLT  G:\DELL5166  \\NTSERVER   WIN95

</PRE>NOTE: You must have a drive letter explicitly pointing to the machine
directory and cannot specify the UNC name for the location of the machine
directory. If you try to use the UNC name, the remoteboot client will not
be able to locate the full registry during the boot process.
<P>
NOTE: If the machine directory is on the same computer as the Remoteboot
service, then you can just type in the local path.

<OL><P><LI>At the SBS server, edit the Machines.ini file in the SBS directory.
</OL>Add
the following lines for the new client.
<P>
<PRE>     [Adapter ID]
     SysDatPath=G:\machine_dir
     G=\\mach_server\mach_share

</PRE></OL>where:

<UL><LI>Adapter ID is the network adapter ID (MAC address from manufacturer)
   specified in the remoteboot workstation record for this client.

<LI>G:\machine_dir is the location of the client's machine directory on a
   server.
<P>
</UL>NOTE: The drive letter G: is the same drive letter assigned during the
installation of Windows 95 for the machine directory.
G=\\mach_server\mach_share assigns a drive letter to the shared directory
where the machine directory resides. The G= should be the same drive
letter
assigned during the installation of the Windows 95 for the machine
directory.
<P>
Based on our previous examples, the Machine.ini for our client
would contain the following:
<P>
<PRE>    [12345AB67C89]
     SYSDATPATH=G:\DELL5166
     G=\\NTSERVER\WIN95.MAC

</PRE><P><LI>Power on the remoteboot client. The client will now boot to Windows 95
</OL>and complete the Windows 95 Setup program.
<P>
For more information on installation, refer to the Windows
NT 4.0 Resource Kit.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: nt rpl remote boot win95 sbs remoteboot<BR>
Keywords          : NTSrv kbnetwork<BR>
Version           : 4.0<BR>
Platform          : winnt<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 10, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
