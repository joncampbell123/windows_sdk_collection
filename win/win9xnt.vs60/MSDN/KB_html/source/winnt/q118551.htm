

<HTML>
<HEAD>
<TITLE>Directory Deletions Under Replicator Service </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q118551">
<META NAME="KBModify" CONTENT="1997/05/16">
<META NAME="KBCreate" CONTENT="1994/07/24">
<META NAME="Keywords" CONTENT="">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT=" The purpose of this article is to demonstrate when the Replicator service directory deletions occur.  The following examples demonstrate a typical directory export path.  Example 1 ---------  WINNT\SYSTEM32\REPL\EXPORT                        |___ SC...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QA3P,QAFI,QAEF,QBXB,QATJ,QBCT,QAGC,QAGB,QDNQ,QACK,QDKD,QBVV,QAPF,QACI,QAA1 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Directory Deletions Under Replicator Service</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 16, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q118551</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
<LI>Microsoft Windows NT Advanced Server version 3.1
</UL> 
<P>
The purpose of this article is to demonstrate when the Replicator service
directory deletions occur.
<P>
The following examples demonstrate a typical directory export path.
<P>
<P><h3>Example 1</h3>
 
<P>
WINNT\SYSTEM32\REPL\EXPORT
<PRE>                       |___ SCRIPTS
                               |___ script_files
                               |
                               |___ SUBDIRECTORY
                                       |____ more_files

</PRE>Any files or directories put under the SCRIPTS subdirectory will be
replicated, including deletions of files and subdirectories, provided the
Entire Subtree box is selected under Manage Export Directories while you
set up replication.
<P>
<P><h3>Example 2</h3>
 
<P>
When you add subdirectories under the EXPORT directory it is important to
understand that if, in the future, you want to have the Replicator service
delete unwanted trees, you need to add another subdirectory layer
underneath as follows:
<P>
WINNT\SYSTEM32\REPL\EXPORT
<PRE>                       |___ SCRIPTS
                       |       |___ script_files
                       |       |
                       |       |___ SUBDIRECTORY
                       |               |____ more_files
                       |___ OTHERTREE
                               |______ SUBDIR#1
                               |          |____ more_files
                               |___ SUBDIR#2
                                       |_____more_files

</PRE>In Example 2, deleting OTHERTREE on the EXPORT SERVER will not cause the
import server to delete OTHERTREE and its subdirectories. Only if SUBDIR#1
and SUBDIR#2 are deleted on the EXPORT SERVER will the deletions take
effect on the IMPORT SERVER. This is by design because if a lock is put on
an EXPORT subdirectory by an administrator or if the Wait Until Stabilized
option is selected and recent changes to any of the exported files have
taken place, then this TREE becomes invisible to the IMPORT SERVERS.
Because of this, there is no way for the Replicator service to tell if the
directory was deleted or if it's being hidden from view because of locks or
because it is waiting for the stabilization timer to expire. Not deleting
this tree structure on the IMPORT SERVER (if it is not found on the EXPORT
SERVER) prevents having to re-export the entire tree once it becomes
visible again.
<P>
If you do delete OTHERTREE on the EXPORT SERVER and you were expecting the
Replicator service to delete its counterpart on the Import server, you
should see NO_MASTER or NO_SYNC status, depending on how much time since
the directory was last replicated. Again, this deletion will never take
place by design.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt repl<BR>
Version             : 3.1<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 16, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
