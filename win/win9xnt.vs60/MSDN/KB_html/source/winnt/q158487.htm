

<HTML>
<HEAD>
<TITLE>Browsing Across Subnets w/ a Multihomed PDC in Windows NT 4.0 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q158487">
<META NAME="KBModify" CONTENT="1997/12/23">
<META NAME="KBCreate" CONTENT="1996/10/31">
<META NAME="Keywords" CONTENT="kbbug4.00 NTSrv nttcp kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  In Windows NT versions prior to 4.0, it was not possible to browse across subnets that were connected by a Windows NT Primary Domain Controller (PDC) server configured with TCP/IP routing and the Windows Internet Name Service (WINS).  This article ...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QBWD,QAVZ,QAMA,QAU9,QDL9,QBWQ,QBWO,QBWN,QBXS,QADX,QAHE,QAUJ,QACK,QBWT V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Browsing Across Subnets w/ a Multihomed PDC in Windows NT 4.0</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  December 23, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q158487</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server version 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
In Windows NT versions prior to 4.0, it was not possible to browse across
subnets that were connected by a Windows NT Primary Domain Controller (PDC)
server configured with TCP/IP routing and the Windows Internet Name Service
(WINS).
<P>
This article explains how to configure this functionality with Windows NT
4.0.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Windows NT 4.0 provides a new registry parameter that allows the computer
browser service to be disabled on one or more network interfaces. When this
registry parameter is added, it enables a multihomed domain master browser
to provide a comprehensive browse list to computers on all subnets.
<P>
NOTE: When enabling this parameter, the assumption is made that all other
TCP/IP connectivity (ping, net use, and so forth) are functioning
correctly. This parameter only changes browser functionality, and will not
fix client problems, such as incorrect default gateway, or server problems,
such as incorrect IP addressing or routing problems.
<P>
Steps to enable this feature:
<P>
WARNING: Using Registry Editor incorrectly can cause serious, system-wide
problems that may require you to reinstall Windows NT to correct them.
Microsoft cannot guarantee that any problems resulting from the use of
Registry Editor can be solved. Use this tool at your own risk.

<OL><P><LI>Run Registry Editor (Regedt32.exe).

<P><LI>From the HKEY_LOCAL_MACHINE subtree, go to the following subkey:
<P>
<P><PRE>      SYSTEM\CurrentControlSet\Services\Browser\Parameters\
</PRE>
<P><LI>From the Edit menu, select Add Value and use the following entry:
<P>
<P><PRE>      Value Name: UnboundBindings
      Data Type:  REG_MULTI_SZ
<PRE></PRE>      String:     NetBT_&lt;name of network adapter driver to be disabled&gt;

   If you have more than 2 network adapters in the multihomed Windows NT
   server, enter each driver instance you wish to disable on a separate
   line in the String field.

   For example, if you need to disable the browser binding for an Intel
   EtherExpress Pro network adapter, the string would be NetBT_EPRO1. To
   determine the name of your driver for your network adapter, look in the
   HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services key for a name that
   corresponds with your network card.

   NOTE: There will be at least two entries for each network adapter--use
   the one that ends with a number. For example, when the Intel
   EtherExpress Pro network adapter driver is installed, it adds EPRO and
   EPRO1 entries in the Services registry key. The EPRO entry corresponds
   with the binding and driver information for all EtherExpress Pro cards
   that are in the computer, and the EPRO1 entry is for one specific
   instance of the driver, with specific settings for one particular card.
   If a second EtherExpress Pro card were added to the computer, an EPRO2
   entry would be added to the registry and would contain card-specific
   information (IRQ, I/O address, and so on).

</PRE><P><LI>Quit Registry Editor.

<P><LI>Shut down and restart Windows NT.

<P><LI>Once Windows NT restarts, you can test if the UnboundBindings parameter
   worked by inspecting the Event log. There should be only one browser
   8015 event ("The browser has forced an election on network
   \Device\NetBT_NETFLX2 because a Windows NT Server (or domain master)
   browser is started.") that corresponds with the card for which you have
   not disabled the browser binding.
<P>
</OL>NOTE: As in previous versions of Windows NT, if WINS is configured
incorrectly, browsing (and name resolution) will not work as expected. On a
multihomed PDC running WINS, as described earlier, all WINS entries
(primary and secondary) on all adapters should have the IP address of the
one network adapter that has the browser service enabled. The following
information is an example of the output of the IPCONFIG /ALL utility:
<P>
Windows NT IP Configuration
<P>
<PRE>   Host Name . . . . . . . . . : nctag
   DNS Servers . . . . . . . . :
   Node Type . . . . . . . . . : Hybrid
   NetBIOS Scope ID. . . . . . :
   IP Routing Enabled. . . . . : Yes
   WINS Proxy Enabled. . . . . : No
   NetBIOS Resolution Uses DNS : No

</PRE></OL>Ethernet adapter EE161:
<PRE>   Description . . . . . . . . : Intel EtherExpress 16 Miniport
   Physical Address. . . . . . : 00-AA-00-47-54-26
   DHCP Enabled. . . . . . . . : No
   IP Address. . . . . . . . . : 200.200.201.1
   Subnet Mask . . . . . . . . : 255.255.255.0
   Default Gateway . . . . . . :
   Primary WINS Server . . . . : 200.200.201.1
   Secondary WINS Server . . . : 200.200.201.1

</PRE>Token Ring adapter NETFLX2:
<PRE>   Description . . . . . . . . : Compaq NetFlex Driver, Version 1.10
   Physical Address. . . . . . : 00-01-FA-12-D7-A2
   DHCP Enabled. . . . . . . . : No
   IP Address. . . . . . . . . : 200.200.200.1
   Subnet Mask . . . . . . . . : 255.255.255.0
   Default Gateway . . . . . . :
   Primary WINS Server . . . . : 200.200.201.1
   Secondary WINS Server . . . : 200.200.201.1

</PRE>In this example, the UnboundBindings value is set to NetBT_NETFLX2, and
clients on the 200.200.200.0 and 200.200.201.0 subnets can browse and
connect to each other.
<P>
For additional information, please see the following article in the
Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../winnt/q133241.htm">Q133241</A></B>
   TITLE     : Browsing Domain Master Browsers w/ Multiple NICs and
               Protocols
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: prodnt<BR>
Keywords          : kbbug4.00 NTSrv nttcp kbnetwork<BR>
Version           : 4.0<BR>
Platform          : winnt<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  December 23, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
