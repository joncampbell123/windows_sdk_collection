

<HTML>
<HEAD>
<TITLE>Trap 0x0000000A in ExFreePool of NTOSKRNL.EXE </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q139015">
<META NAME="KBModify" CONTENT="1997/03/21">
<META NAME="KBCreate" CONTENT="1995/11/01">
<META NAME="Keywords" CONTENT="kbbug3.51 kbfix3.51.sp4 kbprint ntstop">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  Your computer running Windows NT 3.51 experiences a Trap 0x0000000A in NTOSKRNL with the following stack trace:  fe1b3ac0 8010e05d 00000001 00000001 c0390a98 NT!_KiTrap0E+0x252 fe1b3b50 80164c1a ff50cca8 fe50d168 fe3b27e8 NT!_ExFreePool+0x2f7 fe1b3...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QDJD,QAGI,QAI4,QDO3,QBAD,QAKP,QDNL,QBE7,QBE6,QBW6,QAR4,QAAP V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Trap 0x0000000A in ExFreePool of NTOSKRNL.EXE</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 21, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q139015</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server version 3.51
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Your computer running Windows NT 3.51 experiences a Trap 0x0000000A in
NTOSKRNL with the following stack trace:
<P>
fe1b3ac0 8010e05d 00000001 00000001 c0390a98 NT!_KiTrap0E+0x252
fe1b3b50 80164c1a ff50cca8 fe50d168 fe3b27e8 NT!_ExFreePool+0x2f7
fe1b3b88 801220d3 fe401628 fe1b3c00 fe1b3c70 NT!_MiCreateDataFileMap+0x2ca
fe1b3c3c 80109614 ffb5a314 00000007 00000000 NT!_MmCreateSection+0x43b
fe1b3ce4 fbcf4bf9 fe401628 e2647018 00000000 NT!_CcInitializeCacheMap+0x242
fe1b3e0c fbcf52e0 fe3fa188 fe3e3870 00000000 Ntfs!_NtfsCommonRead+0x313
fe1b3e88 fbe6d6c7 fe401628 fe1b3f00 00000000 Ntfs!_NtfsFsdRead+0xf9
fe1b3ea0 fbe67ca0 fe1b3f6c fbcf7b59 fbd01038
srv!_SrvBuildReadOrWriteRequest+0xf
fe1b3f00 fbe61525 fe3e3788 fe3e3788 fbe61483 srv!_SrvSmbReadRaw+0x37d
fe1b3f0c fbe61483 fe3e3788 fe3e3788 fe3e5b60 srv!_SrvProcessSmb+0x18
fe1b3f20 fbe72185 fe3e3788 fe1b3f7c 00000000 srv!_SrvRestartReceive+0x90
fe1b3f40 fbe7210b fe3e5b60 00000000 80132910
srv!_DequeueAndProcessWorkItem+0x31
fe1b3f4c 80132910 fe3e5b60 00000000 00000000 srv!_WorkerThread+0x24
fe1b3f7c 8013cf4e fbe720e7 fe3e5b60 00000000
NT!_PspSystemThreadStartup+0x40
<P>
<P><h2>CAUSE</h2>
 
<P>
The server Traps because the memory manager tries to free a block of pool
that had already been freed.
<P>
The problem occurs when mapping memory to hold a large file. Memory manager
tries to fulfill a large pool allocation request, when this fails (usually
a low memory situation), memory manager breaks up the allocation into
smaller requests. If the smaller allocation requests also fail, the memory
manager frees up any of the requests that had succeeded.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
This problem has been corrected in the latest Service Pack for Windows NT
version 3.51.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Windows NT version 3.51.
This problem was corrected in the latest Windows NT 3.51 U.S. Service Pack.
For information on obtaining the Service Pack, query on the following word
in the Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt<BR>
Keywords            : kbbug3.51 kbfix3.51.sp4 kbprint ntstop<BR>
Version             : 3.51<BR>
Platform            : WinNT<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 21, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
