

<HTML>
<HEAD>
<TITLE>Undocumented CACLS: Group Permissions Capabilities </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q162786">
<META NAME="KBModify" CONTENT="1997/08/04">
<META NAME="KBCreate" CONTENT="1997/01/28">
<META NAME="Keywords" CONTENT="ntsecurity NTSrvWkst ntutil kbtool">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  CACLS is a Windows NT command-line utility that is used to display or modify file or directory access control lists (ACLs). The online help files for CACLS do not mention that CACLS will add, modify, or delete group permissions, as well as user per...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABO,QAGU,QBWG,QBBI,QAFI,QAK7,QBXB,QBW7,QBFY,QATJ,QANE,QAI5,QBWP,QA7O,QAUJ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Undocumented CACLS: Group Permissions Capabilities</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  August 4, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q162786</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation versions 3.5, 3.51, and 4.0
<LI>Microsoft Windows NT Server versions 3.5, 3.51, and 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
CACLS is a Windows NT command-line utility that is used to display or
modify file or directory access control lists (ACLs). The online help files
for CACLS do not mention that CACLS will add, modify, or delete group
permissions, as well as user permissions, from NTFS ACLs.
<P>
CACLS can be used to modify the ACLs on files or directories. This ability
is often useful for adding or deleting a user or group permission without
modifying other existing permissions. The GUI in File Manager or Windows NT
Explorer is currently limited to replacing the ACLs.
<P>
CACLS can also be used to change permissions for groups with names
containing a space: when specifying such a group, it is necessary to
delimit the name of the group with double quotes (for example, "group
name").
<P>
CACLS cannot be used to create "special" permissions. It is currently
limited to the permissions No Access, Read, Change, and Full Control.
<P>
The "None" permission and the "Deny" parameter in CACLS are equivalent to
"No Access" in the GUI. The "Revoke" parameter deletes an explicit
permission but does not prevent the use of permissions that a user might
have through membership in other groups.
<P>
For additional information on automation using CACLS, please see the
following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../winnt/q135268.htm">Q135268</A></B>
   TITLE     : How to Use CACLS.EXE in a Batch File

</PRE><h3>Examples</h3>
 
<P>
Follow these steps to change the ACLs of all files and directories on drive
C to allow full control for the Administrators local group:

<OL><P><LI>Open a command prompt.

<P><LI>Type:
<P>
<P><PRE>      cacls c:\ /t /e /g Administrators:f
</PRE><P>
</OL>Follow these steps to change the ACLs of all files in the C:\Temp directory
(but not its subdirectories), to add the read permission for the Domain
Users global group and the Users local group, and to remove any explicit
permissions for the Everyone group:

<OL><P><LI>Open a command prompt.

<P><LI>Type:
<P>
<P><PRE>      cacls c:\temp\*.* /e /g "Domain Users":r Users:r /r Everyone
</PRE><P>
</OL><h2>MORE INFORMATION</h2>
 
<P>
CACLS: Displays or modifies access control lists (ACLs) of files or
directories.
<P>
Usage:
<P>
cacls filename [/t] [/e] [/c] [/g user|group:perm] [/r user|group [...]]
<PRE>               [/p user|group:perm [...]] [/d user|group [...]]

</PRE></OL>Parameters:
<P>
filename Displays ACLs of specified directory, file or files.
<P>
<PRE>   /t Changes ACLs of specified files in the current directory and all
      subdirectories.

   /e Edit ACL instead of replacing it.

   /c Continue changing ACLs, ignoring errors.

   /g user|group:perm Grant specified user or group access permissions.
      perm can be:

      r Read
      c Change (write)
      f Full control

   /r user Revoke specified user's or group's access permissions.

   /p user|group:perm Replace specified user's or group's access
      permissions. perm can be:

      n None
      r Read
      c Change (write)
      f Full control

   /d user|group Deny specified user access.

</PRE>You can specify more than one file, user, or group in a command. Wildcard
characters in file and directory names are supported.
<P>
Group names containing a space need to be contained in double quotes, for
example "group name".
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: security<BR>
Keywords          : ntsecurity NTSrvWkst ntutil kbtool<BR>
Version           : WinNT:3.5,3.51,4.0<BR>
Platform          : winnt<BR>
Hardware          : x86<BR>
Issue type        : kbhowto<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  August 4, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
