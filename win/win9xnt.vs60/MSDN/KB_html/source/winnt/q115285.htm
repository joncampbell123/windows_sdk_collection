

<HTML>
<HEAD>
<TITLE>New Auditing Feature for FTP Server </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q115285">
<META NAME="KBModify" CONTENT="1997/05/16">
<META NAME="KBCreate" CONTENT="1994/05/23">
<META NAME="Keywords" CONTENT="kbnetwork ntregistry NTSrvWkst nttcp">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  There is a new registry value  LogFileAccess  in Windows NT Workstation and Windows NT Server version 3.5 that enables the FTP server's creation of a LOG file. When this setting is enabled the FTP server will create a text file called FTPSVC.LOG lo...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBW9,QBWP,QACK,QAGU,QACE,QAU3,QAMR,QAIJ,QAGJ,QAFH,QBWS,QDL9,QBWQ,QBWO,QBWN V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>New Auditing Feature for FTP Server</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 16, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q115285</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 3.5
<LI>Microsoft Windows NT Server version 3.5
</UL> 
<P>
SUMMARY
 
<P>
There is a new registry value "LogFileAccess" in Windows NT Workstation and
Windows NT Server version 3.5 that enables the FTP server's creation of a
LOG file. When this setting is enabled the FTP server will create a text
file called FTPSVC.LOG located in the services current directory (usually
%SystemRoot%\System32).
<P>
The LOG file will contain three types of entries:
<P>
<PRE>   ************** FTP SERVER SERVICE STARTING &lt;date/time&gt;
   ************** FTP SERVER SERVICE STOPPING &lt;date/time&gt;
   &lt;IP_Address&gt; &lt;User&gt; &lt;Action&gt; &lt;Path&gt; &lt;date/time&gt;

</PRE>where:
<P>
<PRE>   &lt;date/time&gt; is the current date/time, such as "Fri Feb 13 17:49:21 1995"
   &lt;ip_address&gt; is the user's host IP address, such as "22.101.3.212"
   &lt;user&gt; is the name of the user (or anonymous ID), such as "janedoe"
   &lt;action&gt; is the action taken, either "opened", "created", or "appended"
   &lt;path&gt; is the full path and filename, such as
   "e:\users\default\file.txt"

</PRE>Following is an example of what a FTPSVC.LOG file's contents might look
like:
<P>
<PRE>   ************** FTP SERVER SERVICE STARTING Fri Feb 13 15:50:25 1995
   22.101.3.212 janedoe opened e:\nt.555\mstools\api32wh.ind Fri Feb 13
                15:50:40 1995
   22.101.34.22 johndoe created c:\users\johndoe\report.txt Sat Feb 14
                12:20:05 1995
   ************** FTP SERVER SERVICE STOPPING Sun Feb 15 15:54:31 1995

</PRE><h2>MORE INFORMATION</h2>
 
<P>
In order to enable the logging feature follow the steps outlined below:
<P>
<PRE>   WARNING: Using Registry Editor incorrectly can cause serious,
   system-wide problems that may require you to reinstall Windows NT to
   correct them. Microsoft cannot guarantee that any problems resulting
   from the use of Registry Editor can be solved. Use this tool at your
   own risk.

</PRE><P><LI>Start REGEDT32.EXE and locate the following Registry subkey:
<P>
<P><PRE>      HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet
      \Services\FTPSVC\Parameters
</PRE>
<P><LI>From the Edit menu, choose Add Value. Enter LogFileAccess in the
   Value Name field. Select REG_DWORD for the Data Type. Enter 1 in the
   String field. Save your changes.

<P><LI>Exit REGEDT32.

<P><LI>Exit Windows NT and turn off your computer.

<P><LI>Restart your computer and Windows NT. The new FTP server logging should
   now be enabled.
<P></OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt<BR>
Keywords            : kbnetwork ntregistry NTSrvWkst nttcp<BR>
Version             : 3.5<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 16, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
