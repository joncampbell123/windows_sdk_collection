

<HTML>
<HEAD>
<TITLE>How to Troubleshoot Basic TCP/IP Problems in Windows NT 4.0 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q169790">
<META NAME="KBModify" CONTENT="1997/10/03">
<META NAME="KBCreate" CONTENT="1997/06/09">
<META NAME="Keywords" CONTENT="NTPROTOCOL NTRAS NTSrvWkst nttcp kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="                                SUMMARY                                =======  This article describes how to troubleshoot some common network communication problems you may experience when you use TCP/IP as your network protocol. These problems usua...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWD,QAHT,QBWU,QANE,QAVZ,QDNT,QBWS,QAI5,QABI,QBWP,QAM5,QDIO,QAC2,QAR4,QAAP V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Troubleshoot Basic TCP/IP Problems in Windows NT 4.0</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 3, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q169790</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 4.0
<LI>Microsoft Windows NT Server version 4.0
</UL> 
<P>
<PRE>                               SUMMARY
                               =======

</PRE>This article describes how to troubleshoot some common network
communication problems you may experience when you use TCP/IP as your
network protocol. These problems usually fall into one of the following
two categories:

<UL><LI>You are unable to connect to a specific IP address.
<LI>You are unable to connect to a specific host or NetBIOS name.
<P>
</UL>If you are unable to connect to a specific IP address, the problem is
related to basic connectivity. If you are able to connect to a specific IP
address, but you are not able to connect using the host or NetBIOS name
for that IP address, the problem is related to name resolution.
<P>
<PRE>                           MORE INFORMATION
                           ================

</PRE>To determine whether the problem is related to basic connectivity or name
resolution, use the following procedure to determine whether you can
connect to a specific IP address.
<P>
<P><h3>Connect to an IP Address</h3>
 
<P>
Try to connect to another computer on your network using its IP address
and the TCP/IP program or utility of your choice. Web browsers, ftp, and
Telnet are some programs and utilities commonly used to connect to other
computers with TCP/IP.
<P>
NOTE: If you do not know the IP address for the Windows NT computer that
you are attempting to connect to, run the IPCONFIG /ALL command at a
command prompt on the other computer.
<P>
If you cannot connect to the other computer using its IP address, there is
a basic connectivity problem. Use the information in the "Unable to
Connect to a Specific IP Address" section below to resolve your issue. If
you can connect to the other computer using its IP address, but you are
not able to connect using the host or NetBIOS name of the other computuer,
there is probably a name resolution problem. Use the information in the
"Unable to Connect to a Specific Host or NetBIOS Name" section below to
resolve your issue.
<P>
<P><h2>UNABLE TO CONNECT TO A SPECIFIC IP ADDRESS</h2>
 
<P>
Follow the procedures in each of the following sections in order. After
you finish each procedure, check to see if you can connect to the other
computer using its IP address.
<P>
<P><h3>Check Your TCP/IP Configuration</h3>
 
<P>
When you use TCP/IP as your network protocol, an incorrect TCP/IP setting
(such as an incorrect IP address or an incorrect subnet mask) can cause
communication problems. To determine whether Windows NT has recorded an
error due to an incorrect TCP/IP setting, examine the Event Viewer system
log and look for any entry with TCP/IP or DHCP as the source. To read an
Event Viewer entry, double-click the entry.
<P>
NOTE: If Event Viewer records a DHCP error, you should report the error to
your network administrator.
<P>
If you receive TCP/IP errors in the Event Viewer system log, resolve each
error received as indicated by the error message. For example, if you
receive an error stating that the IP address parameter is incorrect, you
should verify that your IP address is valid.
<P>
If there are no errors in the Event Viewer system log, follow these steps
to make sure that the correct TCP/IP configuration information is being
used:

<OL><P><LI>Use the IPCONFIG command to determine your computer's basic TCP/IP
   settings. To do so, type "ipconfig" (without quotation marks) at a
   command prompt.

<P><LI>Verify that the IP address and subnet mask displayed by the IPCONFIG
   command are the correct values for your computer. If you are not sure
   what the correct values are, contact your network administrator.
<P>
</OL><h3>Ping the Loopback Address</h3>
 
<P>
Use the PING command to verify that TCP/IP is working properly. To do so,
ping the loopback address (127.0.0.1) by typing the following command at a
command prompt:
<P>
<PRE>   ping 127.0.0.1

</PRE></OL>You should receive a response similar to the following:
<P>
<PRE>   Pinging 127.0.0.1 with 32 bytes of data:

   Reply from 127.0.0.1: bytes=32 time=&lt;10ms TTL=128
   Reply from 127.0.0.1: bytes=32 time=&lt;10ms TTL=128
   Reply from 127.0.0.1: bytes=32 time=&lt;10ms TTL=128
   Reply from 127.0.0.1: bytes=32 time=&lt;10ms TTL=128

</PRE>If you receive an error message at this point, TCP/IP is not properly
installed. To remove and reinstall TCP/IP, follow these steps:
<P>
NOTE: You must be logged on as a user with Administrator rights to
complete these steps.

<OL><P><LI>In Control Panel, double-click Network, and then click the Protocols
   tab.

<P><LI>Click TCP/IP Protocol to select it, click Remove, and then click Yes.

<P><LI>Click Close, and then click Yes to restart the computer.

<P><LI>Log on as a user with Administrator rights.

<P><LI>In Control Panel, double-click Network, and then click the Protocols
   tab.

<P><LI>Click Add, click TCP/IP Protocol to select it, and then click OK.

<P><LI>If you want to use DHCP, click Yes when prompted. If you do not want to
   use DHCP, click No.

<P><LI>When prompted, type the path for the Windows NT source files, click
   Continue, and then click Close.

<P><LI>If you are not using DHCP, you are prompted for your TCP/IP
   configuration information. Provide the appropriate values, and then
   click OK. If you are not sure what the appropriate values are, contact
   your network administrator.

<P><LI>Click No when you are prompted to restart your computer. If you have
   installed a Windows NT Service Pack, you need to reinstall the Service
   Pack before you restart your computer.

<P><LI>Restart your computer.
<P>
</OL>If you receive an error message while removing and reinstalling TCP/IP,
you may need to manually remove TCP/IP from the Windows NT registry. For
information about manually removing TCP/IP from the Windows NT registry,
see the following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../winnt/q151237.htm">Q151237</A></B>
   TITLE     : Removing TCP/IP from the Windows NT Registry

</PRE></OL><h3>Ping Your Computer's IP Address</h3>
 
<P>
If you can ping the loopback address successfully, attempt to ping your
own IP address by typing "ping &lt;IP address&gt;" (without quotation marks) at
a command prompt, where &lt;IP address&gt; is your computer's IP address.
<P>
NOTE: If you do not know your computer's IP address, you can obtain that
information by typing "ipconfig" (without quotation marks) at a command
prompt.
<P>
You should receive a response similar to the following:
<P>
<PRE>   Pinging &lt;###.###.###.###&gt; with 32 bytes of data:

   Reply from &lt;###.###.###.###&gt;: bytes=32 time=77ms TTL=28
   Reply from &lt;###.###.###.###&gt;: bytes=32 time=80ms TTL=28
   Reply from &lt;###.###.###.###&gt;: bytes=32 time=78ms TTL=28
   Reply from &lt;###.###.###.###&gt;: bytes=32 time=79ms TTL=28

</PRE>where &lt;###.###.###.###&gt; is your computer's IP address.
<P>
If you receive an error message at this point, there may be a
communication problem between Windows NT and your network adapter. To
correct this problem, remove and reinstall your network adapter driver. To
do so, follow these steps:
<P>
NOTE: You must be logged on as a user with Administrator rights to
complete these steps.

<OL><P><LI>In Control Panel, double-click Network, and then click the Adapters
   tab.

<P><LI>Click your network adapter driver to select it, click Remove, and then
   click Yes.

<P><LI>Click Close, and then click Yes to restart your computer.

<P><LI>Log on as a user with Administrator rights.

<P><LI>In Control Panel, double-click Network, and then click the Adapters
   tab.

<P><LI>Click Add, click your network adapter driver to select it, and then
   click OK.

<P><LI>Use the dialog box(es) provided to configure your network adapter, and
   then click OK.

<P><LI>When prompted, type the path for the Windows NT source files, click
   Continue, and then click Close.

<P><LI>When you are prompted for your TCP/IP configuration information,
   provide the appropriate values, and then click OK. If you are not sure
   what the appropriate values are, contact your network administrator.

<P><LI>Click No when you are prompted to restart your computer. If you have
   installed a Windows NT Service Pack, you need to reinstall the Service
   Pack before you restart your computer.

<P><LI>Restart your computer.
<P>
</OL>If you are unable to ping your computer's IP address after removing and
reinstalling your network adapter driver, contact the manufacturer of your
network adapter to verify that you are using the appropriate Windows NT
driver for your network adapter.
<P>
<P><h3>Clear the Address Resolution Protocol (ARP) Cache</h3>
 
<P>
The address resolution protocol (ARP) cache is a list of recently resolved
IP address to Media Access Control (MAC) address mappings. The MAC address
is the unique physical address embedded in each network adapter.
<P>
If an entry in the ARP cache is incorrect, TCP/IP packets may be sent to
the wrong computer. To display all mappings currently in the ARP cache,
use the ARP command by typing "arp -a" (without quotation marks) at a
command prompt. You should receive either a "No ARP Entries Found" message
(if the ARP cache is empty) or a response similar to the following:
<P>
<PRE>   Interface: 10.1.1.3 on Interface 2
   Internet Address      Physical Address      Type
   10.1.1.7              08-00-02-06-ed-20     dynamic
   10.1.1.254            08-00-02-0a-a3-10     dynamic

</PRE></OL>To remove any incorrect entries in the ARP cache, clear all entries using
the following command:
<P>
<PRE>   arp -d &lt;IP address&gt;

</PRE>where &lt;IP address&gt; is an Internet address stored in the ARP cache. Use
this command for each entry in the ARP cache until all entries have been
deleted.
<P>
For more information on the syntax, options, and usage of the ARP command,
type "arp -?" (without quotation marks) at a command prompt.
<P>
<P><h3>Verify the Default Gateway</h3>
 
<P>
Use the IPCONFIG command to determine the IP address that your computer
uses to access your default gateway. To do so, type "ipconfig" (without
quotation marks) at a command prompt. Verify that the IP address displayed
for your default gateway is correct. If you do not know the correct IP
address for your default gateway, contact your network administrator.
<P>
When you have verified that you have the correct IP address for your
default gateway, use the PING command to verify that you can ping your
default gateway's IP address. You should receive a response similar to the
following:
<P>
<PRE>   Pinging &lt;###.###.###.###&gt; with 32 bytes of data:

   Reply from &lt;###.###.###.###&gt;: bytes=32 time=77ms TTL=28
   Reply from &lt;###.###.###.###&gt;: bytes=32 time=80ms TTL=28
   Reply from &lt;###.###.###.###&gt;: bytes=32 time=78ms TTL=28
   Reply from &lt;###.###.###.###&gt;: bytes=32 time=79ms TTL=28

</PRE>where &lt;###.###.###.###&gt; is the IP address of your default gateway.
<P>
If your default gateway is not connected to the network or not functioning
properly, you may receive a response similar to the following:
<P>
<PRE>   Pinging &lt;###.###.###.###&gt; with 32 bytes of data:

   Request timed out.
   Request timed out.
   Request timed out.
   Request timed out.

</PRE>If you cannot successfully ping your default gateway's IP address, contact
your network administrator to verify that your default gateway is
connected to the network and functioning properly.
<P>
<P><h3>Ping the IP Address of the Other Computer</h3>
 
<P>
Try to ping the IP address of the other computer. To do so, type "ping &lt;IP
address&gt;" (without quotation marks) where &lt;IP address&gt; is the IP address
of the other computer. You should receive a response similar to the
following:
<P>
<PRE>   Pinging &lt;###.###.###.###&gt; with 32 bytes of data:

   Reply from &lt;###.###.###.###&gt;: bytes=32 time=77ms TTL=28
   Reply from &lt;###.###.###.###&gt;: bytes=32 time=80ms TTL=28
   Reply from &lt;###.###.###.###&gt;: bytes=32 time=78ms TTL=28
   Reply from &lt;###.###.###.###&gt;: bytes=32 time=79ms TTL=28

</PRE>where &lt;###.###.###.###&gt; is the IP address of the other computer.
<P>
If there is an improperly configured router between your computer and the
other computer, or if there is a problem with the other computer, you may
receive a response similar to the following:
<P>
<PRE>   Pinging &lt;###.###.###.###&gt; with 32 bytes of data:

   Request timed out.
   Request timed out.
   Request timed out.
   Request timed out.

</PRE>If your computer is on a different subnet than the other computer, try to
ping the other computer from a computer that is on the same subnet as the
other computer. If you cannot ping the other computer from a computer on
the same subnet, ensure that the other computer is connected to the
network and that you have the correct IP address for the other computer.
If you can ping the other computer from a computer on the same subnet,
contact your network administrator to resolve any routing problems that
may exist on your network.
<P>
<P><h3>Verify Persistent Route Table Entries</h3>
 
<P>
Any computer using TCP/IP as a network protocol has a route table. The
route a network packet takes from one computer using TCP/IP to another
computer using TCP/IP is determined by the route table of the computer
that sent the network packet.
<P>
Your computer's route table is automatically rebuilt each time you restart
your computer. You or your network administrator can add persistent
(static) entries to your computer's route table. Persistent entries are
automatically reinserted in your route table each time your computer's
route table is rebuilt.
<P>
To view your computer's route table, use the ROUTE command. To do so, type
"route print" (without quotation marks) at a command prompt. You should
receive a response similar to the following:
<P>
<PRE>   Active Routes:

   Network Address   Netmask           Gateway Address  Interface   Metric

   0.0.0.0           0.0.0.0           10.1.1.254       10.1.1.3       1
   10.1.0.0          255.255.0.0       10.1.1.3         10.1.1.3       1
   10.1.1.3          255.255.255.255   127.0.0.1        127.0.0.1      1
   10.255.255.255    255.255.255.255   10.1.1.3         10.1.1.3       1
   127.0.0.1         255.0.0.0         127.0.0.1        127.0.0.1      1
   224.0.0.0         224.0.0.0         10.1.1.3         10.1.1.3       1
   255.255.255.255   255.255.255.255   10.1.1.3         10.1.1.3       1

</PRE>Verify with your network administrator that all persistent entries in your
computer's route table are valid.
<P>
For more information on routing, route tables, and the ROUTE command, see
the following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../winnt/q140859.htm">Q140859</A></B>
   TITLE     : TCP/IP Routing Basics for Windows NT

</PRE><h3>Use the TRACERT Command</h3>
 
<P>
The TRACERT command reports each router or gateway crossed by a TCP/IP
packet on its way to another host. To use the TRACERT command to trace the
route between your computer and the other computer, type "tracert &lt;IP
address&gt;" (without quotation marks) at a command prompt, where &lt;IP
address&gt; is the IP address of the other computer. You should receive a
response similar to the following:
<P>
<PRE>   Tracing route to &lt;IP address&gt; over a maximum of 30 hops:

     1   &lt;10 ms   &lt;10 ms   &lt;10 ms  &lt;###.###.###.###&gt;
     2    50 ms    50 ms    51 ms  &lt;###.###.###.###&gt;
     3   250 ms    80 ms    50 ms  &lt;###.###.###.###&gt;

   Trace complete.

</PRE>where each &lt;###.###.###.###&gt; is the IP address of a different router.
<P>
If there is a problem with one of the routers that the network packet
tries to cross, you may receive a response similar to the following:
<P>
<PRE>   Tracing route to &lt;IP address&gt; over a maximum of 30 hops:

     1   &lt;10 ms   &lt;10 ms   &lt;10 ms  &lt;###.###.###.###&gt;
     2     *        *        *     Request timed out.
     3     *        *        *     Request timed out.
     4     *        *        *     Request timed out.

</PRE>If there is a configuration error on one of the routers between your
computer and the other computer, you may receive a response similar to the
following:
<P>
<PRE>   Tracing route to &lt;IP address&gt; over a maximum of 30 hops:

     1   &lt;10 ms   &lt;10 ms   &lt;10 ms  &lt;###.###.###.###&gt;
     2    50 ms    50 ms    51 ms  &lt;###.###.###.###&gt;
     3  &lt;###.###.###.###&gt;  reports: Destination net unreachable.

</PRE>You may also receive a response similar to the one above when there is a
proxy or a firewall between your computer and the other computer.
<P>
If you are not able to obtain a successful response using the TRACERT
command to trace the route between your computer and the other computer,
contact your network administrator to determine if there is a routing
problem between your computer and the other computer.
<P>
For more information on the TRACERT command, see the following article in
the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../winnt/q162326.htm">Q162326</A></B>
   TITLE     : Using TRACERT to Troubleshoot TCP/IP Problems in Windows NT

</PRE><h3>Verify Server Services on the Other Computer</h3>
 
<P>
Verify that the appropriate server services are running on the other
computer. For example, if you are attempting to use the Telnet tool to
connect to the other computer, make sure that the other computer is
configured as a Telnet server.
<P>
To verify that the appropriate server service is running on the other
computer, attempt to connect to the other computer from another computer
that is on the same subnet as the other computer. If you cannot connect to
the other computer from a computer on the same subnet, contact the network
administrator to verify that the server service is configured and
functioning properly on the other computer. If you can connect to the
other computer from a computer on the same subnet, contact your network
administrator to resolve any routing problems that may exist on your
network.
<P>
<P><h3>Check IP Security on the Server</h3>
 
<P>
Port settings for services on the other computer may be different than the
port settings you are using to connect. The following chart lists some
standard port settings for various protocols:
<P>
<PRE>Port:   Protocol:
-----   ---------
80      HTTP
21      FTP
23      Telnet
70      Gopher

</PRE>Use the Telnet tool to verify that the other computer is configured to
permit connections on the same port you are using to connect. To do so,
type the following line at a command prompt:
<P>
<PRE>   telnet &lt;IP address&gt; &lt;port&gt;

</PRE>where &lt;IP address&gt; is the IP address of the other computer and &lt;port&gt; is
the port you are attempting to make a connection on. For example, if you
are attempting to make an ftp connection to the other computer on port 21,
type "telnet &lt;IP address&gt; 21" (without quotation marks).
<P>
If you do not receive an error message, the other computer is configured
to permit connections on that port. You should be able to make a
connection using the appropriate service on that port.
<P>
If you receive an error message, the other computer may not be configured
to permit connections on that port. Contact the network administrator to
obtain a valid port number for the service on the other computer.
<P>
<P><h2>UNABLE TO CONNECT TO A SPECIFIC HOST OR NETBIOS NAME</h2>
 
<P>
If you are able to connect to the other computer using its IP address, but
you are not able to connect to the other computer using its host or
NetBIOS name, there may be a name resolution problem. There are many
methods that can be used to accomplish name resolution on a network
including the following:

<UL><LI>HOSTS files
<LI>Domain Name Service (DNS)
<LI>LMHOSTS files
<LI>Windows Internet Name Service (WINS)
<P>
</UL>If you are uncertain which methods are used to accomplish name resolution
on your network, contact your network administrator. Follow the procedures
in each of the following sections in order. After you finish each
procedure, check to see if you can connect to the other computer using its
host name or NetBIOS name.
<P>
<P><h3>Check the HOSTS File</h3>
 
<P>
The HOSTS file is a text file that you can edit with any text editor (such
as Notepad). If your network uses HOSTS files for host name resolution and
you cannot connect to the other computer using its host name, there may be
an invalid entry in your HOSTS file. Search your HOSTS file for the host
name of the other computer, verify that there is only one entry per host
name, and then verify that the entry for the host name of the other
computer is valid.
<P>
For more information on the HOSTS file, see the sample HOSTS file in the
%SystemRoot%\System32\Drivers\Etc folder.
<P>
<P><h3>Check Your Domain Name Service (DNS) Configuration</h3>
 
<P>
A Domain Name Service (DNS) server provides host name resolution. If your
network uses DNS for host name resolution and you cannot connect to the
other computer using its host name, there may be a problem with your
computer's DNS configuration or with the DNS server on your network.
<P>
To determine if there is a problem with your computer's DNS configuration,
follow these steps:

<OL><P><LI>Type "ipconfig /all" (without quotation marks) at a command prompt to
   display the IP address of your DNS server. If the IP address for your
   DNS server is not displayed, contact your network administrator to
   obtain the IP address for your DNS server.

<P><LI>Verify that you can communicate with your DNS server by pinging your
   DNS server's IP address. You should see a reply similar to the
   following:
<P>
<P><PRE>      Pinging &lt;###.###.###.###&gt; with 32 bytes of data:
</PRE><P>
<P><PRE>      Reply from &lt;###.###.###.###&gt;: bytes=32 time=77ms TTL=28
      Reply from &lt;###.###.###.###&gt;: bytes=32 time=80ms TTL=28
      Reply from &lt;###.###.###.###&gt;: bytes=32 time=78ms TTL=28
      Reply from &lt;###.###.###.###&gt;: bytes=32 time=79ms TTL=28
</PRE><P>
   where &lt;###.###.###.###&gt; is the IP address of the DNS server.
<P>
</OL>If you cannot ping the IP address of your DNS server successfully, contact
your network administrator to verify that you have the correct IP address
for your DNS server and that your DNS server is connected to the network
and functioning properly.
<P>
If you can ping the IP address of your DNS server, but cannot resolve the
host name of the other computer, your DNS server may not be resolving host
names properly. If more than one DNS server is available on your network,
configure your computer to use a different DNS server. If another DNS
server resolves the host name of the other computer properly or if there
is no other DNS server to use, contact your network administrator to
correct the problem with the original DNS server.
<P>
When you have verified the correct IP address for your DNS server, update
your computer's TCP/IP settings. If you are using a dial-up connection to
connect to your network, you need to change only the TCP/IP settings in
your Dial-Up Networking phone book entry with the correct IP address for
your DNS server.
<P>
To change or add a valid IP address for your DNS server in your computer's
TCP/IP settings, follow these steps:

<OL><P><LI>In Control Panel, double-click Network, and then click the Protocols
   tab.

<P><LI>Click TCP/IP Protocol to select it, click Properties, and then click
   the DNS tab.

<P><LI>If you are adding a DNS server, click Add. If you are editing an
   existing server, click the IP address for the appropriate DNS server,
   and then click Edit.

<P><LI>Type the correct IP address for the DNS server, and then click OK.

<P><LI>Click OK, and then click OK again. You may need to restart your
   computer after this step.
<P>
</OL>To change or add a valid IP address for your DNS server for a Dial-Up
Networking phonebook entry, follow these steps:

<OL><P><LI>In Dial-Up Networking, click the appropriate entry in the Phonebook
   Entry To Dial box.

<P><LI>Click More, and then click Edit Entry And Modem Properties.

<P><LI>Click the Server tab, and then click the TCP/IP Settings button.

<P><LI>Click Specify Name Server Addresses, and then type the correct IP
   address in the Primary DNS box.
<P>
</OL><h3>Check the LMHOSTS File</h3>
 
<P>
The LMHOSTS file is a text file that you can edit with any text editor
(such as Notepad). If your network uses LMHOSTS files for NetBIOS name
resolution and you cannot connect to the other computer using its NetBIOS
name, there may be an invalid entry in your LMHOSTS file. Search your
LMHOSTS file for the NetBIOS name of the other computer, verify that there
is only one entry per NetBIOS name, and then verify that the entry for the
NetBIOS name of the other computer is correct.
<P>
If there are any #INCLUDE entries or any #BEGIN_ALTERNATE to
#END_ALTERNATE blocks of lines in your LMHOSTS file, temporarily disable
all such lines or blocks of lines by placing the pound (#) character and
one space at the beginning of each line to be disabled.
<P>
If disabling these lines or blocks of lines resolves the problem, re-
enable the lines or blocks of lines one at a time until the problem
reoccurs. When you have determined that a specific line or block of lines
causes a problem, check the LMHOSTS files that the lines point to.
<P>
For more information on the LMHOSTS file, see the Lmhosts.sam sample file
located in the %SystemRoot%\System32\Drivers\Etc folder.
<P>
<P><h3>Check Your Windows Internet Name Service (WINS) Configuration</h3>
 
<P>
A Windows Internet Name Service (WINS) server provides NetBIOS name
resolution. If your network uses WINS for NetBIOS name resolution and you
cannot connect to the other computer using its NetBIOS name, there may be
a problem with your computer's WINS configuration or with the WINS server
on your network.
<P>
To determine if there is a problem with your computer's WINS
configuration, follow these steps:

<OL><P><LI>Type "ipconfig /all" (without quotation marks) at a command prompt to
   display the IP address of your WINS server. If the IP address for your
   WINS server is not displayed, contact your network administrator to
   obtain the IP address for your WINS server.

<P><LI>Verify that you can communicate with your WINS server by pinging your
   WINS server's IP address. You should see a reply similar to the
   following:
<P>
<P><PRE>      Pinging &lt;###.###.###.###&gt; with 32 bytes of data:
</PRE><P>
<P><PRE>      Reply from &lt;###.###.###.###&gt;: bytes=32 time=77ms TTL=28
      Reply from &lt;###.###.###.###&gt;: bytes=32 time=80ms TTL=28
      Reply from &lt;###.###.###.###&gt;: bytes=32 time=78ms TTL=28
      Reply from &lt;###.###.###.###&gt;: bytes=32 time=79ms TTL=28
</PRE><P>
   where &lt;###.###.###.###&gt; is the IP address of the WINS server.
<P>
</OL>If you cannot ping the IP address of your WINS server, contact your
network administrator to verify that you have the correct IP address for
your WINS server and that your WINS server is connected to the network and
functioning properly.
<P>
If you can ping the IP address of your WINS server, but cannot resolve the
NetBIOS name of the other computer, your WINS server may not be resolving
NetBIOS names properly. If more than one WINS server is available on your
network, configure your computer to use a different WINS server. If
another WINS server resolves the NetBIOS name of the other computer
properly or if there is no other WINS server to use, contact your network
administrator to correct the problem with the original WINS server.
<P>
When you have verified the correct IP address for your WINS server, update
your computer's TCP/IP settings. If you are using a dial-up connection to
connect to your network, you need to change only the TCP/IP settings in
your Dial-Up Networking phone book entry with the correct IP address for
your WINS server.
<P>
To change or add a valid IP address for your WINS server in your
computer's TCP/IP settings, follow these steps:

<OL><P><LI>In Control Panel, double-click Network, and then click the Protocols
   tab.

<P><LI>Click TCP/IP Protocol to select it, click Properties, and then click
   the WINS Address tab.

<P><LI>Type the correct WINS server IP address in the Primary WINS Server box,
   and then click OK.

<P><LI>Click Close, and then click Yes to restart your computer.
<P>
</OL>To change or add a valid IP address for your WINS server for a Dial-Up
Networking phonebook entry, follow these steps:

<OL><P><LI>In Dial-Up Networking, click the appropriate entry in the Phonebook
   Entry To Dial box.

<P><LI>Click More, and then click Edit Entry And Modem Properties.

<P><LI>Click the Server tab, and then click the TCP/IP Settings button.

<P><LI>Click Specify Name Server Addresses, and then type the correct IP
   address in the Primary WINS box.
<P></OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 4.00 router brouter bridge fqdn fully qualified<BR>
.END:<BR>
Keywords          : NTPROTOCOL NTRAS NTSrvWkst nttcp kbnetwork<BR>
Version           : 4.0<BR>
Platform          : winnt<BR>
Issue type        : kbtshoot<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 3, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
