

<HTML>
<HEAD>
<TITLE>Tuning LAN Manager RAS Servers for Windows NT RAS Clients </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q99372 ">
<META NAME="KBModify" CONTENT="1997/03/24">
<META NAME="KBCreate" CONTENT="1993/05/27">
<META NAME="Keywords" CONTENT="kbnetwork NTNETSERV NTRAS NTSrvWkst">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  Windows NT Remote Access Service (RAS) is fully compatible with Microsoft LAN Manager RAS. However, some tuning may be required when connecting from a Windows NT RAS client to a LAN Manager 1.x RAS server. Windows NT uses more NetBIOS names than an...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAVZ,QBWE,QARL,QAUJ,QBWO,QAGU,QAH5,QBWD,QAKC,QAX6,QABA,QBC6,QAHT,QARM V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Tuning LAN Manager RAS Servers for Windows NT RAS Clients</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 24, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q99372 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
<LI>Microsoft Windows NT Server version 4.0
<LI>Microsoft Windows NT Workstation version 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Windows NT Remote Access Service (RAS) is fully compatible with
Microsoft LAN Manager RAS. However, some tuning may be required when
connecting from a Windows NT RAS client to a LAN Manager 1.x RAS
server. Windows NT uses more NetBIOS names than any other Microsoft
networking client. (Windows NT uses eight NetBIOS names while LAN
Manager and Windows for Workgroups use only four-five names.) Because
of this, if some parameters on the LAN Manager RAS server are not
modified, errors can be generated, indicating the server's name table
is full or that insufficient NetBIOS sessions are available on the
server.
<P>
The following file fragments are from a sample LAN Manager RAS server
configuration that has been tuned for Windows NT RAS clients.
Additional information on these settings can be found in the
"Additional Information on LAN Manager RAS Settings" section below.
<P>
<P><h3>LANMAN.INI</h3>
 
<P>
[REMOTEACCESS]
<PRE>MAXNAMES = 8          ;Specifies the max. number of NetBIOS names for
                      ;a single client.
REMOTELISTEN = ALL    ;Remote RAS workstations to act as full peers
                      ;on the LAN. Increases number NetBIOS names
                      ;listened for.

</PRE><h3>PROTOCOL.INI</h3>
 
<P>
[NETBEUI_XIF]
<PRE>SESSIONS = 160        ;This must be large enough to accommodate all
                      ;simultaneous sessions between this server
                      ;and LAN clients, this server and RAS clients,
                      ;and RAS clients and other network servers.
</PRE>NCBS = 180
NAMES = 160
<P>
[TCPIP_XIF]
NBSESSIONS = 100
<PRE>NUMNAMES = 127        ;This is the maximum for the TCP/IP stack.
;NUMNCBS = 85         ;Commenting out NUMNCBS line lets TCP/IP stack
                      ;assume the highest value possible.

</PRE>These modifications represent the minimum settings for Windows NT RAS
client support. If the LAN Manager server is also handling many other
network clients, these values may need to be increased.
<P>
<P><h3>Additional Information on LAN Manager RAS Settings</h3>
 
<P>
The RemoteListen parameter is one of the most important settings. It
can greatly affect the resources devoted to RAS clients and
effectively make RAS clients full members of the LAN. For more
information on this parameter, query on the following words in the
Microsoft Knowledge Base:
<P>
<PRE>   REMOTELISTEN and MESSAGES

</PRE>The number of RAS ports in use at once greatly affects how you tune
your LAN protocols. With more lines, you can have more sessions; with
more sessions, you will need more names for each protocol. Because
Windows NT RAS clients already have twice as many names as LAN Manager
and Windows for Workgroups RAS clients, this issue becomes even more
important. If you think you are having a problem relating to this, try
stopping the messenger service. The messenger service registers
NetBIOS names for your computer, login identification, and domain;
disabling the messenger service will reduce your name usage by three.
<P>
Windows NT RAS servers are not affected as much by a high number of
names, as their default maximum names parameter is set to 255. Also,
under Windows NT, these names are stored in paged memory and do not
take up system resources as severely as under LAN Manager. The only
reason to reduce this number is to limit the number of names each
client can use.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: wfw wfwg prodnt<BR>
Keywords            : kbnetwork NTNETSERV NTRAS NTSrvWkst<BR>
Version             : 3.1 4.0<BR>
Platform            : WinNT<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 24, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
