

<HTML>
<HEAD>
<TITLE>REG: Server Service Entries, PART 1 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q102967">
<META NAME="KBModify" CONTENT="1997/05/08">
<META NAME="KBCreate" CONTENT="1993/08/12">
<META NAME="Keywords" CONTENT="kbother ntregistry">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT=" This is the first of two articles on these entries; for the other entries, see  Server Service Entries, Part 2 .  SERVER SERVICE ENTRIES  With Registry Editor, you can modify the startup parameters for the Server service. Unless otherwise noted, the...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABA,QBBI,QAKC,QAGI,QAU3,QAMR,QAI5,QBWP,QBC6,QAY5,QAVZ,QAHE,QAG8,QACE,QARL V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>REG: Server Service Entries, PART 1</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 8, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q102967</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Windows NT operating system version 3.1
<LI>Windows NT Advanced Server version 3.1
<P>
</UL>The article contains REGISTRY entries for the Server
service, Part 1. There are no subgroups.
 
<P>
This is the first of two articles on these entries; for the other entries,
see "Server Service Entries, Part 2".
<P>
<P><h2>SERVER SERVICE ENTRIES</h2>
 
<P>
With Registry Editor, you can modify the startup parameters for the Server
service. Unless otherwise noted, these parameters are found in this path:
<P>
<PRE>   HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet
   \Services\LanmanServer\Parameters

</PRE>The parameters that control network bindings for this service are described
in the article on "NetRules Subkey Entries."
<P>
This is the first of two articles on these entries; for the other entries,
see "Server Service Entries, Part 2".
<P>
<PRE>AlertSched   REG_DWORD   1 to 65535 minutes
</PRE> 
Default: 5
<P>
Specifies in Microsoft LAN Manager and in Windows NT how often the server
checks alert conditions and sends needed alert messages.
<P>
<PRE>Announce   REG_DWORD   1 to 65535 seconds
</PRE> 
Default: 240
<P>
Specifies how often a nonhidden server announces itself to the network.
More frequent announcements keep client server tables more up to date, but
cost network overhead and processing on client computers, because clients
must process every announcement.
<P>
<PRE>AnnDelta   REG_DWORD   0 to 65535 milliseconds
</PRE> 
Default: 3000
<P>
Specifies the time by which the announcement period can vary. This helps to
prevent several servers from continuously announcing simultaneously,
thereby reducing network load peaks.
<P>
<PRE>Comment   REG_SZ   Text string
</PRE> 
Default: NULL
<P>
Provides the server’s comment. This is sent in announcements and returned
to NetServerGetInfo requests.
<P>
<PRE>Disc   REG_DWORD   0 to infinite minutes
</PRE> 
Default: 15 minutes
<P>
Specifies the amount of idle time that a circuit is allowed before being
disconnected. If the virtual circuit has any open files or searches, it is
not automatically disconnected. If this parameter is set to a low value, it
saves server resources but hinders performance because of clients’ overhead
in reconnecting. This is equivalent to autoDisconnect in Microsoft LAN
Manager.
<P>
<PRE>DiskSpaceThreshold   REG_DWORD   0 to 99 percent
</PRE> 
Default: 10 percent
<P>
Specifies the percentage of free disk space remaining before an alert is
sent.
<P>
<PRE>EnableFCBopens   REG_DWORD   0 or 1
</PRE> 
Default: 1 (true)
<P>
Specifies whether MS-DOS File Control Blocks (FCBs) are folded together, so
multiple remote opens are performed as a single open on the server. This
saves resources on the server.
<P>
<PRE>EnableOplockForceClose   REG_DWORD   0 or 1
</PRE> 
Default: 0 (false)
<P>
If a client has an opportunistic lock (oplock) and does not respond to an
oplock break, there are two possible behaviors that this parameter selects:
<P>
<PRE>Value       Meaning
</PRE> 
<P>
<PRE>0 (false)   Fail the second open, thereby limiting access to the file.
            (This is typical behavior for a client running LAN Manager
            version 2.0.)

1 (true)    Force closed the open instance of the client that has the
            oplock, risking the loss of cached data. (This is typical
            behavior for a client running LAN Manager version 2.1.)

EnableOplocks   REG_DWORD   0 or 1
</PRE> 
Default: 1 (true)
<P>
Specifies whether the server allows clients to use oplocks on files.
Oplocks are a significant performance enhancement, but have the potential
to cause lost cached data on some networks, particularly wide-area
networks.
<P>
<PRE>EnableRaw   REG_DWORD   0 or 1
</PRE> 
Default: 1 (true)
<P>
Specifies whether the server processes raw Server Message Blocks (SMBs). If
enabled, this allows more data to be transferred per transaction and
improves performance. However, it is possible that processing raw SMBs can
impede performance on certain networks. This parameter is automatically
tuned by the server.
<P>
<PRE>EnableSoftCompat   REG_DWORD   0 or 1
</PRE> 
Default: 1 (true)
<P>
Specifies whether the server maps a request to a normal open request with
shared-read access when the server receives a compatibility open request
with read access. Mapping such requests allows several MS-DOS computers to
open a single file for read access. However, this feature can potentially
cause functionality problems with some MS-DOS applications.
<P>
<PRE>ErrorThreshold   REG_DWORD   1 to 65535
</PRE> 
Default: 10
<P>
Sets the number of errors that can occur within an AlertSched interval
before the server sends an altert message.
<P>
<PRE>Hidden   REG_DWORD   0 or 1
</PRE> 
Default: 0 (false)
<P>
If this parameter is disabled, the server’s name and comment can be viewed
by others on the domain. If enabled, the server’s name and comment will not
be announced.
<P>
<PRE>InitConnTable   REG_DWORD   1 to 128
</PRE> 
Default: 8
<P>
Specifies the initial number of tree connections to be allocated in the
connection table. The server automatically increases the table as
necessary, so setting the parameter to a higher value is an optimization.
<P>
<PRE>InitFileTable   REG_DWORD   1 to 256
</PRE> 
Default: 16
<P>
Specifies the initial number of file entries to be allocated in the file
table of each server connection.
<P>
<PRE>InitSearchTable   REG_DWORD   1 to 2048
</PRE> 
Default: 8
<P>
Specifies the initial number of entries in the connection’s search table.
<P>
<PRE>InitSessTable   REG_DWORD   1 to 64
</PRE> 
Default: 4
<P>
Specifies the initial number of session entries to be allocated in the
session table of each server connection.
<P>
<PRE>InitWorkItems   REG_DWORD   1 to 512
</PRE> 
Default: (depends on configuration)
<P>
Specifies the initial number of receive buffers, or work items, used by the
server. Allocating work items costs a certain amount of memory initially,
but not as much as having to allocate additional buffers later.
<P>
<PRE>IRPstackSize   REG_DWORD   1 to 12
</PRE> 
Default: 4
<P>
Specifies the number of stack locations in I/O Request Packets (IRPs) used
by the server. It may be necessary to increase this number for certain
transports, MAC drivers, or local file system drivers. Each increment costs
36 bytes of memory per work item (that is, #work items * 36 bytes = total
memory cost).
<P>
<PRE>LinkInfoValidTime   REG_DWORD   0 to 100,000 seconds
</PRE> 
Default: 60
<P>
Specifies the amount of time during which the transport link information is
still valid. If more than this amount of time has passed since the last
query, the server requires transport link information.
<P>
<PRE>MaxFreeConnections   REG_DWORD   2 to 8 items
</PRE> 
Default: Depends upon configuration
<P>
Specifies the maximum number of free connection blocks maintained per
endpoint.
<P>
<PRE>MaxLinkDelay   REG_DWORD   0 to 100,000 seconds
</PRE> 
Default: 60
<P>
Specifies the maximum time allowed for a link delay. If delays exceed this
number, the server disablesraw I/O for this connection.
<P>
<PRE>MaxKeepSearch   REG_DWORD   10 to 10000 seconds
</PRE> 
Default: 1800
<P>
Specifies the maximum time during which an incomplete MS- DOS search will
be kept by the server. Larger values ensure better interoperability with MS-
DOS utilities such as tree-copy and delete-node. However, larger values can
cause unusual local behavior (such as a failure of a local directory-delete
operation) and higher memory use on the server.
<P>
<PRE>MaxMpxCt   REG_DWORD   1 to 100 requests
</PRE> 
Default: 50
<P>
Provides a suggested maximum to clients for the number of simultaneous
requests outstanding to this server. A higher value can increase server
performance but requires higher use of server work items.
<P>
<PRE>MaxNonpagedMemoryUsage   REG_DWORD   1 MB to infinite bytes
</PRE> 
Default: (depends on system and server configuration)
<P>
Specifies the maximum size of nonpaged memory that the server can have
allocated at any time. Adjust this parameter if you want to administer
memory quota control.
<P>
<PRE>MaxPagedMemoryUsage   REG_DWORD   1 MB to infinite bytes
</PRE> 
Default: (depends on system and server configuration)
<P>
Specifies the maximum size of pageable memory that the server can have
allocated at any time. Adjust this parameter if you want to administer
memory quota control.
<P>
<PRE>MaxWorkItems   REG_DWORD   1 to 512 items
</PRE> 
Default: (depends on configuration)
<P>
Specifies the maximum number of receive buffers, or work items, the server
can allocate. If this limit is reached, the transport must initiate flow
control at a significant performance cost.
<P>
<PRE>MaxWorkItemIdleTime   REG_DWORD   10 to 1800 seconds
</PRE> 
Default: 300
<P>
Specifies the amount of time that a work item can stay on the idle queue
before it is freed.
<P>
Reference: "The Windows NT Resource Kit for Operating System Version 3.1".
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt<BR>
Keywords            : kbother ntregistry<BR>
Version             : 3.1<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 8, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
