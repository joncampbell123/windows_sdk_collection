

<HTML>
<HEAD>
<TITLE>Changing the Root Directory for Windows NT </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q154129">
<META NAME="KBModify" CONTENT="1997/04/10">
<META NAME="KBCreate" CONTENT="1996/07/30">
<META NAME="Keywords" CONTENT="kbusage ntsetup">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  This is an informational article on how to change the directory name of Microsoft Windows NT after it is installed. This could be desirable when, for example, users who have upgraded from Windows NT 3.1 to Windows NT 3.5 wish to change the director...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QBXB,QATJ,QAFI,QDIV,QAA1,QBWS,QDL9,QBWQ,QBWO,QBWN,QDIK,QDI2,QAY2,QAUJ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Changing the Root Directory for Windows NT</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 10, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q154129</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation versions 3.5 and 3.51
<LI>Microsoft Windows NT Server versions 3.5 and 3.51
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This is an informational article on how to change the directory name of
Microsoft Windows NT after it is installed. This could be desirable when,
for example, users who have upgraded from Windows NT 3.1 to Windows NT 3.5
wish to change the directory name to reflect the current Microsoft Windows
NT version.
<P>
NOTE: Microsoft does not support the method described in this article. The
supported method is to reinstall Microsoft Windows NT into the appropriate
directory. Also note that third-party applications that do not use the
Microsoft Windows NT System_Root Flag may also have to be reinstalled.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
There are two methods, one for systems in which the Windows NT system root
is on a hard disk drive partitioned with Windows NT File System (NTFS) and
one for those where the system root is on a FAT partition.
<P>
Here is the method for systems with NTFS:
<P>
<PRE>   1. Install a parallel copy of Windows NT in a temporary directory.
</PRE>2. When you start the computer, select the new install of Microsoft Windows
NT.
3. Log on and open File Manager, then select the Windows NT directory you
wish to rename.
4. From the Options menu at the top of File Manager, click File, and then
click Rename.
5. From File Manager, select the Boot drive.
6. From the Options menu, click View, then click By File Type and select
the Show Hidden/System Files check box.
7. Highlight the Boot.ini file in the root directory and click File from
the Options tool bar.
8. Select Properties then click to clear the Read Only and System
attributes check boxes. Click OK.
9.  Open Boot.ini with Notepad.exe for editing.
<P>
<PRE>   NOTE: Changing the directory name should automatically change the
   directory name in the Boot.ini file unless it is the default
   entry. Check the Boot.ini file to make sure the correct directory
   names are being used.

   10. Change the Winnt_Root directory pointer in the following places:

</PRE>***This is an example of Boot.ini***
<P>
[boot loader]
default=multi(0)disk(0)rdisk(0)partition(2)\winnt_temp
(*Ensure disk and partition information is correct*)
<P>
[operating systems]
multi(0)disk(0)rdisk(0)partition(2)\winnt_temp="Windows NT
Server Version 3.51"
multi(0)disk(0)rdisk(0)partition(2)\winnt_temp="Windows NT
Server Version 3.51" /basevideo /sos
multi(0)disk(0)rdisk(0)partition(2)\WINNT_351="Windows NT
Server Version 3.51"
multi(0)disk(0)rdisk(0)partition(2)\WINNT_351="Windows NT
Server Version 3.51" /basevideo /sos
<P>
<PRE>   In this example, WINNT_TEMP is the directory into which the
   parallel copy of Windows NT was installed. WINNT_351 is the
   renamed directory.

   You can delete the lines that point to the temporary directory
   of Windows NT you just installed, except in the Default line.
   The directory at the end of this line must reflect the new Windows NT
   directory name.

   To conclude the process, open the Options menu, click File, then click
   Save. Now click Yes to replace the file Boot.ini. Restart your computer.


</PRE>Here is the method to use for systems with FAT:
<P>
<PRE>   NOTE: You will not need to install a second copy of Windows NT
   to make this directory change.

   1. From File Manager, change only the attributes for Boot.ini from the
     Properties window as in the directions above. Do not edit Boot.ini
     at this point.
   2. Ensure that you have a bootable DOS floppy disk with a DOS editor and
     the Move or Xcopy commands. (If you have a third-party utility that
</PRE>will
<PRE>     allow you to change directory names, this can be substituted for the
</PRE>Move
<PRE>     and/or Xcopy commands.)
</PRE>3. Boot your computer from the bootable DOS disk.
4. From the prompt, create the new directory you wish to use (for example,
MD WINNT351).
5. Use the Move or Xcopy command to move the Windows NT directory, its
files, and its subdirectories to the new directory.
6. Edit the Boot.ini file with an editor following the instructions from
above. (NOTE: Since you did not have to install a second copy of Microsoft
Windows NT as was true on the NTFS volume, you will not have any entries
for a temporary directory.)
7. After saving the new Boot.ini file, remove the system disk and restart
the computer.
<P>
In addition to the preceeding steps all references to the Windows NT
directory in the setup.log file in the repair directory and on the
emergency repair disk must also be
modified in order for repair to work.  For example:
<P>
[Paths]
TargetDirectory = "\WINNT35"
<P>
[Files.WinNt]
\WINNT35\System32\EEPRO.HLP = "EEPRO.HLP","c56a","\epro","Intel
EtherExpress PRO Driver Disk","(null)"
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words:<BR>
Keywords            : kbusage ntsetup<BR>
Version             : 3.5 3.51<BR>
Platform            : WinNT<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 10, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
