

<HTML>
<HEAD>
<TITLE>Users Who Belong to More Than 95 Groups Cannot Log On </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q118766">
<META NAME="KBModify" CONTENT="1997/05/28">
<META NAME="KBCreate" CONTENT="1994/07/27">
<META NAME="Keywords" CONTENT="kbbug3.10 kbbug3.50 kbnetwork ntsecurity">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  Any user in a Windows NT domain who is a member of more than 95 global or local groups will experience problems during or after logging on.  If such a user attempts to log on from a Windows NT, Windows NT Advanced Server, or Windows for Workgroups ...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAI5,QBW7,QBWO,QA5E,QAGU,QBJQ,QABO,QDL9,QBWQ,QBWN,QAAP,QBWG,QAKP,QAY2 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Users Who Belong to More Than 95 Groups Cannot Log On</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 28, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q118766</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
<LI>Microsoft Windows NT Advanced Server version 3.1
<LI>Microsoft Windows NT Workstation version 3.5
<LI>Microsoft Windows NT Server version 3.5
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Any user in a Windows NT domain who is a member of more than 95 global or
local groups will experience problems during or after logging on.
<P>
If such a user attempts to log on from a Windows NT, Windows NT Advanced
Server, or Windows for Workgroups machine, the logon attempt will fail.
<P>
If such a user attempts to log from other types of clients, unusual and
misleading errors will be reported while logging on, but the logon attempt
will succeed. However, after logging on, misleading errors will be reported
when trying to access network resources on Windows NT machines in the
domain.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
When such a user attempts to log on from a Windows NT machine, the logon
will fail, and the following dialog box will be displayed :
<P>
<PRE>                   Logon Message
     The system cannot log you on (C000015A). Please
     try again or consult your system administrator.
                       [ OK ]

</PRE>When such a user attempts to log on from Windows for Workgroups 3.11, the
logon will fail, and the following dialog box will be displayed :
<P>
<PRE>               Windows for Workgroups
     The password you specified is incorrect or your
     account is inactive. See your network administrator
     for the password or to activate your account.
                      [ OK ]

</PRE>When such a user attempts to log on from OS/2 or MS-DOS LAN Manager 2.2b
clients the log on may succeed, but errors may be reported both during
logon and later, when attempts are made to access network resources on
Windows NT machines. These errors may include the following :
<P>
<PRE>     General Failure Writing Device LPT&lt;x&gt;
     General Failure Reading Drive &lt;x&gt;:
     Cannot reconnect x: to \\&lt;server&gt;\&lt;share&gt; (error 31)
     SYS0031 : A device attached to the system is not functioning.

</PRE><h2>CAUSE</h2>
 
<P>
Currently, a Windows NT access token can contain at most 100 Security
Identifiers (SIDs). This restriction was imposed to place an upper limit on
memory requirements and search times associated with access tokens.
<P>
Windows NT Security requires an access token to be created for every user
who logs on to a Windows NT machine (either locally, by entering a username
and password, or remotely, by connecting to a shared resource).
<P>
Adding a user to 95 or more local or global groups results in more than 100
SIDs being associated with that user, once hidden built-in groups are taken
into consideration.
<P>
Any logon attempt by such a user fails, because the creation of the user's
access token fails with error C000015A - the number of SIDs associated with
the user exceeds the limit for an access token.
<P>
<P><h2>WORKAROUND</h2>
 
<P>
To work around this restriction, remove affected users from a number of
global or local groups, until they are members of fewer than 95 groups when
viewed in User Manager. They will then be able to log on as usual.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Windows NT and Windows NT
Advanced Server version 3.1 and Windows NT Workstation and Windows NT
Server version 3.5. We are researching this problem and will post new
information here in the Microsoft Knowledge Base as it becomes available.
<P>
<P><h2>REFERENCES</h2>
 
<P>
"Inside Windows NT" by Helen Custer, Section 3.3.1, "Access Tokens"
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: wfw wfwg prodnt winlogon<BR>
Keywords            : kbbug3.10 kbbug3.50 kbnetwork ntsecurity<BR>
Version             : 3.1 3.5<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 28, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
