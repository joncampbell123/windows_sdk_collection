

<HTML>
<HEAD>
<TITLE>REG: CurrentControlSet Entries PART 2: SessionManager </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q102985">
<META NAME="KBModify" CONTENT="1997/05/08">
<META NAME="KBCreate" CONTENT="1993/08/12">
<META NAME="Keywords" CONTENT="kbother ntregistry">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT=" CURRENTCONTROLSET\CONTROL SUBKEYS ENTRIES  This key contains parameters that control system startup, such as subsystems to load, the size and location of paging files, and so on.  NOTE: The system must be restarted for any changes in the Control key...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QABA,QAB5,QA7O,QAOE,QAMN,QAKD,QAGU,QAH5,QDIV,QBXS,QDL9,QBWQ,QBWO,QBWN V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>REG: CurrentControlSet Entries PART 2: SessionManager</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 8, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q102985</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Windows NT operating system version 3.1
<LI>Windows NT Advanced Server version 3.1
<P>
</UL>The article contains REGISTRY entries for the CurrentControlSet\Control
Subkeys Part 2--Session Manager entries.
<P>
For listings of the other control subkeys under CurrentControlSet, see the
articles:
<P>
CurrentControlSet Part 1, containing:

<UL><LI>BootVerificationProgram
<LI>ComputerName
<LI>DisplayDriver
<LI>GroupOrderList
<LI>HiveList
<LI>KeyboardLayout
<LI>Lsa
<LI>NetworkProvider
<LI>Nls
<LI>PriorityControl
<LI>ProductOptions
<LI>ServiceGroupOrder
<P>
</UL>and
<P>
CurrentControlSet Part 3, containing:
<UL><LI>Setup
<LI>TimeZoneInformation
<LI>VirtualDeviceDrivers
<LI>Windows
<LI>WOW
</UL> 
<P>
<P><h2>CURRENTCONTROLSET\CONTROL SUBKEYS ENTRIES</h2>
 
<P>
This key contains parameters that control system startup, such as
subsystems to load, the size and location of paging files, and so on.
<P>
NOTE: The system must be restarted for any changes in the Control key to
take effect.
<P>
<P><h2>SESSION MANAGER CONTROL ENTRIES</h2>
 
<P>
The Session Manager subkey contains the global variables used by the
Session Manager. These values are stored under the following Registry path:
<P>
<PRE>   HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager

BootExecute   REG_MULTI_SZ
</PRE> 
<PRE>Default:   autocheck autochk *

</PRE>Specifies programs to run during startup. For example, if CONVERT.EXE has
been used to convert the file system on a hard disk drive, this value is
added to BootExecute so that conversion occurs when the system is
restarted: BootExecute = autocheck autoconv \DosDevices\x: /FS:NTFS
<P>
<PRE>CriticalSectionTimeout   REG_DWORD
</PRE> 
<PRE>Default:   0x278d00

</PRE>Specifies the deadlock time-out for critical sections. Usually, retail
installations of Windows NT will not time-out and detect deadlocks.
<P>
<PRE>GlobalFlag   REG_DWORD
</PRE> 
<PRE>Default:   0x21100000

</PRE>Controls various Windows NT internal operations. You can change this value
to disable the OS/2 subsystem if you want to run bound applications in a
VDM, rather than under the OS/2 subsystem. Set this value to 20100000 to
disable the OS/2 subsystem.
<P>
<PRE>ObjectDirectories   REG_MULTI_SZ
</PRE> 
<PRE>Default:   \DosDevices
           \Windows
           \RPC Control

</PRE>Lists the object directories to create during startup. Do not edit these
entries.
<P>
<PRE>RegisteredProcessors   REG_DWORD
</PRE> 
<PRE>Default:   0x4

ResourceTimeoutCount   REG_DWORD
</PRE> 
<PRE>Default:   0x9e340

</PRE>The number of 4-second ticks that need to transpire before a resource time-
out occurs. Retail installations of Windows NT will never time-out.
<P>
<P><h3>DOS Devices Control Entries</h3>
 
<P>
The DosDevices subkey lists the built-in symbolic links to create at
startup. The values are stored under this subkey:
<P>
<PRE>   HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet
   \Control\Session Manager\DOS Devices

</PRE>Entries in this key have the data type of REG_SZ. The following list shows
the default entries under this key.
<P>
<PRE>   AUX=\DosDevices\COM1
   MAILSLOT=\Device\MailSlot
   NUL=\Device\Null
   PIPE=\Device\NamedPipe
   PRN=\DosDevices\LPT1
   TELNET=\Device\Telnet
   UNC=\Device\Mup

</PRE><h3>Environment Control Entries</h3>
 
<P>
The Environment subkey defines environment variables that the system
creates and that are used by Windows NT Logon and Program Manager.
<P>
CAUTION: Use extreme care in changing these entry values. If the operating
system cannot find the files specified for a subsystem, you will not be
able to run non-Windows NT applications.
<P>
The Registry path for these values is:
<P>
<PRE>   HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet
   \Control\Session Manager\Environment

ComSpec   REG_EXPAND_SZ   Filename
</PRE> 
Default: %systemRoot%\SYSTEM32\CMD.EXE
<P>
Defines the path and filename for the Windows NT command interpreter (the
equivalent of MS-DOS COMMAND.COM).
<P>
<PRE>Os2LibPath   REG_EXPAND_SZ   Filename
</PRE> 
Default: %systemRoot%\SYSTEM32\os2\dll
<P>
Defines the path for the Microsoft OS/2 version 1.x library.
<P>
<PRE>Path   REG_EXPAND_SZ   Filename
</PRE> 
Default: %systemRoot%\SYSTEM32; %SystemRoot%
<P>
Defines the path variable for Windows NT logon and Program Manager.
<P>
<PRE>Windir   REG_EXPAND_SZ   Filename
</PRE> 
Default: %systemRoot%\SYSTEM32\CMD.EXE
<P>
Defines the path for the executable for WOW, as used by Windows NT logon
and Program Manager.
<P>
<P><h3>FileRenameOperations Entries</h3>
 
<P>
Entries for the FileRenameOperation support the MoveFileEx delayed-rename
and delayed-delete capabilities. Entries are stored under this Registry
path:
<P>
<PRE>   HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet
   \Control\Session Manager\FileRenameOperations

</PRE>These entries should be maintained only by the system.
<P>
<P><h3>KnownDLLs Control Entries</h3>
 
<P>
The KnownDlls key defines the set of DLLs that are first searched during
system startup. In general these are system DLLs that are loaded from disk
into a section of memory and are checked for integrity. These DLLs consume
some resources, even if no application loads them. These appear as separate
entries under this Registry path:
<P>
<PRE>   HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet
   \Control\Session Manager\KnownDLLs

driverName   REG_SZ   DLL Filename
</PRE> 
<P>
This series of entries defines a driver name and the corresponding DLL
filename. The following shows the default entries:
<P>
<PRE>   advapi32=advapi32.dll                olecli32=olecli32.dll
   comdlg32=comdlg32.dll                olesvr32=olesvr32.dll
   crtdll=crtdll.dll                    rpcrt4=rpcrt4.dll
   DllDirectory=%SystemRoot%\system32   shell32=shell32.dll
   gdi32=gdi32.dll                      user32=user32.dll
   kernel32=kernel32.dll                version=version.dll
   lz32=lz32.dll

</PRE><h3>Memory Management Control Entries</h3>
 
<P>
The Memory Management subkey defines paging options under the following
Registry path:
<P>
<PRE>   HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet
   \Control\Session Manager\Memory Management

</PRE>The paging file parameters should be defined by using the System icon in
Control Panel and choosing the Virtual Memory button.
<P>
<PRE>IoPageLockLimit   REG_DWORD   Number of bytes
</PRE> 
Default: 512K
<P>
Specifies the limit of the number of bytes that can be locked for I/O
operations.  When this value is 0, the system uses the default (512K). The
maximum value is about the equivalent of physical memory minus pad, which
is 7 MB for a small system and grows as the amount of memory grows. For a
64 MB system, pad is about 16 MB; for a 512 MB system, pad is about 64 MB.
<P>
<PRE>LargeSystemCache   REG_DWORD   Number
</PRE> 
Default: 0
<P>
Specifies, for a nonzero value, that the system favor the system-cache
working set rather than the processes working set.  Set this value by
choosing the Windows NT Advanced Server installation base.
<P>
<PRE>NonPagedPoolSize   REG_DWORD   Number of bytes
</PRE> 
Default: 0
<P>
Specifies the size of nonpaged pool in bytes. When this value is 0, the
system uses the default size (based on physical memory). The maximum amount
is about 80 percent of physical memory.
<P>
<PRE>PagedPoolSize   REG_DWORD   0 to 128 MB
</PRE> 
<PRE>Default:   0x3000000 (32 MB)

</PRE>Specifies the size of paged pool in bytes. When this value is 0, the system
uses the default size (32 MB). See also the entry for RegistrySizeLimit at
the beginning of this section.
<P>
<PRE>PagingFiles   REG_MULTI_SZ   System_Paging_Files
</PRE> 
Default: C:\pagefile.sys 27
<P>
Specifies page file information set by choosing the System icon in Control
Panel.
<P>
<P><h3>Subsystem Startup Control Entries</h3>
 
<P>
The following is the Registry path for the subsystem settings established
at startup:
<P>
<PRE>   HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet
   \Control\Session Manager\SubSystems

</PRE>These values should only be maintained by the system. You should not need
to manually define these settings.
<P>
<PRE>Debug   REG_EXPAND_SZ   Names
</PRE> 
Default: (no value)
<P>
<PRE>Optional   REG_MULTI_SZ   Subsystem names
</PRE> 
Default: Os2 Posix
<P>
Defines subsystems that are only loaded when the user starts an application
that requires this subsystem.
<P>
<PRE>Os2   REG_EXPAND_SZ   Path and filename
</PRE> 
Default:  %SystemRoot%\system32\os2ss.exe
<P>
Defines the path to the executable file used to start the Microsoft OS/2
version 1.x subsystem.
<P>
<PRE>Posix   REG_EXPAND_SZ   Path and filename
</PRE> 
Default:  %SystemRoot%\system32\psxss.exe
<P>
Defines the path to the executable file used to start the POSIX subsystem.
(There are no additional POSIX entries in the Registry.)
<P>
<PRE>Required   REG_MULTI_SZ   Name
</PRE> 
Default: Debug Windows
<P>
<PRE>Windows   REG_EXPAND_SZ   Path and filename
</PRE> 
Default:  %SystemRoot%\system32\csrss.exe
ObjectDirectory=\Windows SharedSection=1024,3072
Windows=On SubSystemType=Windows ServerDll=basesrv,1
ServerDll=winsrv:GdiServerDllInitialization,4
ServerDll=winsrv:UserServerDllInitialization,3
ServerDll=winsrv:ConServerDllInitialization,2
ServerDll=mmsndsrv,5 ProfileControl=Off
MaxRequestThreads=16
<P>
Defines the path to the executable file used to start the Win32 subsystem.
<P>
Reference: "The Windows NT Resource Kit for Operating System Version 3.1".
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt<BR>
Keywords            : kbother ntregistry<BR>
Version             : 3.1<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 8, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
