

<HTML>
<HEAD>
<TITLE>No "Advanced" button in Client TCP/IP Configuration Box </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q128751">
<META NAME="KBModify" CONTENT="1997/09/10">
<META NAME="KBCreate" CONTENT="1995/04/10">
<META NAME="Keywords" CONTENT="kbdocerr kbnetwork kbsetup">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  The Microsoft Network client version 3.0 for MS-DOS Release Notes (README.TXT) suggests that you should be able to configure Domain Name Resolver (DNR) and Socket settings by choosing an Advanced button in the Network Client MS-TCP/IP configuration...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAVZ,QBFY,QAJ4,QARL,QBWD,QDNT,QART,QDIZ,QA0B,QAM4,QAB5,QDKH,QAFY,QAFI,QABI V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>No "Advanced" button in Client TCP/IP Configuration Box</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 10, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q128751</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.00
WINDOWS
kbnetwork kbsetup kbdocerr
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Network Client for MS-DOS, version 3.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The Microsoft Network client version 3.0 for MS-DOS Release Notes
(README.TXT) suggests that you should be able to configure Domain Name
Resolver (DNR) and Socket settings by choosing an Advanced button in the
Network Client MS-TCP/IP configuration dialog box. This is a documentation
error; no such button exists.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Microsoft Network Client
for MS-DOS, version 3.0. We are researching this problem and will post new
information here in the Microsoft Knowledge Base as it becomes available.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To enable DNR or Sockets, modify the appropriate settings in the
TCPUTILS.INI file and load the appropriate device drivers in the
AUTOEXEC.BAT file as follows:

<OL><P><LI>Using a text editor, add the following lines to the TCPUTILS.INI file:
<P>
<P><PRE>      [dnr]
      drivername=DNR$
      bindings=TCPIP
</PRE><P>
   NOTE: The TCPUTILS.INI file can be found in the directory you specified
   for the Network Client software during setup (the default directory is
   C:\NET).

<P><LI>Add the following line to the AUTOEXEC.BAT file (on the line above the
   NET START command):
<P>
<P><PRE>      &lt;path&gt;\DNR
</PRE><P>
</OL>To enable and configure Windows Sockets:

<OL><P><LI>Make sure that SOCKETS.EXE resides in a directory that is in your path.

<P><LI>Add the following command to the AUTOEXEC.BAT file (on the line
   immediately below the DNR command):
<P>
<P><PRE>      &lt;path&gt;\SOCKETS
</PRE>
<P><LI>Under the [sockets] heading, change
<P>
<P><PRE>      bindings=TCPIP_XIF
</PRE><P>
   to:
<P>
<P><PRE>      bindings=TCPIP
</PRE><P>
</OL>This allows the TCPUTILS.INI file to correctly reference the [TCPIP]
heading in the Network Client PROTOCOL.INI file. The PROTOCOL.INI file
[TCPIP] section contains the current binding configuration information for
the client.
<P>
<P><h3>Examples</h3>
 
<P>
The following working examples CONFIG.SYS, AUTOEXEC.BAT, TCPUTILS.INI, and
PROTOCOL.INI files correctly load TCP/IP, DNR, and Sockets.
<P>
WARNING: Do not use separator periods in the IP addresses. If you do,
TCP/IP will not load.
<P>
<P><h3>CONFIG.SYS</h3>
 
<P>
DEVICE=C:\DOS\SETVER.EXE
DEVICE=C:\DOS\HIMEM.SYS
DEVICE=C:\WINDOWS\EMM386.EXE NOEMS
DOS=HIGH,UMB
FILES=20
SHELL=C:\DOS\COMMAND.COM C:\DOS\  /P
LASTDRIVE=Z
DEVICE=C:\WINDOWS\SMARTDRV.EXE /DOUBLE_BUFFER
STACKS=9,256
DEVICE=C:\NET\IFSHLP.SYS
<P>
<P><h3>AUTOEXEC.BAT</h3>
 
<P>
C:\NET\NET INITIALIZE
C:\DOS\SHARE.EXE
@ECHO OFF
PROMPT $P$G
PATH C:\NET;C:\DOS
SET TEMP=C:\DOS
C:\NET\NETBIND.COM
C:\NET\UMB.COM
C:\NET\TCPTSR.EXE
C:\NET\TINYRFC.EXE
C:\NET\NMTSR.EXE
C:\NET\EMSBFR.EXE
C:\NET\DNR.EXE
C:\NET\SOCKETS
C:\NET\NET START
<P>
<P><h3>TCPUTILS.INI</h3>
 
<P>
[tcpglobal]
drivername=GLOBAL$
hostname=username
<P>
[sockets]
drivername=SOCKETS$
bindings=TCPIP
numsockets=4
numthreads=32
poolsize=3200
maxsendsize=1024
<P>
[DNR]
drivername=DNR$
bindings=TCPIP
nameserver0=199 198 45 45
<P>
[telnet]
drivername=TELNET$
bindings=TCPIP
nsessions=0
max_out_sends=0
<P>
NOTE: For more information on TCPUTILS.INI file entries not discussed in
this article, please refer to Chapter 7 of the LAN Manager, "Microsoft
TCP/IP Utilities User's Guide."
<P>
<P><h3>PROTOCOL.INI</h3>
 
<P>
[network.setup]
version=0x3110
netcard=ms$elnk3,1,MS$ELNK3,1
transport=tcpip,TCPIP
lana0=ms$elnk3,1,tcpip
<P>
[TCPIP]
DefaultGateway0=22 100 0 1
NBSessions=6
SubNetMask0=255 255 0 0
IPAddress0=22 100 67 96
DisableDHCP=1
DriverName=TCPIP$
BINDINGS=MS$ELNK3
LANABASE=0
[protman]
DriverName=PROTMAN$
PRIORITY=MS$NDISHLP
<P>
[MS$ELNK3]
DriverName=ELNK3$
<P>
<P><h2>REFERENCES</h2>
 
<P>
"Microsoft TCP/IP Utilities, User's Guide: Microsoft TCP/IP
Utilities for LAN Manager," version 1.0, page 10, pgs. 121-126.
<P>
"Microsoft Network Client version 3.0 for MS-DOS Release Notes,"
(README.TXT), Microsoft Network Client version 3.0, NT 3.5 Server
CD in the CLIENTS directory.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbnetwork kbsetup kbdocerr<BR>
KBSubCategory: ntdocerr<BR>
Additional reference words: 3.00<BR>
Keywords          : kbdocerr kbnetwork kbsetup<BR>
Version           : 3.00<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 10, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
