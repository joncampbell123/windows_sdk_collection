

<HTML>
<HEAD>
<TITLE>How to Import a BOOTP Database into DHCP </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q157596">
<META NAME="KBModify" CONTENT="1997/10/03">
<META NAME="KBCreate" CONTENT="1996/01/23">
<META NAME="Keywords" CONTENT="nthowto nttcp kbusage">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  Windows NT Server version 4.0 Service Pack 2 includes new DHCP server functionality that provides the ability to respond to BOOTP clients. This article explains how to import a text file of BOOTP reservations into the DHCP database.  NOTE: Service ...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QBWD,QBKX,QDJG,QDO3,QAC2,QBRZ,QARL,QDIK,QDL9,QBWQ,QBWO,QBWN,QATX,QAR5 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Import a BOOTP Database into DHCP</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 3, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q157596</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:
<P>
- Microsoft Windows NT Server version 4.0
 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Windows NT Server version 4.0 Service Pack 2 includes new DHCP server
functionality that provides the ability to respond to BOOTP clients. This
article explains how to import a text file of BOOTP reservations into the
DHCP database.
<P>
NOTE: Service Pack 2 for Windows NT Server 4.0 is required to respond to
BOOTP requests. Versions of Windows NT Server earlier than 4.0 Service
Pack 2 only respond to DHCP client requests. Additionally, the Windows NT
Resource kit utility Dhcpcmd.exe is required to perform DHCP Manager
options from the command line (this article provides more information on
this).
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
NOTE: In Windows NT Server 4.0 Service Pack 2, BOOTP addresses currently
must be reserved in advance by creating an IP address reservation. Future
versions of Microsoft DHCP server will be capable of leasing dynamic
addresses to BOOTP clients.
<P>
The Windows 4.0 Resource Kit utility Dhcpcmd.exe provides the ability to
view and modify the DHCP database from the command line. One of the
Dhcpcmd.exe command-line options is AddReservedIp. The AddReservedIp
parameter adds a reserved IP address to an already existing scope.
<P>
For more information on Dhcpcmd.exe, see the Dhcpcmd.txt file in the
Windows NT Resource Kit.
<P>
The following is the syntax for the DHCPCMD AddReservedIP switch:
<P>
<PRE>   AddReservedIp &lt;scope address&gt; &lt;reserved ip&gt; &lt;hardware string&gt;

</PRE>The following is an example that reserves IP address 11.101.13.53 in the
11.101.0.0 scope to a client with a hardware address of 08002B30369B:
<P>
<PRE>   dhcpcmd AddReservedIP  11.101.0.0  11.101.13.53  08002B30369B

</PRE>It is possible to use the DHCPCMD utility to create a batch file. One way
to create this batch file is to perform the following steps:

<OL><P><LI>Import the text file containing the BOOTP client information into a
   spreadsheet.

<P><LI>Add a column with the text "DHCPCMD AddReservedIP" (without the
   quotation marks) to the left of the columns that contain the additional
   required parameters, which are:
<P>
<P><PRE>    - Scope address.
</PRE><P>
<P><PRE>    - IP address of client.
</PRE><P>
<P><PRE>    - Hardware (media access control) address.
</PRE><P>
   NOTE: The text "DHCPCMD AddReservedIP" must appear in each row for which
   you have data. Each line should be similar to the example shown above.

<P><LI>Save the file in a text format and rename it to a .bat file.

<P><LI>Run the .bat file.

<P><LI>Use DHCP Manager to verify that the reservations were entered correctly.
<P></OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt sp sp2 MAC<BR>
Keywords          : nthowto nttcp kbusage<BR>
Version           : WINNT:4.0<BR>
Platform          : winnt<BR>
Issue type        : kbhowto<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 3, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
