

<HTML>
<HEAD>
<TITLE>WAN Addressing Options with Routing and Remote Access </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q171185">
<META NAME="KBModify" CONTENT="1997/09/03">
<META NAME="KBCreate" CONTENT="1997/07/09">
<META NAME="Keywords" CONTENT="ntnetserv ntrouter NTSrv nttcp kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  This article explains how the Routing and Remote Access (RRAS) IP address pool functions to provide WAN link addressing options. To access the configuration for the RAS IP address pool, use the following steps:  1. From Control Panel, double-click ...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAC2,QAM5,QBWD,QAR5,QAVZ,QBVV,QBW4,QBWE,QAJQ,QARL,QA1S,QBWP,QDJG,QAY2,QDN9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>WAN Addressing Options with Routing and Remote Access</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 3, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q171185</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server versions 4.0
<LI>Microsoft Routing and Remote Access Service Update for Windows NT
   Server 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article explains how the Routing and Remote Access (RRAS) IP address
pool functions to provide WAN link addressing options. To access the
configuration for the RAS IP address pool, use the following steps:

<OL><P><LI>From Control Panel, double-click Network and click Services.

<P><LI>Click Routing and Remote Access and click Properties.

<P><LI>Click Network and click Configure for the TCP/IP protocol.
<P>
</OL><h2>MORE INFORMATION</h2>
 
<P>
RRAS requires that a pool of addresses be configured even if no routers or
RAS clients will be dialing in. The address pool is used when the router is
dialing out or receiving calls. The default option is to use DHCP to assign
remote TCP/IP client addresses. If you do not have a DHCP server available,
be sure to configure a static pool of addresses. Addresses for demand-dial
router links come from the same address pool as addresses for dial-in RAS
clients. After the first router or RAS client dials in, the route for the
static address pool is added to the router's route table.
<P>
<P><h3>Using DHCP Assigned Addresses</h3>
 
<P>
When DHCP is used to assign addresses to dial-in routers and RAS clients,
the subnet route will be added to the server's route table unless it
already exists. When using DHCP superscopes, the subnet route may not
already exist because the server can be on a different segment from the RAS
pool. This route is advertised, but is not used by the router itself.
<P>
NOTE: Because the DHCP route might have the same subnet mask as the local
LAN, it would not be correct to route packets for the entire subnet out the
RAS interface. A route such as this would prevent RAS clients from reaching
the local LAN.
<P>
<P><h3>Using a Static Address Pool</h3>
 
<P>
A network address and a subnet mask define the static address pool. For
configuration instructions, refer to the online help. The subnet used by
one side of a demand-dial link must not match the subnet used on the other
side. If both routers use the same address range and subnet mask for the
RAS address pool, duplicate addresses will be assigned to clients from
these RAS pools.
<P>
<P><h3>"On Subnet" Address Pool</h3>
 
<P>
An "on subnet" address pool uses an address pool that is a subset of a
local LAN subnet. In this case, other routers and clients already know how
to reach this LAN subnet. The Windows NT router will provide proxy ARP to
get the packet to the final destination. Clients and other routers will not
realize that these IP addresses are not actually on the LAN. This option is
simple in that it does not require any additional routes to reach the
connected dial-in RAS clients. However, this option may be limiting
depending on your subnetting scheme and the number of dial-in clients you
need to support.
<P>
Using the "on subnet" address pool, the subnet mask of the LAN will not
change or be affected. If you were using the class C address 192.168.1.0
with the mask 255.255.255.0 on the LAN, you could reserve a pool in this
same address range for the RAS pool. An address pool defined by the subnet
address 192.168.1.248 using a subnet mask 255.255.255.248 creates a pool
from 248-255. The addresses 248 and 255 are not used and 249 is used
internally by the router. This leaves you with support for a combination of
5 RAS clients or demand-dial links. The proxy functionality of the router
will allow this apparent over-lapping of subnet ranges. However, all
addresses still need to be unique.
<P>
NOTE: Using DHCP (without superscopes) for the address pool will always use
"on subnet" addressing and the same subnet mask as the LAN.
<P>
<P><h3>"Off Subnet" Address Pool</h3>
 
<P>
"Off subnet" addressing uses a unique subnet for the address pool. In this
scenario, the other routers need to know how to reach this subnet. This can
be done using static routes or a routing protocol such as Routing
Information Protocol (RIP) or Open Shortest Path First (OSPF). An "off
subnet" address pool could provide more addresses if the LAN subnet does
not have enough addresses available.
<P>
If your "off subnet" WAN addresses are from a different network ID, RIP
will summarize routes into a single network route. Individual subnet routes
will not be advertised out an interface that is not on the same network ID
as the routes being advertised.
<P>
For additional information, please see the following article in the
Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../winnt/q171016.htm">Q171016</A></B>
   TITLE     : RIP Version 2 Does Not Advertise Subnet Routes
</PRE></OL> 
<PRE>Keywords          : ntnetserv ntrouter NTSrv nttcp kbnetwork
Version           : WinNT:4.0
Platform          : winnt
Issue type        : kbinfo</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 3, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
