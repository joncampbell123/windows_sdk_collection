

<HTML>
<HEAD>
<TITLE>Maximizing Routing Performance with Netflex-3 Network Adapter </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q170643">
<META NAME="KBModify" CONTENT="1997/08/25">
<META NAME="KBCreate" CONTENT="1997/06/25">
<META NAME="Keywords" CONTENT="ntdriver ntnetserv ntregistry NTSrv kb3rdparty kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  This article discusses how to maximize the throughput of a Windows NT server that is running the Routing and Remote Access Service.  Windows NT 4.0 Service Pack 3 includes an updated driver for the Compaq Netflex-3 Ethernet network card. Using a co...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QADN,QAHC,QBWP,QBWS,QA1S,QAXB,QAHB,QAVZ,QAKD,QACK,QAU9,QAM5,QAM1,QAKC,QDN9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Maximizing Routing Performance with Netflex-3 Network Adapter</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  August 25, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q170643</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server version 4.0
<LI>Routing and Remote Access Service Update
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article discusses how to maximize the throughput of a Windows NT
server that is running the Routing and Remote Access Service.
<P>
Windows NT 4.0 Service Pack 3 includes an updated driver for the Compaq
Netflex-3 Ethernet network card. Using a combination of this updated driver
and some new registry entries that are supported by this driver, you can
increase the performance of your Routing and Remote Access Service server.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The updated driver is Netflex3.sys and must be manually installed. To
install this driver, perform the following steps:

<OL><P><LI>Click the Start button, point to Settings, and then click Control Panel.

<P><LI>Double-click the Network icon.

<P><LI>Click the Adapters tab, click Add, and then click Have Disk.

<P><LI>The updated Netflex-3 driver is located in the following folder:
<P>
   D:\drvlib\netcard\x86\netflex3
<P>
   where D: is the letter of your CD-ROM drive.

<P><LI>Select the appropriate adapter, and then click OK.

<P><LI>Click Close, and then restart the computer when prompted.
<P>
</OL>The following registry settings only apply to the Compaq Netflex-3 card.
Other network adapter cards may have similar settings but the value names
will vary. Please consult with your network adapter manufacturer for more
information.
<P>
WARNING: Using Registry Editor incorrectly can cause serious, system-wide
problems that may require you to reinstall Windows NT to correct them.
Microsoft cannot guarantee that any problems resulting from the use of
Registry Editor can be solved. Use this tool at your own risk.

<OL><P><LI>Start Registry Editor (Regedt32.exe) and locate the following subkey:
<P>
   HKEY_Local_Machine\System\CurrentControlSet\Services\
<P><PRE>      Netflex3X\Parameters
</PRE><P>
   where X is each instance of the network adapter.

<P><LI>With Parameters selected, click Edit, click Add Value, and then type
   the following information:
<P>
   Value Name:  MaxReceives
   Value Type:  REG_DWORD
<PRE>   Data:        500 (decimal)

</PRE><P><LI>With Parameters selected, click Edit, click Add Value, and then type
   the following information:
<P>
   Value Name:  FixedIntMod
   Value Type:  REG_DWORD
<PRE>   Data:        5000 (decimal)

</PRE><P><LI>Quit Registry Editor and restart the Routing and Remote
   Access Service server.
<P>
</OL>MaxReceives increases the size of non-paged pool memory used to buffer
packets.
<P>
FixedIntMod (fixed interrupt moderation) sets the amount of interrupts per
second to a fixed number. By default, Windows NT uses dynamic interrupt
moderation that may interrupt the CPU for every packet received. Choosing
the best number of interrupts per second for fixed interrupt moderation
will depend on your router load. The number you choose may queue interrupts
(more efficient) for servicing or service interrupts too often (less
efficient). Testing should be done when using these registry settings to
ensure that performance is improved in your environment.
 
<PRE>Keywords          : ntdriver ntnetserv ntregistry NTSrv kb3rdparty kbnetwork
Version           : WinNT:4.0
Platform          : winnt
Issue type        : kbinfo</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  August 25, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
