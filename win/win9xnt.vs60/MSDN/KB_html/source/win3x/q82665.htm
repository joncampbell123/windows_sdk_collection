

<HTML>
<HEAD>
<TITLE>Causes of System Integrity Errors in Windows 3.1 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q82665 ">
<META NAME="KBModify" CONTENT="1994/11/23">
<META NAME="KBCreate" CONTENT="1992/03/31">
<META NAME="Keywords" CONTENT="kbenv">
<META NAME="KBArea" CONTENT="Support; KB; win3x, crossnet">
<META NAME="Description" CONTENT="  System Integrity errors are caused by unexpected CPU faults. The following information provides a general overview of CPU fault causes. For more information, refer to your Intel 80386 CPU manual or  The 80386 Book,  by Ross P. Nelson (published by ...">
<META NAME="Product" CONTENT="Windows 3.1 and Windows for Workgroups">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBKN,QBVV,QA7R,QDNK,QDL9,QBWO,QBWN,QAKJ,QAO4,QA5E,QATS,QASR,QAO1,QBW6,QDIO V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Causes of System Integrity Errors in Windows 3.1</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 23, 1994</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q82665 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows operating system versions 3.0, 3.0a, 3.1, 3.11
<LI>Microsoft Windows for Workgroups versions 3.1, 3.11
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
System Integrity errors are caused by unexpected CPU faults. The following
information provides a general overview of CPU fault causes. For more
information, refer to your Intel 80386 CPU manual or "The 80386 Book," by
Ross P. Nelson (published by Microsoft Press).
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following are some of the more common CPU faults:

<UL><LI>Invalid opcode
<LI>Stack exception
<LI>General protection (GP) fault
<LI>Page fault
<P>
</UL>NOTE: Not all occurrences of these faults are invalid. Valid, expected
faults occur from all of the above except stack exceptions.
<P>
<P><h3>Invalid Opcode</h3>
 
<P>
An invalid opcode fault occurs when an instruction that is not legal is
executed. The most frequent cause of this invalid fault is executing a
value that is not an instruction.
<P>
<P><h3>Stack Exception</h3>
 
<P>
A stack exception fault occurs when an invalid stack operation is
attempted. The most frequent cause of this invalid fault is trying to PUSH
or POP a WORD or DWORD at an address that causes the operation to span
across SP value 00000h or 0FFFFh. For example, attempting to POP a WORD
with SP=0FFFFh, is attempting to read one byte of the WORD at offset 0FFFFh
and the other byte of the word at offset 00000h. The CPU does not support
this operation.
<P>
<P><h3>General Protection (GP) Fault</h3>
 
<P>
Many things can cause a GP fault. As the name implies, this fault means
something was attempted that is not allowed because it would violate the
protection features built into the CPU. As with invalid opcode faults, a
typical cause of this invalid fault is executing garbage, but unlike the
invalid opcode, the instruction is legal; however, the particular form of
the instruction is illegal at the time.
<P>
<P><h3>Page Fault</h3>
 
<P>
A page fault occurs when an access is made to memory that is not currently
mapped, (not currently available). The most frequent causes of this invalid
fault are wild pointer accesses to memory that is not legal to look at in
the current time frame. This is often a manifestation of "protection." For
example, a device wants to protect a piece of memory, always, or at the
current time, so that only that particular device can use it. It makes the
memory unavailable by using the paging features of the CPU so that any
application that tries to read or write to this memory will be stopped by
an invalid page fault. This helps prevent the wild pointer in the
application from damaging critical information in memory.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbenv<BR>
KBSubcategory: win30 win31 wfw wfwg gpf winmem<BR>
Additional reference words: 3.00 3.00a 3.10 crash drwatson<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 23, 1994</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
