

<HTML>
<HEAD>
<TITLE>Setting Up WFWG on a Workstation Without a Hard Disk </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q98551 ">
<META NAME="KBModify" CONTENT="1994/11/21">
<META NAME="KBCreate" CONTENT="1993/05/09">
<META NAME="Keywords" CONTENT="kbnetwork kbsetup kbhw kbfasttip">
<META NAME="KBArea" CONTENT="Support; KB; win3x, crossnet">
<META NAME="Description" CONTENT=" The following article contains information on the use of Windows for Workgroups with third-party products or configurations that have not been tested and are not supported by Microsoft.  If the steps or procedures described in this article do not fu...">
<META NAME="Product" CONTENT="Windows 3.1 and Windows for Workgroups">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWO,QAA1,QDI2,QAVZ,QAC9,QDIV,QBXB,QATJ,QAFI,QDIZ,QBWS,QDL9,QBWQ,QBWN,QANE V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Setting Up WFWG on a Workstation Without a Hard Disk</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 21, 1994</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q98551 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows for Workgroups version 3.1
</UL> 
<P>
The following article contains information on the use of Windows for
Workgroups with third-party products or configurations that have not
been tested and are not supported by Microsoft.
<P>
If the steps or procedures described in this article do not function
properly, contact the manufacturer of the third-party product for more
information or use a supported configuration.
<P>
<P><h2>SUMMARY</h2>
 
<P>
Microsoft Windows for Workgroups version 3.1 is fully supported running
on a computer with one 5.25-inch or 3.5-inch high-density disk drive and
a hard disk with 9.5 megabytes (MB) available memory (14.5 MB is
recommended).
<P>
This article contains information on installing Windows for Workgroups
3.1 for use on workstations without hard disks. Microsoft does not
support running Windows for Workgroups with any type of "diskless"
workstation.
<P>
Windows for Workgroups was not designed to be installed on
workstations without hard disks (that is, computers without hard disks
that are connected to a network). However, there is a workaround that
may allow Windows for Workgroups to be set up on such workstations.
<P>
NOTE: A true diskless workstation (one with no floppy disk drive or
hard disk drive) using a network adapter with a boot ROM does not work
with Windows for Workgroups. This is because the boot ROM establishes
a network connection and does not allow the Windows for Workgroups
network drivers to coexist with the boot ROM.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
To set up Windows for Workgroups on workstations without hard disk
drives that are connected to a network, use the procedures below.
<P>
<P><h3>Setting Up and Sharing Windows for Workgroups on the Server</h3>
 
<P>
Select a computer with an 80386 or higher processor and at least 4 MB
of RAM to be the file server that shares the Windows for Workgroups
program files. This computer must run Windows for Workgroups whenever
any other workstation is also running Windows for Workgroups from the
shared directory. This computer also requires at least 22 MB free hard
disk space, plus at least an additional 1 MB of free disk space per
user. To set up the server, do the following:

<OL><P><LI>Install Windows for Workgroups using the SETUP /A command. When
   prompted for the network directory, use the name WFWSHARE. This
   expands and copies the Windows for Workgroups files to this directory.
   It does not set up Windows for Workgroup itself; setup will be
   accomplished in the next step.
<P>
   NOTE: Users upgrading from Windows 3.1 created with SETUP /A should
   remove the Windows 3.1 shared directory before continuing. For more
   information on upgrading a shared networked Windows directory, query
   on the following words in the Microsoft Knowledge Base:
<P>
<P><PRE>      setup /n and attrib and sdl
</PRE>
<P><LI>Run SETUP /N from the WFWSHARE directory. Enter your computer name,
   workgroup name, and confirm your network adapter. After this
   installation is complete, you can restart your computer and run
   Windows for Workgroups by typing WIN. Any errors from the CONFIG.SYS
   file, AUTOEXEC.BAT, or Windows for Workgroups should be resolved
   before proceeding.
<P>
   NOTE: Windows 3.1 directories created with SETUP /N can only be
   upgraded to Windows for Workgroups with SETUP /N. Windows 3.1
   installations created with SETUP must be upgraded by SETUP.

<P><LI>Open File Manager and select the WFWSHARE directory from the
   directory tree. Share the directory by choosing Share As from the Disk
   menu or choosing the Share Directory button.

<P><LI>Create a user directory for Windows for Workgroups workstations
   without hard disks. This directory may be named C:\WFWUSERS. Share the
   WFWUSERS directory (as in step 3), but grant the users full access by
   selecting the Full Access option button. This directory will be used
   to keep Windows for Workgroups user directories for each workstation.
   For example:
<P>
<P><PRE>      C:\WFWUSERS\STEVE
      C:\WFWUSERS\TERRI
      C:\WFWUSERS\JOHN
</PRE><P>
</OL><h3>Making a Workstation Boot Disk</h3>
 
<P>
A workstation boot disk contains the MS-DOS operating system and files
necessary to establish a network connection to the file server created
in the steps above. Once Windows for Workgroups is set up for each
workstation, this boot disk will no longer be needed. To create this
disk, do the following:

<OL><P><LI>Format a high-density 5.25-inch or 3.5-inch MS-DOS bootable system
   disk. The disk size depends on the bootable floppy drive of your
   workstation. To format and transfer the operating system to a floppy
   disk, open File Manager, and choose Make System Disk from the Disk
   menu; or, type "format a: /s" (without the quotation marks) at the
   MS-DOS command prompt.

<P><LI>Quit Windows for Workgroups on the file server. Using the disk
   created in the previous step, reboot the file server and change to the
   drive and directory where the WFWSHARE files are located.

<P><LI>Run SETUP /I /N from the WFWSHARE directory. Choose Custom Setup
   and change the directory to C:\WFWTEMP. Select your temporary computer
   name, workgroup name, workstation network adapter, and its settings.
<P>
   NOTE: This temporary directory is needed only to create the
   workstation boot disk and can be removed after the files have been
   copied and the configuration files (AUTOEXEC.BAT and CONFIG.SYS) have
   been updated.
<P>
   During the setup process, the following error message appears:
<P>
<P><PRE>      Setup cannot find or cannot update your system
      files on drive A:. If you started your system from
      a floppy disk, be sure to remove write-protection
      from your system startup (boot) disk. Then insert
      the disk into drive A and choose Retry.
</PRE><P>
<P><PRE>      To copy system files to your Windows directory
      choose Cancel.
</PRE><P>
   This is normal. Choose the Retry button.

<P><LI>After Setup is complete, copy the SYSTEM.INI file from the WFWTEMP
   directory to the network boot disk. Edit this SYSTEM.INI file and add
   the following line to the [network] section:
<P>
<P><PRE>      [network]
      AutoStart=full
</PRE><P>
   The boot disk should now contain the following files:
<P>
<PRE>   Filename        Size  Date      Time    Function
   -------------------------------------------------------------------

   COMMAND  COM     47845 04-09-91   5:00a  MS-DOS Command Interpreter
   NET      MSG     70629 10-01-92   3:11a  Message help file for NET.EXE
   CONFIG   OLD        22 02-18-93  12:24p  Old CONFIG.SYS before setup
   AUTOEXEC OLD        24 02-18-93  12:29p  Old AUTOEXEC.BAT before setup
   EMM386   EXE    110174 10-01-92   3:11a  386 expanded memory manager
   HIMEM    SYS     13824 10-01-92   3:11a  Manages extended memory
   RAMDRIVE SYS      5873 10-01-92   3:11a  RAM disk device driver
   SMARTDRV EXE     43609 10-01-92   3:11a  Disk cache
   PROTOCOL INI       636 02-18-93   2:34p  Protocol initialization file
   NETH     MSG    104570 10-01-92   3:11a  Message help file for NET.EXE
   WORKGRP  SYS      7268 10-01-92   3:11a  WFWG real mode device driver
   NET      EXE    415252 10-01-92   3:11a  WFWG redirector
   PROTMAN  DOS     21680 10-01-92   3:11a  Protocol manager
   PROTMAN  EXE     13760 10-01-92   3:11a  Protocol manager accessory
   NDISDRVR DOS     24666 10-01-92   3:11a  NDIS network adapter driver
                                            (name depends on adapter)
   PROTOCOL 000         0 02-18-93   2:34p  Old PROTOCOL.INI
   CONFIG   SYS       204 02-18-93   2:38p  New CONFIG.SYS
   AUTOEXEC BAT       117 02-18-93   2:38p  New AUTOEXEC.BAT
   SYSTEM   INI      3800 02-18-93   2:37p  Copied from WFWTEMP directory
          19 file(s)     883953 bytes       114343

                         251689 bytes free

   The following lines should have been added to the AUTOEXEC.BAT and
   CONFIG.SYS files:

   AUTOEXEC.BAT                      CONFIG.SYS
   --------------------------------------------------------------

   A:\SMARTDRV.EXE                   DEVICE=A:\HIMEM.SYS
   A:\net start                      device=A:\protman.DOS /i:A:\
   PATH=C:\WFWTEMP;c:\wfwshare       device=A:\workgrp.sys
   SET TEMP=C:\WFWTEMP\TEMP          device=A:\NDISDRVR.DOS
                                     STACKS=9,256
                                     LASTDRIVE=Z

</PRE><P><LI>With all disks removed, reboot the file server and start Windows
   for Workgroups by typing WIN at the MS-DOS command prompt and pressing
   ENTER.
<P>
</OL>The workstation boot disk can now be used to start up workstations on
the network and set up Windows for Workgroups as instructed in the section
below. If any errors from the CONFIG.SYS or AUTOEXEC.BAT are reported,
they should be resolved before proceeding.
<P>
NOTE: If there are different types of network adapters on the
workstations, the steps 1-5 above may need to be repeated for each
type of network adapter so that individual workstations with different
types of network adapters can access the network.
<P>
<P><h3>Setting Up Windows for Workgroups on the Workstation(s)</h3>
 
<P>
This process requires that you boot the workstation with the network
boot disk created in the section above, then replace the disk with a
blank formatted system disk before running Windows for Workgroups
Setup. For more information on formatting system disks, see step 1
under "Making a Workstation Boot Disk."

<OL><P><LI>Start each workstation with a network boot disk. Confirm logon name
   and enter a password. Verify the creation of password cache list file,
   which has the extension .PWL.

<P><LI>Connect to the WFWSHARE and WFWUSERS directories on the file server
   by typing the following commands at the MS-DOS command prompt and
   pressing ENTER after each
<P>
<P><PRE>      net use d: \\&lt;servername&gt;\wfwshare
      net use c: \\&lt;servername&gt;\wfwusers
</PRE><P>
   where &lt;servername&gt; is the name of the computer assigned in step 2
   under the "Setting Up and Sharing Windows for Workgroups on the
   Server" section. If the connection was made successfully the message
   "Command Completed Successfully" will appear for each command issued.

<P><LI>Replace the network boot disk with a formatted system disk in the
   floppy disk drive. This system disk will be used as a permanent
   network boot disk for this workstation.

<P><LI>Change to network drive D and run the SETUP /N command. Choose
   Custom Setup and change the directory to C:\&lt;NAME&gt; (where &lt;NAME&gt; is
   the workstation name). Select your computer name and workgroup name,
   then confirm your network adapter.

<P><LI>After this installation is complete, return to the MS-DOS command
   prompt and copy the SYSTEM.INI file from C:\&lt;NAME&gt; to your permanent
   network boot disk. Edit this SYSTEM.INI file and add the following
   line to the [network] section:
<P>
<P><PRE>      [network]
      AutoStart=Full
</PRE><P>
   NOTE: The value "Full" can be changed to "Basic" to save approximately
   30 kilobytes (K) of the amount of memory used by the network
   redirector.

<P><LI>Reboot the workstation with your permanent network boot disk and
   log in and verify the creation of password cache list file, which has
   the extension .PWL. Connect to the WFWSHARE and WFWUSERS directories
   on the file server with the following commands, pressing ENTER after
   each line:
<P>
<P><PRE>      net use d: \\&lt;servername&gt;\wfwshare
      net use c: \\&lt;servername&gt;\wfwusers
</PRE><P>
   where &lt;servername&gt; is the name of the computer assigned in step 2
   under the "Setting Up and Sharing Windows for Workgroups on the
   Server" section. If the connection was made successfully, the message
   "Command Completed Successfully" appears for each command issued.
<P>
</OL>You should now be able to run Windows for Workgroups on this
workstation. Repeat the above steps 1-6 for each workstation without a
hard disk on the network.
<P>
NOTE: If there are different types of network adapters on the
workstations, steps 1-5 under the "Making a Workstation Boot Disk"
section may need to be repeated for each type of network adapter so
that individual workstations with different types of network adapters
can access the network.
<P>
<P><h3>Notes on Using Workstations Without Hard Disks</h3>
 

<UL><LI>A workstation without a hard disk must meet the same system
   requirements for running Windows for Workgroups 3.1 as a workstation
   with a hard disk. Note that the RAM requirement may be greater if
   you are using a RAM drive.

<LI>Since a SYSTEM.INI file resides on both the network boot disk and
   the user's directory; changes made in the Networks dialog box in
   Control Panel do not update the SYSTEM.INI file on the boot disk. If
   you make changes in the Networks dialog box in Control Panel, you must
   recopy the SYSTEM.INI to the boot floppy disk before changes can take
   effect.

<LI>To share local workstations resources (such as floppy disk drives,
   printers, and CD-ROM drives), you must create a RAM drive and change
   your SET TEMP environment variable to its location. The RAM drive must
   be of considerable size (2048K or larger) if you are planning to share
   a local printer because Print Manager queues jobs into the RAM drive.
   To set up a 2-MB RAM drive, add the following line to your CONFIG.SYS
   file:
<P>
<PRE>        device=a:\ramdrive.sys 2048 /e
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbnetwork kbsetup kbhw kbfasttip<BR>
KBSubcategory: wfw wfwg<BR>
Additional reference words: 3.10 disk less hard-diskless hand offering<BR>
folder<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 21, 1994</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
