

<HTML>
<HEAD>
<TITLE>WW0764: Updated SNDSYS.DRV for Single-Mode DMA Transfers </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q95354 ">
<META NAME="KBModify" CONTENT="1997/05/01">
<META NAME="KBCreate" CONTENT="1993/02/07">
<META NAME="Keywords" CONTENT="wss kbappnote kbfile kbmm">
<META NAME="KBArea" CONTENT="Support; KB; win3x, crossnet">
<META NAME="Description" CONTENT=" Microsoft has an Application Note that contains an updated sound driver for use with Microsoft Windows Sound System version 1.0. This driver was created for use on computers with 386 or higher processors that exhibit problems with demand-mode direct...">
<META NAME="Product" CONTENT="Windows 3.1 and Windows for Workgroups">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAHR,QDL9,QBWO,QBWN,QAYS,QBWQ,QAH6,QBDM,QDI6,QASP,QAJH,QAVZ,QAC9,QBD2,QAXB V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>WW0764: Updated SNDSYS.DRV for Single-Mode DMA Transfers</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 1, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q95354 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
1.00
WINDOWS
kbfile kbmm kbappnote
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows Sound System version 1.0
</UL> 
<P>
Microsoft has an Application Note that contains an updated sound driver for
use with Microsoft Windows Sound System version 1.0. This driver was
created for use on computers with 386 or higher processors that exhibit
problems with demand-mode direct memory access (DMA) transfers.
<P>
You can obtain this Application Note from the following sources:

<UL><LI>Microsoft's World Wide Web Site on the Internet
<LI>The Internet (Microsoft anonymous ftp server)
<LI>Microsoft Download Service (MSDL)
<LI>Microsoft Product Support Services
<P>
</UL>For complete information, see the "To Obtain This Application Note" section
at the end of this article.
<P>
<P><h2>THE TEXT OF WW0764</h2>
 
<P>
 
<PRE>    Microsoft Product Support Services Application Note (Text File)
       WW0764: UPDATED SNDSYS.DRV FOR SINGLE-MODE DMA TRANSFERS
</PRE> 
<PRE>                                                   Revision Date: 2/93
                                                       1 Disk Included

</PRE>The following information applies to Microsoft(R) Windows(TM) Sound
System version 1.0.
<P>
<PRE> --------------------------------------------------------------------
| INFORMATION PROVIDED IN THIS DOCUMENT AND ANY SOFTWARE THAT MAY    |
| ACCOMPANY THIS DOCUMENT (collectively referred to as an            |
| Application Note) IS PROVIDED "AS IS" WITHOUT WARRANTY OF ANY      |
| KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO    |
| THE IMPLIED WARRANTIES OF MERCHANTABILITY AND/OR FITNESS FOR A     |
| PARTICULAR PURPOSE. The user assumes the entire risk as to the     |
| accuracy and the use of this Application Note. This Application    |
| Note may be copied and distributed subject to the following        |
| conditions: 1) All text must be copied without modification and    |
| all pages must be included; 2) If software is included, all files  |
| on the disk(s) must be copied without modification [the MS-DOS(R)  |
| utility DISKCOPY is appropriate for this purpose]; 3) All          |
| components of this Application Note must be distributed together;  |
| and 4) This Application Note may not be distributed for profit.    |
|                                                                    |
| Copyright 1993 Microsoft Corporation. All                          |
| Rights Reserved.                                                   |
| Microsoft and MS-DOS are registered trademarks and Windows         |
| is a trademark of Microsoft Corporation.                           |
 --------------------------------------------------------------------

</PRE><h3>Introduction</h3>
 
<P>
This application note contains an updated sound driver for use with
Microsoft Windows Sound System version 1.0. This driver was created
for use on computers with 386 or higher processors that exhibit
problems with demand-mode direct memory access (DMA) transfers.
<P>
Symptoms of demand-mode DMA transfer problems may include:
<P>
<PRE>   - Compressed wave (.WAV) files produce only static when played.

   - Uncompressed wave (.WAV) files produce some static when played.

   - Wave (.WAV) files play at a rate of speed that is approximately
     twice the normal speed.

</PRE>33 and 50 megahertz (MHz) machines using the Symphony chip set are
known to exhibit all or some of the above symptoms.
<P>
The updated driver included with this application note changes the DMA
mode used during data transfers to the Windows Sound System hardware.
It allows the Windows Sound System software to perform single-mode DMA
transfers.
<P>
By default, the Windows Sound System uses demand-mode DMA. This means
that multibyte transfers can occur during a single data request cycle.
Certain chip sets may have difficulty handling the timing of this
cycle, sometimes causing multibyte transfers to work incorrectly. By
using single-mode DMA, a single byte is transferred per data request
cycle. This allows certain chip sets to function with the Windows
Sound System hardware; however, it does reduce the bus bandwidth.
<P>
<PRE>   NOTE: If your chip set can only operate with single-mode DMA
   transfers, high bandwidth data formats (such as stereo, 16-bit 22
   kilohertz [kHz], and 16-bit 44kHz) may cause pops and clicks when
   the bus is busy due to high network or disk activity. At this time,
   there is no software workaround for this problem. If you encounter
   this problem, contact your chip set manufacturer for a workaround
   and/or upgrade.

</PRE>The WW0764 disk included with this application note contains one file:
SNDSYS.DRV. This file replaces the file of the same name located in
your Windows SYSTEM subdirectory.
<P>
<P>
<P><h3>To install the updated driver:</h3>
 

<OL><P><LI>At the MS-DOS command prompt, type the following, and then
   press enter
<P>
<P><PRE>    cd \&lt;windir&gt;\system
</PRE><P>
   where &lt;windir&gt; is the name of your Windows directory. If your
   Windows directory is called WINDOWS, type the following command:
<P>
<P><PRE>    cd \windows\system
</PRE>
<P><LI>Rename the existing file by typing:
<P>
<P><PRE>    ren sndsys.drv sndsys.old
</PRE>
<P><LI>Insert the enclosed WW0764 disk in your floppy disk drive.

<P><LI>At the MS-DOS command prompt, type the following, and then
   press enter
<P>
<P><PRE>    copy &lt;drive:&gt;\sndsys.drv &lt;destination:&gt;\windows\system
</PRE><P>
   where &lt;drive:&gt; is the floppy disk drive containing the WW0764 disk
   and &lt;destination:&gt; is the drive where your Windows SYSTEM
   subdirectory resides. For example, if the WW0764 disk is in drive A
   and your Windows directory is called WINDOWS and is on drive C,
</OL>type
<PRE>   the following command:

    copy a:\sndsys.drv c:\windows\system

</PRE><P><LI>Using a text editor, such as Microsoft Windows Notepad, add the
   following line to the [SNDSYS.DRV] section of your SYSTEM.INI file
   (usually located in the Windows directory):
<P>
<P><PRE>    SingleModeDMA=TRUE
</PRE><P>
</OL>NOTE: This line must be present in order for the updated driver to
perform single-mode DMA transfers.
 
<P>
<P><h2>TO OBTAIN THIS APPLICATION NOTE</h2>
 
<P>
<PRE>You can find <A href="http://support.microsoft.com/download/support/mslfiles/ww0764.exe">WW0764.EXE</A> <I>(size: 33090 bytes)</I> 
                       , a self-extracting file, on the following
</PRE></OL>services:

<UL><LI>Microsoft's World Wide Web Site on the Internet
<P><PRE>      On the www.microsoft.com home page, click the Support icon.
      Click Knowledge Base, and select the product.
<PRE></PRE>      Enter kbfile <A href="http://support.microsoft.com/download/support/mslfiles/ww0764.exe">WW0764.EXE</A> <I>(size: 33090 bytes)</I> 
                             , and click GO!
      Open the article, and click the button to download the file.

</PRE><LI>Internet (anonymous FTP)
<P><PRE>      ftp ftp.microsoft.com
      Change to the Softlib/Mslfiles folder.
      Get <A href="http://support.microsoft.com/download/support/mslfiles/ww0764.exe">WW0764.EXE</A> <I>(size: 33090 bytes)</I> 
</PRE>
<LI>Microsoft Download Service (MSDL)
<P><PRE>      Dial (425) 936-6735 to connect to MSDL
      Download <A href="http://support.microsoft.com/download/support/mslfiles/ww0764.exe">WW0764.EXE</A> <I>(size: 33090 bytes)</I> 
</PRE><P>
</UL>For additional information about downloading, please see the following
article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A href="../zmiscellaneous/q119591.htm">Q119591</A></B>
   TITLE     : How to Obtain Microsoft Support Files from Online
               Services

</PRE><LI>If you are unable to access the source(s) listed above, you can
   have this Application Note mailed or faxed to you by calling
   Microsoft Product Support Services Monday through Friday, 6:00 A.M.
   to 6:00 P.M. Pacific time at (425) 637-7098. If you are outside the
   United States, contact the Microsoft subsidiary for your area.
<P></UL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbfile kbmm kbappnote kbfile<BR>
KBSubcategory: wss<BR>
Additional reference words: appnote 1.0 speed sound play symphony dma<BR>
d.m.a. scratchy scratch bad sound Appnote WW0764 SoftLib<BR>
Keywords            : wss kbappnote kbfile kbmm<BR>
Version             : 1.00<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 1, 1997</FONT>
	<BR>
	<A href="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
