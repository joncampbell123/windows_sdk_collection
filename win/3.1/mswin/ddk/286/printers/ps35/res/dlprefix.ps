%--------------------------------------------------------------------------
% dlprefix.ps
%
% this code precedes that downloading of the windows ps header.
% if the header has already been downloaded it complains and stops.
% if it can not load the header due to a bad password it complains
% and stops.
% if it sucessfully loads the header it prints a message and continues.
%
% Use this PS fragment for permanent downloading only!!!
% Prefix fragment
%--------------------------------------------------------------------------

#include "windict.h"

/PSWINDICT where
{
	pop
	(Windows PS Header in place - not loaded again\n) print flush
	100 100 moveto /Helvetica findfont 20 scalefont setfont
	(Windows PS Header in place - not reloaded.) show
	showpage
	stop			% quit
} {
	serverdict begin statusdict begin 0000 checkpassword
	{
		(Windows PS Header downloaded.\n) print	flush
		0000 exitserver	% continue
	} {
		(Bad Password loading Header.\n) print
		flush
		stop		% quit
	} ifelse
} ifelse
