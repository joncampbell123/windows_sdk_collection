%!PS-Adobe-3.0
%%Creator: Windows PSCRIPT
%%Title: Microsoft Word - K101.DOC
%%BoundingBox: 14 9 597 784
%%DocumentNeededResources: (atend)
%%DocumentSuppliedResources: (atend)
%%Pages: (atend)
%%BeginResource: procset Win35Dict 3 1
/Win35Dict 290 dict def Win35Dict begin/bd{bind def}bind def/in{72
mul}bd/ed{exch def}bd/ld{load def}bd/tr/translate ld/gs/gsave ld/gr
/grestore ld/M/moveto ld/L/lineto ld/rmt/rmoveto ld/rlt/rlineto ld
/rct/rcurveto ld/st/stroke ld/n/newpath ld/sm/setmatrix ld/cm/currentmatrix
ld/cp/closepath ld/ARC/arcn ld/TR{65536 div}bd/lj/setlinejoin ld/lc
/setlinecap ld/ml/setmiterlimit ld/sl/setlinewidth ld/scignore false
def/sc{scignore{pop pop pop}{0 index 2 index eq 2 index 4 index eq
and{pop pop 255 div setgray}{3{255 div 3 1 roll}repeat setrgbcolor}ifelse}ifelse}bd
/FC{bR bG bB sc}bd/fC{/bB ed/bG ed/bR ed}bd/HC{hR hG hB sc}bd/hC{
/hB ed/hG ed/hR ed}bd/PC{pR pG pB sc}bd/pC{/pB ed/pG ed/pR ed}bd/sM
matrix def/PenW 1 def/iPen 5 def/mxF matrix def/mxE matrix def/mxUE
matrix def/mxUF matrix def/fBE false def/iDevRes 72 0 matrix defaultmatrix
dtransform dup mul exch dup mul add sqrt def/fPP false def/SS{fPP{
/SV save def}{gs}ifelse}bd/RS{fPP{SV restore}{gr}ifelse}bd/EJ{gsave
showpage grestore}bd/#C{userdict begin/#copies ed end}bd/FEbuf 2 string
def/FEglyph(G  )def/FE{1 exch{dup 16 FEbuf cvrs FEglyph exch 1 exch
putinterval 1 index exch FEglyph cvn put}for}bd/SM{/iRes ed/cyP ed
/cxPg ed/cyM ed/cxM ed 72 100 div dup scale dup 0 ne{90 eq{cyM exch
0 eq{cxM exch tr -90 rotate -1 1 scale}{cxM cxPg add exch tr +90 rotate}ifelse}{cyP
cyM sub exch 0 ne{cxM exch tr -90 rotate}{cxM cxPg add exch tr -90
rotate 1 -1 scale}ifelse}ifelse}{pop cyP cyM sub exch 0 ne{cxM cxPg
add exch tr 180 rotate}{cxM exch tr 1 -1 scale}ifelse}ifelse 100 iRes
div dup scale 0 0 transform .25 add round .25 sub exch .25 add round
.25 sub exch itransform translate}bd/SJ{1 index 0 eq{pop pop/fBE false
def}{1 index/Break ed div/dxBreak ed/fBE true def}ifelse}bd/ANSIVec[
16#0/grave 16#1/acute 16#2/circumflex 16#3/tilde 16#4/macron 16#5/breve
16#6/dotaccent 16#7/dieresis 16#8/ring 16#9/cedilla 16#A/hungarumlaut
16#B/ogonek 16#C/caron 16#D/dotlessi 16#27/quotesingle 16#60/grave
16#7C/bar 16#82/quotesinglbase 16#83/florin 16#84/quotedblbase 16#85
/ellipsis 16#86/dagger 16#87/daggerdbl 16#88/circumflex 16#89/perthousand
16#8A/Scaron 16#8B/guilsinglleft 16#8C/OE 16#91/quoteleft 16#92/quoteright
16#93/quotedblleft 16#94/quotedblright 16#95/bullet 16#96/endash 16#97
/emdash 16#98/tilde 16#99/trademark 16#9A/scaron 16#9B/guilsinglright
16#9C/oe 16#9F/Ydieresis 16#A0/space 16#A1/exclamdown 16#A4/currency
16#A5/yen 16#A6/brokenbar 16#A7/section 16#A8/dieresis 16#A9/copyright
16#AA/ordfeminine 16#AB/guillemotleft 16#AC/logicalnot 16#AD/hyphen
16#AE/registered 16#AF/macron 16#B0/degree 16#B1/plusminus 16#B2/twosuperior
16#B3/threesuperior 16#B4/acute 16#B5/mu 16#B6/paragraph 16#B7/periodcentered
16#B8/cedilla 16#B9/onesuperior 16#BA/ordmasculine 16#BB/guillemotright
16#BC/onequarter 16#BD/onehalf 16#BE/threequarters 16#BF/questiondown
16#C0/Agrave 16#C1/Aacute 16#C2/Acircumflex 16#C3/Atilde 16#C4/Adieresis
16#C5/Aring 16#C6/AE 16#C7/Ccedilla 16#C8/Egrave 16#C9/Eacute 16#CA
/Ecircumflex 16#CB/Edieresis 16#CC/Igrave 16#CD/Iacute 16#CE/Icircumflex
16#CF/Idieresis 16#D0/Eth 16#D1/Ntilde 16#D2/Ograve 16#D3/Oacute 16#D4
/Ocircumflex 16#D5/Otilde 16#D6/Odieresis 16#D7/multiply 16#D8/Oslash
16#D9/Ugrave 16#DA/Uacute 16#DB/Ucircumflex 16#DC/Udieresis 16#DD/Yacute
16#DE/Thorn 16#DF/germandbls 16#E0/agrave 16#E1/aacute 16#E2/acircumflex
16#E3/atilde 16#E4/adieresis 16#E5/aring 16#E6/ae 16#E7/ccedilla 16#E8
/egrave 16#E9/eacute 16#EA/ecircumflex 16#EB/edieresis 16#EC/igrave
16#ED/iacute 16#EE/icircumflex 16#EF/idieresis 16#F0/eth 16#F1/ntilde
16#F2/ograve 16#F3/oacute 16#F4/ocircumflex 16#F5/otilde 16#F6/odieresis
16#F7/divide 16#F8/oslash 16#F9/ugrave 16#FA/uacute 16#FB/ucircumflex
16#FC/udieresis 16#FD/yacute 16#FE/thorn 16#FF/ydieresis ] def/reencdict
12 dict def/IsChar{basefontdict/CharStrings get exch known}bd/MapCh{dup
IsChar not{pop/bullet}if newfont/Encoding get 3 1 roll put}bd/MapDegree{16#b0
/degree IsChar{/degree}{/ring}ifelse MapCh}bd/MapBB{16#a6/brokenbar
IsChar{/brokenbar}{/bar}ifelse MapCh}bd/ANSIFont{reencdict begin/newfontname
ed/basefontname ed FontDirectory newfontname known not{/basefontdict
basefontname findfont def/newfont basefontdict maxlength dict def basefontdict{exch
dup/FID ne{dup/Encoding eq{exch dup length array copy newfont 3 1 roll
put}{exch newfont 3 1 roll put}ifelse}{pop pop}ifelse}forall newfont
/FontName newfontname put 127 1 159{newfont/Encoding get exch/bullet
put}for ANSIVec aload pop ANSIVec length 2 idiv{MapCh}repeat MapDegree
MapBB newfontname newfont definefont pop}if newfontname end}bd/SB{FC
/ULlen ed/str ed str length fBE not{dup 1 gt{1 sub}if}if/cbStr ed
/dxGdi ed/y0 ed/x0 ed str stringwidth dup 0 ne{/y1 ed/x1 ed y1 y1
mul x1 x1 mul add sqrt dxGdi exch div 1 sub dup x1 mul cbStr div exch
y1 mul cbStr div}{exch abs neg dxGdi add cbStr div exch}ifelse/dyExtra
ed/dxExtra ed x0 y0 M fBE{dxBreak 0 BCh dxExtra dyExtra str awidthshow}{dxExtra
dyExtra str ashow}ifelse fUL{x0 y0 M dxUL dyUL rmt ULlen fBE{Break
add}if 0 mxUE transform gs rlt cyUL sl [] 0 setdash st gr}if fSO{x0
y0 M dxSO dySO rmt ULlen fBE{Break add}if 0 mxUE transform gs rlt cyUL
sl [] 0 setdash st gr}if n/fBE false def}bd/font{/name ed/Ascent ed
0 ne/fT3 ed 0 ne/fSO ed 0 ne/fUL ed/Sy ed/Sx ed 10.0 div/ori ed -10.0
div/esc ed/BCh ed name findfont/xAscent 0 def/yAscent Ascent def/ULesc
esc def ULesc mxUE rotate pop fT3{/esc 0 def xAscent yAscent mxUE transform
/yAscent ed/xAscent ed}if [Sx 0 0 Sy neg xAscent yAscent] esc mxE
rotate mxF concatmatrix makefont setfont [Sx 0 0 Sy neg 0 Ascent] mxUE
mxUF concatmatrix pop fUL{currentfont dup/FontInfo get/UnderlinePosition
known not{pop/Courier findfont}if/FontInfo get/UnderlinePosition get
1000 div 0 exch mxUF transform/dyUL ed/dxUL ed}if fSO{0 .3 mxUF transform
/dySO ed/dxSO ed}if fUL fSO or{currentfont dup/FontInfo get/UnderlineThickness
known not{pop/Courier findfont}if/FontInfo get/UnderlineThickness get
1000 div Sy mul/cyUL ed}if}bd/min{2 copy gt{exch}if pop}bd/max{2 copy
lt{exch}if pop}bd/CP{/ft ed{{ft 0 eq{clip}{eoclip}ifelse}stopped{currentflat
1 add setflat}{exit}ifelse}loop}bd/patfont 10 dict def patfont begin
/FontType 3 def/FontMatrix [1 0 0 -1 0 0] def/FontBBox [0 0 16 16]
def/Encoding StandardEncoding def/BuildChar{pop pop 16 0 0 0 16 16
setcachedevice 16 16 false [1 0 0 1 .25 .25]{pat}imagemask}bd end/p{
/pat 32 string def{}forall 0 1 7{dup 2 mul pat exch 3 index put dup
2 mul 1 add pat exch 3 index put dup 2 mul 16 add pat exch 3 index
put 2 mul 17 add pat exch 2 index put pop}for}bd/pfill{/PatFont patfont
definefont setfont/ch(AAAA)def X0 64 X1{Y1 -16 Y0{1 index exch M ch
show}for pop}for}bd/vert{X0 w X1{dup Y0 M Y1 L st}for}bd/horz{Y0 w
Y1{dup X0 exch M X1 exch L st}for}bd/fdiag{X0 w X1{Y0 M X1 X0 sub dup
rlt st}for Y0 w Y1{X0 exch M Y1 Y0 sub dup rlt st}for}bd/bdiag{X0 w
X1{Y1 M X1 X0 sub dup neg rlt st}for Y0 w Y1{X0 exch M Y1 Y0 sub dup
neg rlt st}for}bd/AU{1 add cvi 15 or}bd/AD{1 sub cvi -16 and}bd/SHR{pathbbox
AU/Y1 ed AU/X1 ed AD/Y0 ed AD/X0 ed}bd/hfill{/w iRes 37.5 div round
def 0.1 sl [] 0 setdash n dup 0 eq{horz}if dup 1 eq{vert}if dup 2 eq{fdiag}if
dup 3 eq{bdiag}if dup 4 eq{horz vert}if 5 eq{fdiag bdiag}if}bd/F{/ft
ed fm 256 and 0 ne{gs FC ft 0 eq{fill}{eofill}ifelse gr}if fm 1536
and 0 ne{SHR gs HC ft CP fm 1024 and 0 ne{/Tmp save def pfill Tmp restore}{fm
15 and hfill}ifelse gr}if}bd/S{PenW sl PC st}bd/m matrix def/GW{iRes
12 div PenW add cvi}bd/DoW{iRes 50 div PenW add cvi}bd/DW{iRes 8 div
PenW add cvi}bd/SP{/PenW ed/iPen ed iPen 0 eq iPen 6 eq or{[] 0 setdash}if
iPen 1 eq{[DW GW] 0 setdash}if iPen 2 eq{[DoW GW] 0 setdash}if iPen
3 eq{[DW GW DoW GW] 0 setdash}if iPen 4 eq{[DW GW DoW GW DoW GW] 0
setdash}if}bd/E{m cm pop tr scale 1 0 moveto 0 0 1 0 360 arc cp m sm}bd
/AG{/sy ed/sx ed sx div 4 1 roll sy div 4 1 roll sx div 4 1 roll sy
div 4 1 roll atan/a2 ed atan/a1 ed sx sy scale a1 a2 ARC}def/A{m cm
pop tr AG m sm}def/P{m cm pop tr 0 0 M AG cp m sm}def/RRect{n 4 copy
M 3 1 roll exch L 4 2 roll L L cp}bd/RRCC{/r ed/y1 ed/x1 ed/y0 ed/x0
ed x0 x1 add 2 div y0 M x1 y0 x1 y1 r arcto 4{pop}repeat x1 y1 x0 y1
r arcto 4{pop}repeat x0 y1 x0 y0 r arcto 4{pop}repeat x0 y0 x1 y0 r
arcto 4{pop}repeat cp}bd/RR{2 copy 0 eq exch 0 eq or{pop pop RRect}{2
copy eq{pop RRCC}{m cm pop/y2 ed/x2 ed/ys y2 x2 div 1 max def/xs x2
y2 div 1 max def/y1 exch ys div def/x1 exch xs div def/y0 exch ys div
def/x0 exch xs div def/r2 x2 y2 min def xs ys scale x0 x1 add 2 div
y0 M x1 y0 x1 y1 r2 arcto 4{pop}repeat x1 y1 x0 y1 r2 arcto 4{pop}repeat
x0 y1 x0 y0 r2 arcto 4{pop}repeat x0 y0 x1 y0 r2 arcto 4{pop}repeat
m sm cp}ifelse}ifelse}bd/PP{{rlt}repeat}bd/OB{gs 0 ne{7 3 roll/y ed
/x ed x y translate ULesc rotate x neg y neg translate x y 7 -3 roll}if
sc B fill gr}bd/B{M/dy ed/dx ed dx 0 rlt 0 dy rlt dx neg 0 rlt cp}bd
/CB{B clip n}bd/ErrHandler{errordict dup maxlength exch length gt
dup{errordict begin}if/errhelpdict 12 dict def errhelpdict begin/stackunderflow(operand stack underflow)def
/undefined(this name is not defined in a dictionary)def/VMerror(you have used up all the printer's memory)def
/typecheck(operator was expecting a different type of operand)def
/ioerror(input/output error occured)def end{end}if errordict begin
/handleerror{$error begin newerror{/newerror false def showpage 72
72 scale/x .25 def/y 9.6 def/Helvetica findfont .2 scalefont setfont
x y moveto(Offending Command = )show/command load{dup type/stringtype
ne{(max err string)cvs}if show}exec/y y .2 sub def x y moveto(Error = )show
errorname{dup type dup( max err string )cvs show( : )show/stringtype
ne{( max err string )cvs}if show}exec errordict begin errhelpdict errorname
known{x 1 add y .2 sub moveto errhelpdict errorname get show}if end
/y y .4 sub def x y moveto(Stack =)show ostack{/y y .2 sub def x 1
add y moveto dup type/stringtype ne{( max err string )cvs}if show}forall
showpage}if end}def end}bd end
%%EndResource
/SVDoc save def
%%EndProlog
%%BeginSetup
Win35Dict begin
ErrHandler
statusdict begin 0 setjobtimeout end
statusdict begin statusdict /jobname (Microsoft Word - K101.DOC) put end
/oldDictCnt countdictstack def {}stopped 
{ countdictstack oldDictCnt lt { Win35Dict begin } 
{1 1 countdictstack oldDictCnt sub {pop end } for } ifelse } if 
/oldDictCnt countdictstack def {letter
}stopped 
{ countdictstack oldDictCnt lt { Win35Dict begin } 
{1 1 countdictstack oldDictCnt sub {pop end } for } ifelse } if 
[{ }
/exec load currenttransfer /exec load] cvx settransfer
%%EndSetup
%%Page: 1 1
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 50 50 0 0 0 45 /Times-Roman /font32 ANSIFont font
0 0 0 fC
346 491 33 (C) 58 SB
404 491 36 (H) 61 SB
465 491 35 (A) 60 SB
525 491 28 (P) 53 SB
578 491 31 (T) 56 SB
634 491 31 (E) 56 SB
690 491 33 (R) 58 SB
748 491 13 ( ) 38 SB
786 491 25 (1) 50 SB
32 0 0 100 100 0 0 0 93 /Helvetica-Narrow-Bold /font16 ANSIFont font
gs 1400 513 346 604 CB
346 602 1000 (Summary of Kernel-mode) 1000 SB
gr
gs 1400 513 346 604 CB
346 715 688 (Support Routines) 688 SB
gr
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
721 1117 1284 (This chapter summarizes the kernel-mode support functions that Microsoft) 1284 SB
32 0 0 29 29 0 0 0 26 /Times-Roman /font32 ANSIFont font
2005 1131 22 (\256) 22 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
721 1167 234 (Windows NT) 234 SB
32 0 0 29 29 0 0 0 26 /Times-Roman /font32 ANSIFont font
955 1173 28 (\231) 28 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
983 1167 1086 ( drivers can call, according to the following general categories:) 1086 SB
32 0 0 40 40 0 0 0 46 /MSIcons2 font
gs 740 3231 0 0 CB
721 1244 19 (u) 19 SB
gr
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1250 431 (Initialization and Unload) 431 SB
32 0 0 40 40 0 0 0 46 /MSIcons2 font
gs 740 3231 0 0 CB
721 1311 19 (u) 19 SB
gr
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1317 84 (IRPs) 84 SB
32 0 0 40 40 0 0 0 46 /MSIcons2 font
gs 740 3231 0 0 CB
721 1378 19 (u) 19 SB
gr
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1384 281 (Synchronization) 281 SB
32 0 0 40 40 0 0 0 46 /MSIcons2 font
gs 740 3231 0 0 CB
721 1445 19 (u) 19 SB
gr
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1451 147 (Memory) 147 SB
32 0 0 40 40 0 0 0 46 /MSIcons2 font
gs 740 3231 0 0 CB
721 1512 19 (u) 19 SB
gr
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1518 102 (DMA) 102 SB
32 0 0 40 40 0 0 0 46 /MSIcons2 font
gs 740 3231 0 0 CB
721 1579 19 (u) 19 SB
gr
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1585 70 (PIO) 70 SB
32 0 0 40 40 0 0 0 46 /MSIcons2 font
gs 740 3231 0 0 CB
721 1646 19 (u) 19 SB
gr
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1652 423 (Driver-managed Queues) 423 SB
32 0 0 40 40 0 0 0 46 /MSIcons2 font
gs 740 3231 0 0 CB
721 1713 19 (u) 19 SB
gr
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1719 400 (Driver System Threads) 400 SB
32 0 0 40 40 0 0 0 46 /MSIcons2 font
gs 740 3231 0 0 CB
721 1780 19 (u) 19 SB
gr
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1786 122 (Strings) 122 SB
32 0 0 40 40 0 0 0 46 /MSIcons2 font
gs 740 3231 0 0 CB
721 1847 19 (u) 19 SB
gr
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1853 309 (Data Conversions) 309 SB
32 0 0 40 40 0 0 0 46 /MSIcons2 font
gs 740 3231 0 0 CB
721 1914 19 (u) 19 SB
gr
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1920 365 (Numeric and Logical) 365 SB
32 0 0 40 40 0 0 0 46 /MSIcons2 font
gs 740 3231 0 0 CB
721 1981 19 (u) 19 SB
gr
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1987 839 (Access to Driver-managed Objects or Resources) 839 SB
32 0 0 40 40 0 0 0 46 /MSIcons2 font
gs 740 3231 0 0 CB
721 2048 19 (u) 19 SB
gr
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2054 110 (Errors) 110 SB
721 2154 1372 (Some functions are listed in more than one section or subsection of this chapter.) 1372 SB
32 0 0 83 83 0 0 0 79 /Helvetica-Narrow-Bold /font16 ANSIFont font
346 2274 921 (1.1  Initialization and Unload) 921 SB
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
346 2413 824 (1.1.1  Hardware Configuration) 824 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2508 502 (IoQueryDeviceDescription) 502 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2559 1326 (Supplies basic hardware information about one or more of the given bus type) 1326 SB
779 2609 1341 (and bus number, controller type and controller number, and/or peripheral type) 1341 SB
779 2659 1292 (and peripheral number from the registry to a driver-supplied configuration-) 1292 SB
779 2709 308 (callback function.) 308 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 1 def
/wp$fpage (1) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font MSIcons2
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 2 2
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 18 (2) 18 SB
306 378 9 ( ) 61 SB
367 378 9 ( ) 61 SB
428 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 298 (HalGetBusData) 298 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 1316 (Returns configuration information for the specified type of bus data, system-) 1316 SB
692 596 1275 (assigned bus number, slot number or data offset, and a pointer to a driver-) 1275 SB
692 646 818 (supplied buffer and the buffer\222s length in bytes.) 818 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 712 459 (IoReportResourceUsage) 459 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 763 1305 (Claims hardware resources, such as ports in I/O space or device registers in) 1305 SB
692 813 1344 (memory space, an interrupt vector, or a particular DMA controller channel, in) 1344 SB
692 863 1374 (the configuration registry so that a subsequently loaded driver cannot attempt to) 1374 SB
692 913 404 (use the same resources.) 404 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 979 596 (IoGetConfigurationInformation) 596 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1030 1297 (Returns a pointer to the I/O Manager\222s configuration information structure,) 1297 SB
692 1080 1385 (which indicates the number of disk, floppy, CD-ROM, tape, SCSI HBAs, serial,) 1385 SB
692 1130 1352 (and parallel device objects that have already been named by previously loaded) 1352 SB
692 1180 1348 (drivers, as well as whether certain address ranges have been claimed by \223AT\224) 1348 SB
692 1230 301 (disk-type drivers.) 301 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1296 472 (HalTranslateBusAddress) 472 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1347 1354 (Returns the corresponding physical address in system memory for a given bus-) 1354 SB
692 1397 413 (specific logical address.) 413 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1463 442 (HalGetInterruptVector) 442 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1514 1373 (Returns a mapped system interrupt vector, DIRQL, and processor-affinity mask) 1373 SB
692 1564 1316 (a driver can use to set up its ISR, given the type of bus on which the driver\222s) 1316 SB
692 1614 1321 (device is connected, the system-assigned bus number, and the bus\222s interrupt) 1321 SB
692 1664 303 (vector and IRQL.) 303 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1730 294 (HalGetAdapter) 294 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1781 1361 (Returns a pointer to the adapter object representing the DMA channel to which) 1361 SB
692 1831 1358 (the driver\222s device is connected or representing the driver\222s busmaster adapter,) 1358 SB
692 1881 1344 (together with the maximum number of map registers the driver can specify for) 1344 SB
692 1931 947 (each DMA transfer, given the input device description.) 947 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1997 411 (IoReadPartitionTable) 411 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2048 1042 (Returns a list of partitions on a disk with a given sector size.) 1042 SB
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
259 2140 392 (1.1.2  Registry) 392 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2235 502 (IoQueryDeviceDescription) 502 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2286 1326 (Supplies basic hardware information about one or more of the given bus type) 1326 SB
692 2336 1341 (and bus number, controller type and controller number, and/or peripheral type) 1341 SB
692 2386 1292 (and peripheral number from the registry to a driver-supplied configuration-) 1292 SB
692 2436 308 (callback function.) 308 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2502 459 (IoReportResourceUsage) 459 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2553 1305 (Claims hardware resources, such as ports in I/O space or device registers in) 1305 SB
692 2603 1344 (memory space, an interrupt vector, or a particular DMA controller channel, in) 1344 SB
692 2653 1374 (the configuration registry so that a subsequently loaded driver cannot attempt to) 1374 SB
692 2703 404 (use the same resources.) 404 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 2 def
/wp$fpage (2) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 3 3
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1120 378 133 (Chapter ) 133 SB
1253 378 18 (1) 18 SB
1271 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1998 378 9 ( ) 63 SB
2061 378 9 ( ) 63 SB
2124 378 18 (1) 18 SB
2142 378 11 (-) 11 SB
2153 378 18 (3) 18 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
721 495 415 (RtlCheckRegistryKey) 415 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 546 1364 (Returns STATUS_SUCCESS if a key exists in the configuration registry along) 1364 SB
779 596 394 (the given relative path.) 394 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 662 425 (RtlCreateRegistryKey) 425 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 713 1070 (Adds a key object in the registry along the given relative path.) 1070 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 779 464 (RtlQueryRegistryValues) 464 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 830 1285 (Gives the driver-supplied QueryRegistry function \(read only\) access to the) 1285 SB
779 880 1278 (entries for the specified value name along the specified relative path in the) 1278 SB
779 930 1003 (registry when the QueryRegistry function is given control.) 1003 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 996 438 (RtlWriteRegistryValue) 438 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1047 1354 (Writes caller-supplied data into the registry along the specified relative path at) 1354 SB
779 1097 375 (the given value name.) 375 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1163 446 (RtlDeleteRegistryValue) 446 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1214 1334 (Removes the specified value name \(and the associated value entries\) from the) 1334 SB
779 1264 643 (registry along the given relative path.) 643 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1330 485 (InitializeObjectAttributes) 485 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1381 1370 (Sets up a parameter of type OBJECT_ATTRIBUTES for a subsequent call to a) 1370 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
779 1430 188 (ZwCreate) 188 SB
32 0 0 44 44 0 0 0 40 /Times-Italic /font31 ANSIFont font
967 1431 67 (Xxx) 67 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1034 1431 58 ( or ) 58 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1092 1430 160 (ZwOpen) 160 SB
32 0 0 44 44 0 0 0 40 /Times-Italic /font31 ANSIFont font
1252 1431 67 (Xxx) 67 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1319 1431 163 ( function.) 163 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1497 265 (ZwCreateKey) 265 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1548 1268 (Creates a new key in the registry with the given object attributes, allowed) 1268 SB
779 1598 1293 (access, and creation options \(such as whether the key is recreated when the) 1293 SB
779 1648 1306 (system is booted\), or opens an existing key, and returns a handle for the key) 1306 SB
779 1698 116 (object.) 116 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1764 237 (ZwOpenKey) 237 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1815 1334 (Returns a handle for a key in the registry, given the object\222s attributes \(which) 1334 SB
779 1865 1190 (must include a name for the key\) and the desired access to the object.) 1190 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1931 256 (ZwQueryKey) 256 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1982 1316 (Returns information about the class of a key, and the number and sizes of its) 1316 SB
779 2032 1266 (subkeys, such as the length of subkey names and the size of value entries.) 1266 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2098 344 (ZwEnumerateKey) 344 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2149 1322 (Returns the specified information about a subkey \(which always includes the) 1322 SB
779 2199 1291 (subkey\222s name\), as selected by a zero-based index, of an opened key in the) 1291 SB
779 2249 143 (registry.) 143 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2315 452 (ZwEnumerateValueKey) 452 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2366 1341 (Returns the specified information about the value entry, as selected by a zero-) 1341 SB
779 2416 780 (based index, of an opened key in the registry.) 780 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2482 364 (ZwQueryValueKey) 364 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2533 1372 (Returns the value entry, as selected by a zero-based index, for an opened key in) 1372 SB
779 2583 206 (the registry.) 206 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2649 303 (ZwSetValueKey) 303 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2700 1178 (Replaces \(or creates\) a value entry for an opened key in the registry.) 1178 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 3 def
/wp$fpage (3) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Italic
%%+ font Times-Roman
%%Page: 4 4
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 18 (4) 18 SB
306 378 9 ( ) 61 SB
367 378 9 ( ) 61 SB
428 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 237 (ZwFlushKey) 237 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 434 (Writes changes made by ) 434 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1126 545 265 (ZwCreateKey) 265 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1391 546 58 ( or ) 58 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1449 545 303 (ZwSetValueKey) 303 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1752 546 329 ( for the opened key) 329 SB
692 596 242 (object to disk.) 242 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 662 162 (ZwClose) 162 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 713 1360 (Releases the handle for an opened object, causing the handle to become invalid) 1360 SB
692 763 1004 (and decrementing the reference count of the object handle.) 1004 SB
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
259 855 892 (1.1.3  Standard Driver Functions) 892 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 950 608 (IoRegisterDriverReinitialization) 608 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1001 1353 (Sets up a driver-supplied Reinitialize function, together with its context, so the) 1353 SB
692 1051 1311 (Reinitialize function will be called when every subsequently loaded driver\222s) 1311 SB
692 1101 728 (DriverEntry function has returned control.) 728 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1167 602 (IoRegisterShutdownNotification) 602 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1218 1294 (Sets up a driver-supplied DispatchShutdown function to be called when the) 1294 SB
692 1268 462 (system is being shut down.) 462 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1334 645 (IoUnregisterShutdownNotification) 645 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1385 1389 (Removes a \(non-mass-storage\) driver\222s DispatchShutdown function from the list) 1389 SB
692 1435 985 (of those to be called when the system is being shut down.) 985 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1501 442 (HalGetInterruptVector) 442 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1552 1373 (Returns a mapped system interrupt vector, DIRQL, and processor-affinity mask) 1373 SB
692 1602 1316 (a driver can use to set up its ISR, given the type of bus on which the driver\222s) 1316 SB
692 1652 1321 (device is connected, the system-assigned bus number, and the bus\222s interrupt) 1321 SB
692 1702 303 (vector and IRQL.) 303 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1768 371 (IoConnectInterrupt) 371 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1819 1229 (Registers an ISR and sets up interrupt objects, using values supplied by) 1229 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
692 1868 442 (HalGetInterruptVector) 442 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1134 1869 867 (. Returns a pointer to a set of interrupt objects that) 867 SB
692 1919 1332 (must be passed, along with a driver-supplied SynchCritSection function entry) 1332 SB
692 1969 153 (point, to ) 153 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
845 1968 468 (KeSynchronizeExecution) 468 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1313 1969 11 (.) 11 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2035 420 (IoDisconnectInterrupt) 420 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2086 1056 (Releases a driver\222s interrupt objects when the driver unloads.) 1056 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2152 430 (IoInitializeDpcRequest) 430 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2203 1351 (Associates a driver-supplied DpcForIsr function with a given device object, so) 1351 SB
692 2253 1031 (the DpcForIsr can complete interrupt-driven I/O operations.) 1031 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2319 295 (KeInitializeDpc) 295 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2370 1350 (Initializes a DPC object, setting up a driver-supplied CustomDpc function that) 1350 SB
692 2420 597 (can be called with a given context.) 597 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2486 336 (KeInitializeTimer) 336 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2537 1276 (Initializes a timer object to a Not-Signaled state, optionally associating an) 1276 SB
692 2587 1361 (initialized DPC object representing a CustomTimerDpc function with the timer) 1361 SB
692 2637 116 (object.) 116 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 4 def
/wp$fpage (4) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 5 5
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1120 378 133 (Chapter ) 133 SB
1253 378 18 (1) 18 SB
1271 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1998 378 9 ( ) 63 SB
2061 378 9 ( ) 63 SB
2124 378 18 (1) 18 SB
2142 378 11 (-) 11 SB
2153 378 18 (5) 18 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
721 495 320 (IoInitializeTimer) 320 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 546 1345 (Associates a timer with the given device object and registers a driver-supplied) 1345 SB
779 596 664 (IoTimer function for the device object.) 664 SB
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
346 688 805 (1.1.4  Objects and Resources) 805 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 783 294 (IoCreateDevice) 294 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 834 1302 (Initializes a device object, representing a physical, virtual, or logical device) 1302 SB
779 884 1298 (whose driver is being loaded into the system; allocates space for the driver-) 1298 SB
779 934 1012 (defined device extension associated with the device object.) 1012 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1000 284 (IoDeleteDevice) 284 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1051 1284 (Removes a device object from the system when a driver is being unloaded.) 1284 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1117 500 (IoGetDeviceObjectPointer) 500 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1168 1311 (Returns a pointer to a device object with a given name if the caller\222s desired) 1311 SB
779 1218 1275 (access to the object can be granted; also returns a pointer to the file object) 1275 SB
779 1268 1202 (referenced by the named device object, which should be released with) 1202 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
779 1317 415 (ObDereferenceObject) 415 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1194 1318 910 ( by most drivers except FSDs. In effect, this function) 910 SB
779 1368 1340 (establishes a connection between the caller and the next-lower-level driver. A) 1340 SB
779 1418 1353 (successful caller can use the returned device object pointer to initialize its own) 1353 SB
779 1468 674 (device object\(s\) and as an argument to ) 674 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1453 1467 622 (IoBuildAsynchronousFsdRequest) 622 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
2075 1468 11 (,) 11 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
779 1517 597 (IoBuildSynchronousFsdRequest) 597 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1376 1518 22 (, ) 22 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1398 1517 602 (IoBuildDeviceIoControlRequest) 602 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
2000 1518 11 (,) 11 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
779 1567 482 (IoAttachDeviceByPointer) 482 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1261 1568 95 (, and ) 95 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1356 1567 243 (IoCallDriver) 243 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1599 1568 11 (.) 11 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1634 292 (IoAttachDevice) 292 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1685 1314 (\223Attaches\224 a given source device object \(belonging to the caller\) to a named) 1314 SB
779 1735 1340 (target device object \(usually belonging to the next-lower-level-driver\), so that) 1340 SB
779 1785 1176 (I/O requests bound for the target device are routed first to the caller.) 1176 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1851 482 (IoAttachDeviceByPointer) 482 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1902 1317 (\223Attaches\224 a source device object \(belonging to the caller\) to a target device) 1317 SB
779 1952 1364 (object \(usually belonging to the next-lower-level driver\), given pointers to both) 1364 SB
779 2002 1385 (device objects, so that I/O requests bound for the target device are routed first to) 1385 SB
779 2052 171 (the caller.) 171 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2118 297 (IoDetachDevice) 297 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2169 1358 (Releases an attachment between the caller\222s device object and a target driver\222s) 1358 SB
779 2219 238 (device object.) 238 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2285 428 (IoCreateSymbolicLink) 428 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2336 1354 (Sets up a symbolic link object, aliasing a named device object to a user-visible) 1354 SB
779 2386 448 (name for the same device.) 448 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2452 663 (IoCreateUnprotectedSymbolicLink) 663 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2503 1354 (Sets up a symbolic link object, aliasing a named device object to a user-visible) 1354 SB
779 2553 1353 (name for the same device and allowing user-mode callers to affect the mode of) 1353 SB
779 2603 1373 (the device \(for example, parallel and serial drivers use this so users can redirect) 1373 SB
779 2653 134 (output\).) 134 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 5 def
/wp$fpage (5) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 6 6
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 18 (6) 18 SB
306 378 9 ( ) 61 SB
367 378 9 ( ) 61 SB
428 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 418 (IoDeleteSymbolicLink) 418 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 1373 (Releases a symbolic link between a device object name and a user-visible name) 1373 SB
692 596 455 (when a driver is unloaded.) 455 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 662 344 (IoAssignArcName) 344 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 713 1285 (Sets up a symbolic link between a named device object \(disk and partition,) 1285 SB
692 763 1165 (floppy, or CD-ROM\) from which the system can be loaded, and the) 1165 SB
692 813 704 (corresponding ARC name for the device.) 704 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 879 386 (IoDeassignArcName) 386 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 930 788 (Releases the symbolic link created by calling ) 788 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1480 929 344 (IoAssignArcName) 344 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1824 930 248 ( when a driver) 248 SB
692 980 207 (is unloaded.) 207 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1046 333 (IoSetShareAccess) 333 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1097 1267 (Sets the access allowed to a given file object representing a device. \(Only) 1267 SB
692 1147 748 (highest-level drivers can call this function.\)) 748 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1213 371 (IoConnectInterrupt) 371 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1264 1389 (Registers a driver\222s interrupt service function \(ISR\), according to the parameters) 1389 SB
692 1314 341 (obtained by calling ) 341 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1033 1313 442 (HalGetInterruptVector) 442 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1475 1314 499 (. Returns a pointer to a set of) 499 SB
692 1364 1387 (allocated, initialized, and connected interrupt objects that is used as an argument) 1387 SB
692 1414 44 (to ) 44 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
736 1413 468 (KeSynchronizeExecution) 468 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1204 1414 11 (.) 11 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1480 420 (IoDisconnectInterrupt) 420 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1531 1086 (Releases a driver\222s interrupt object\(s\) when the driver unloads.) 1086 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1597 411 (IoReadPartitionTable) 411 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1648 1042 (Returns a list of partitions on a disk with a given sector size.) 1042 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1714 491 (IoSetPartitionInformation) 491 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1765 1140 (Sets the partition type and number in a \(disk\) partition table entry.) 1140 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1831 424 (IoWritePartitionTable) 424 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1882 1357 (Writes partition tables for a disk, given the device object representing the disk,) 1357 SB
692 1932 1232 (the sector size, and a pointer to a buffer containing partition list entries.) 1232 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1998 366 (IoCreateController) 366 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2049 1339 (Initializes a controller object, representing a physical device controller shared) 1339 SB
692 2099 1336 (by two or more like devices with the same driver, and specifies the size of the) 1336 SB
692 2149 353 (controller extension.) 353 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2215 356 (IoDeleteController) 356 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2266 1372 (Removes a controller object from the system when the driver is being unloaded.) 1372 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2332 397 (KeInitializeSpinLock) 397 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2383 773 (Initializes a variable of type KSPIN_LOCK.) 773 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2449 295 (KeInitializeDpc) 295 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2500 1350 (Initializes a DPC object, setting up a driver-supplied CustomDpc function that) 1350 SB
692 2550 597 (can be called with a given context.) 597 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 6 def
/wp$fpage (6) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 7 7
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1120 378 133 (Chapter ) 133 SB
1253 378 18 (1) 18 SB
1271 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1998 378 9 ( ) 63 SB
2061 378 9 ( ) 63 SB
2124 378 18 (1) 18 SB
2142 378 11 (-) 11 SB
2153 378 18 (7) 18 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
721 495 336 (KeInitializeTimer) 336 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 546 1276 (Initializes a timer object to a Not-Signaled state, optionally associating an) 1276 SB
779 596 1361 (initialized DPC object representing a CustomTimerDpc function with the timer) 1361 SB
779 646 116 (object.) 116 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 712 328 (KeInitializeEvent) 328 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 763 1324 (Initializes an event object as a synchronization \(single waiter\) or notification) 1324 SB
779 813 1266 (\(multiple waiters\) type event and sets up its initial state \(Signaled or Not-) 1266 SB
779 863 176 (Signaled\).) 176 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 929 340 (KeInitializeMutex) 340 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 980 1326 (Initializes a mutex object at a given level number as set to the Signaled state.) 1326 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1046 430 (KeInitializeSemaphore) 430 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1097 1373 (Initializes a semaphore object to a given count and specifies an upper bound the) 1373 SB
779 1147 284 (count can attain.) 284 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1213 579 (IoCreateSynchronizationEvent) 579 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1264 1266 (Initializes a named synchronization event to be used to serialize access to) 1266 SB
779 1314 882 (hardware between two otherwise unrelated drivers.) 882 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1380 444 (PsCreateSystemThread) 444 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1431 1372 (Creates a kernel-mode thread associated with a given process object or with the) 1372 SB
779 1481 941 (default system process; returns a handle for the thread.) 941 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1547 512 (PsTerminateSystemThread) 512 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1598 1312 (Terminates the current thread and satisfies as many waits as possible for the) 1312 SB
779 1648 368 (current thread object.) 368 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1714 490 (KeSetBasePriorityThread) 490 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1765 1356 (Sets up the runtime priority, relative to the system process, for a driver-created) 1356 SB
779 1815 119 (thread.) 119 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1881 401 (KeSetPriorityThread) 401 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1932 1361 (Sets up the runtime priority for a driver-created thread with a real-time priority) 1361 SB
779 1982 156 (attribute.) 156 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2048 388 (ExInitializeResource) 388 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2099 1331 (Initializes a resource, for which the caller provides the storage, to be used for) 1331 SB
779 2149 611 (synchronization by a set of threads.) 611 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2215 343 (ExDeleteResource) 343 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2266 1148 (Releases a caller-initialized resource when the driver is unloading.) 1148 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2332 415 (ObDereferenceObject) 415 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2383 1287 (Releases a reference to an object \(decrements the reference count\), given a) 1287 SB
779 2433 451 (pointer to the object body.) 451 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2499 562 (ObReferenceObjectByHandle) 562 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2550 1287 (Returns a pointer to the object body and handle information \(attributes and) 1287 SB
779 2600 1329 (granted access rights\), given the handle for an object, the object\222s type, and a) 1329 SB
779 2650 1350 (mask, specifying the desired access to the object, and the access mode \(user or) 1350 SB
779 2700 1318 (kernel, for which access is always granted\). A successful call increments the) 1318 SB
779 2750 516 (reference count for the object.) 516 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 7 def
/wp$fpage (7) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 8 8
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 18 (8) 18 SB
306 378 9 ( ) 61 SB
367 378 9 ( ) 61 SB
428 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 565 (ObReferenceObjectByPointer) 565 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 1331 (Increments the reference count for a given object so the caller can ensure that) 1331 SB
692 596 1183 (the object is not removed from the system while the caller is using it.) 1183 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 662 242 (RtlInitString) 242 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 713 664 (Sets up the specified string in a buffer.) 664 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 779 326 (RtlInitAnsiString) 326 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 830 776 (Sets up the specified ANSI string in a buffer.) 776 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 896 395 (RtlInitUnicodeString) 395 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 947 819 (Sets up the specified Unicode string in a buffer.) 819 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1013 485 (InitializeObjectAttributes) 485 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1064 1370 (Sets up a parameter of type OBJECT_ATTRIBUTES for a subsequent call to a) 1370 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
692 1113 188 (ZwCreate) 188 SB
32 0 0 44 44 0 0 0 40 /Times-Italic /font31 ANSIFont font
880 1114 67 (Xxx) 67 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
947 1114 58 ( or ) 58 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1005 1113 160 (ZwOpen) 160 SB
32 0 0 44 44 0 0 0 40 /Times-Italic /font31 ANSIFont font
1165 1114 67 (Xxx) 67 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1232 1114 163 ( function.) 163 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1180 499 (ZwCreateDirectoryObject) 499 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1231 1268 (Creates a directory object with the specified object attributes and allowed) 1268 SB
692 1281 827 (access; returns a handle for the directory object.) 827 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1347 510 (ZwMakeTemporaryObject) 510 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1398 1377 (Resets an opened object\222s \223permanent\224 attribute, so that the object and its name) 1377 SB
692 1448 1185 (can be deleted when the reference count for the object becomes zero.) 1185 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1514 162 (ZwClose) 162 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1565 1360 (Releases the handle for an opened object, causing the handle to become invalid) 1360 SB
692 1615 1004 (and decrementing the reference count of the object handle.) 1004 SB
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
259 1707 832 (1.1.5  Driver-managed Queues) 832 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1802 397 (KeInitializeSpinLock) 397 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1853 1257 (Initializes a variable of type KSPIN_LOCK. An initialized spin lock is a) 1257 SB
692 1903 446 (required parameter to the ) 446 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1138 1902 362 (Ex..InterlockedList) 362 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1500 1903 180 ( functions.) 180 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1969 337 (InitializeListHead) 337 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2020 1341 (Sets up a queue header for a driver\222s internal queue, given a pointer to driver-) 1341 SB
692 2070 840 (supplied storage for the queue header and queue.) 840 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2136 466 (KeInitializeDeviceQueue) 466 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2187 1392 (Initializes a device queue object to a not-busy state, setting up an associated spin) 1392 SB
692 2237 1022 (lock for multiprocessor-safe access to device queue entries.) 1022 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 8 def
/wp$fpage (8) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Italic
%%+ font Times-Roman
%%Page: 9 9
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1120 378 133 (Chapter ) 133 SB
1253 378 18 (1) 18 SB
1271 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1998 378 9 ( ) 63 SB
2061 378 9 ( ) 63 SB
2124 378 18 (1) 18 SB
2142 378 11 (-) 11 SB
2153 378 18 (9) 18 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 83 83 0 0 0 79 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
346 491 284 (1.2  IRPs) 284 SB
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
346 630 619 (1.2.1  Processing IRPs) 619 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 725 592 (IoGetCurrentIrpStackLocation) 592 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 776 1131 (Returns a pointer to the caller\222s I/O stack location in a given IRP.) 1131 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 842 527 (IoGetNextIrpStackLocation) 527 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 893 1344 (Returns a pointer to the next-lower-level driver\222s I/O stack location in a given) 1344 SB
779 943 78 (IRP.) 78 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1009 507 (IoGetRelatedDeviceObject) 507 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1060 1236 (Returns a pointer to the device object represented by a given file object.) 1236 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1126 463 (IoSetCompletionRoutine) 463 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1177 1310 (Registers a function associated with a given IRP to be called when the next-) 1310 SB
779 1227 1348 (lower-level driver has completed the requested operation in one or more of the) 1348 SB
779 1277 1268 (following ways: successfully, with an error, and/or by cancelling the IRP.) 1268 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1343 243 (IoCallDriver) 243 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1394 639 (Sends an IRP to a lower-level driver.) 639 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1460 358 (IoMarkIrpPending) 358 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1511 1353 (Marks a given IRP indicating that STATUS_PENDING was returned because) 1353 SB
779 1561 977 (further processing is required by another driver function.) 977 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1627 262 (IoStartPacket) 262 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1678 1324 (Calls the driver\222s StartIo function with the given IRP, specifying whether the) 1324 SB
779 1728 1353 (IRP is cancelable for the given device object, or inserts the IRP into the device) 1353 SB
779 1778 606 (queue if the device is already busy.) 606 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1844 497 (IoAcquireCancelSpinLock) 497 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1895 1292 (Synchronizes cancelable-state transitions for IRPs in a multiprocessor-safe) 1292 SB
779 1945 1336 (manner, allowing a driver to call its Cancel function if an IRP\222s cancel flag is) 1336 SB
779 1995 1357 (set, to put an IRP into a cancelable state and to set up its Cancel function, or to) 1357 SB
779 2045 688 (remove the IRP from a cancelable state.) 688 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2111 374 (IoSetCancelRoutine) 374 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2162 1376 (Sets or resets the Cancel function in an IRP during a cancelable-state transition.) 1376 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2228 489 (IoReleaseCancelSpinLock) 489 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2279 1352 (Releases the cancel spin lock when the driver has changed the cancelable state) 1352 SB
779 2329 1305 (in an IRP or releases the cancel spin lock from the driver\222s Cancel function.) 1305 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2395 229 (IoCancelIrp) 229 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2446 474 (Marks an IRP as cancelled.) 474 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2512 487 (IoAllocateErrorLogEntry) 487 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2563 1349 (Allocates and initializes an error log packet; returns a pointer so the caller can) 1349 SB
779 2613 520 (supply error-log data and call ) 520 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1299 2612 443 (IoWriteErrorLogEntry) 443 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1742 2613 284 ( with the packet.) 284 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 9 def
/wp$fpage (9) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 10 10
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 36 (10) 36 SB
324 378 9 ( ) 61 SB
385 378 9 ( ) 61 SB
446 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 443 (IoWriteErrorLogEntry) 443 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 1307 (Queues a previously allocated error log packet, filled in by the driver, to the) 1307 SB
692 596 484 (system error logging thread.) 484 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 662 424 (IoIsErrorUserInduced) 424 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 713 1313 (Returns a Boolean indicating whether an I/O request failed due to one of the) 1313 SB
692 763 1155 (following \(user-correctable\) conditions: STATUS_IO_TIMEOUT,) 1155 SB
692 813 1354 (STATUS_DEVICE_NOT_READY, STATUS_UNRECOGNIZED_MEDIA,) 1354 SB
692 863 1176 (STATUS_VERIFY_REQUIRED, STATUS_WRONG_VOLUME,) 1176 SB
692 913 819 (STATUS_MEDIA_WRITE_PROTECTED, or) 819 SB
692 963 1296 (STATUS_NO_MEDIA_IN_DEVICE. If the result is TRUE, a removable-) 1296 SB
692 1013 396 (media driver must call ) 396 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1088 1012 608 (IoSetHardErrorOrVerifyDevice) 608 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1696 1013 385 ( before completing the) 385 SB
692 1063 78 (IRP.) 78 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1129 608 (IoSetHardErrorOrVerifyDevice) 608 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1180 1303 (Supplies the device object for which the given IRP was failed due to a user-) 1303 SB
692 1230 1371 (induced error, such as supplying the incorrect media for the requested operation) 1371 SB
692 1280 1301 (or changing the media before the requested operation was completed. A file) 1301 SB
692 1330 1348 (system driver uses this device object to send a popup to the user, who can then) 1348 SB
692 1380 740 (correct the error and/or retry the operation.) 740 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1446 353 (IoRaiseHardError) 353 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1497 1381 (Causes a popup to be sent to the user indicating that the given IRP was failed on) 1381 SB
692 1547 1301 (the given device object for an optional VPB, so that the user can correct the) 1301 SB
692 1597 617 (error and/or can retry the operation.) 617 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1663 613 (IoRaiseInformationalHardError) 613 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1714 1353 (Causes a popup to be sent to the user, showing an I/O error status and optional) 1353 SB
692 1764 597 (string supplying more information.) 597 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1830 350 (IoStartNextPacket) 350 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1881 1360 (Dequeues the next IRP for a given device object, specifying whether the IRP is) 1360 SB
692 1931 859 (cancelable, and calls the driver\222s StartIo function.) 859 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1997 479 (IoStartNextPacketByKey) 479 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2048 1323 (Dequeues the next IRP, according to the specified sort-key value, for a given) 1323 SB
692 2098 1307 (device object, specifies whether the IRP is cancelable, and calls the driver\222s) 1307 SB
692 2148 281 (StartIo function.) 281 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2214 371 (IoCompleteRequest) 371 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2265 1277 (Completes an I/O request, giving a priority boost to the original caller and) 1277 SB
692 2315 1201 (returning a given IRP to the I/O system for disposal: either to call any) 1201 SB
692 2365 1332 (IoCompletion functions supplied by higher-level drivers, or to return status to) 1332 SB
692 2415 662 (the original requestor of the operation.) 662 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 10 def
/wp$fpage (10) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 11 11
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1102 378 133 (Chapter ) 133 SB
1235 378 18 (1) 18 SB
1253 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1980 378 9 ( ) 63 SB
2043 378 9 ( ) 63 SB
2106 378 18 (1) 18 SB
2124 378 11 (-) 11 SB
2135 378 36 (11) 36 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
346 492 743 (1.2.2  Driver-allocated IRPs) 743 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 587 622 (IoBuildAsynchronousFsdRequest) 622 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 638 1392 (Allocates and sets up an IRP specifying a major function code \(IRP_MJ_READ,) 1392 SB
779 688 1346 (IRP_MJ_WRITE, IRP_MJ_SHUTDOWN, or IRP_MJ_FLUSH_BUFFERS\)) 1346 SB
779 738 1380 (with a pointer to the lower driver\222s device object on which the I/O should occur,) 1380 SB
779 788 1381 (a pointer to a buffer which will contain the data to be read or which contains the) 1381 SB
779 838 1286 (data to be written, the length of the buffer in bytes, a pointer to the starting) 1286 SB
779 888 1374 (offset on the media, and a pointer to the I/O status block where the called driver) 1374 SB
779 938 1363 (can return status information and the caller\222s IoCompletion function can access) 1363 SB
779 988 1242 (it. Returns a pointer to the IRP so the caller can set any necessary minor) 1242 SB
779 1038 1379 (function code and set up its IoCompletion function before sending the IRP to the) 1379 SB
779 1088 224 (target driver.) 224 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1154 597 (IoBuildSynchronousFsdRequest) 597 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1205 1392 (Allocates and sets up an IRP specifying a major function code \(IRP_MJ_READ,) 1392 SB
779 1255 1346 (IRP_MJ_WRITE, IRP_MJ_SHUTDOWN, or IRP_MJ_FLUSH_BUFFERS\)) 1346 SB
779 1305 1380 (with a pointer to the lower driver\222s device object on which the I/O should occur,) 1380 SB
779 1355 1381 (a pointer to a buffer which will contain the data to be read or which contains the) 1381 SB
779 1405 1286 (data to be written, the length of the buffer in bytes, a pointer to the starting) 1286 SB
779 1455 1331 (offset on the media, a pointer to an event object to be set to the Signaled state) 1331 SB
779 1505 1326 (when the requested operation completes, and a pointer to the I/O status block) 1326 SB
779 1555 1179 (where the called driver can return status information and the caller\222s) 1179 SB
779 1605 1339 (IoCompletion function can access it. Returns a pointer to the IRP so the caller) 1339 SB
779 1655 1361 (can set any necessary minor function code and set up its IoCompletion function) 1361 SB
779 1705 736 (before sending the IRP to the target driver.) 736 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1771 602 (IoBuildDeviceIoControlRequest) 602 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1822 1192 (Allocates and sets up an IRP specifying a major function code \(either) 1192 SB
779 1872 842 (IRP_MJ_INTERNAL_DEVICE_CONTROL or) 842 SB
779 1922 1283 (IRP_MJ_DEVICE_CONTROL\) with an optional input or output buffer, a) 1283 SB
779 1972 1310 (pointer to the lower driver\222s device object, an event to be set to the Signaled) 1310 SB
779 2022 1354 (state when the requested operation completes, and an I/O status block to be set) 1354 SB
779 2072 1374 (by the to-be-called driver. Returns a pointer the the IRP so the caller can set the) 1374 SB
779 2122 357 (appropriate IOCTL_) 357 SB
32 0 0 44 44 0 0 0 40 /Times-Italic /font31 ANSIFont font
1136 2122 67 (Xxx) 67 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1203 2122 933 ( before sending the IRP to the next-lower-level driver.) 933 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2188 223 (IoSizeOfIrp) 223 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2239 1311 (Returns the size in bytes required for an IRP with a given count of I/O stack) 1311 SB
779 2289 166 (locations.) 166 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2355 255 (IoAllocateIrp) 255 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2406 1328 (Allocates an IRP, given the number of I/O stack locations \(optionally, for the) 1328 SB
779 2456 1343 (caller, but at least one for each driver layered under the caller\) and whether to) 1343 SB
779 2506 1369 (charge quota against the caller. Returns a pointer to an IRP in nonpaged system) 1369 SB
779 2556 789 (space if successful; otherwise, returns NULL.) 789 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 11 def
/wp$fpage (11) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Italic
%%+ font Times-Roman
%%Page: 12 12
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 36 (12) 36 SB
324 378 9 ( ) 61 SB
385 378 9 ( ) 61 SB
446 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 264 (IoInitializeIrp) 264 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 1284 (Initializes an IRP, given a pointer to an already allocated IRP, its length in) 1284 SB
692 596 875 (bytes, and the number of I/O stack locations it has.) 875 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 662 517 (IoSetNextIrpStackLocation) 517 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 713 1327 (Sets the current IRP stack location to the caller\222s in an IRP, which must have) 1327 SB
692 763 641 (been allocated by a preceding call to ) 641 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1333 762 255 (IoAllocateIrp) 255 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1588 763 455 ( that specified a stack-size) 455 SB
692 813 1089 (argument large enough to give the caller its own stack location.) 1089 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 879 272 (IoAllocateMdl) 272 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 930 1353 (Allocates a MDL large enough to map the starting address and length supplied) 1353 SB
692 980 887 (by the caller; optionally chains the MDL to an IRP.) 887 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1046 347 (IoBuildPartialMdl) 347 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1097 1303 (Builds an MDL for the specified starting virtual address and length in bytes) 1303 SB
692 1147 1266 (from a given source MDL. Drivers that split large transfer requests into a) 1266 SB
692 1197 856 (number of smaller transfers can call this function.) 856 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1263 203 (IoFreeMdl) 203 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1314 407 (Releases a given MDL.) 407 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1380 409 (IoMakeAssociatedIrp) 409 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1431 1340 (Allocates and initializes an IRP to be associated with a master IRP sent to the) 1340 SB
692 1481 1360 (highest-level driver, allowing the driver to \223split\224 the original request and send) 1360 SB
692 1531 995 (associated IRPs on to lower-level drivers or to the device.) 995 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1597 463 (IoSetCompletionRoutine) 463 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1648 1354 (Registers a function associated with a given IRP to be called when lower-level) 1354 SB
692 1698 1353 (drivers have completed the request so the caller can release an IRP it allocated) 1353 SB
692 1748 87 (with ) 87 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
779 1747 255 (IoAllocateIrp) 255 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1034 1748 58 ( or ) 58 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1092 1747 622 (IoBuildAsynchronousFsdRequest) 622 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1714 1748 293 ( and/or any other) 293 SB
692 1798 963 (resources it allocated to set up an IRP for lower drivers.) 963 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1864 243 (IoCallDriver) 243 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1915 639 (Sends an IRP to a lower-level driver.) 639 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1981 186 (IoFreeIrp) 186 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2032 840 (Releases an IRP that was allocated by the caller.) 840 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 12 def
/wp$fpage (12) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 13 13
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1102 378 133 (Chapter ) 133 SB
1235 378 18 (1) 18 SB
1253 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1980 378 9 ( ) 63 SB
2043 378 9 ( ) 63 SB
2106 378 18 (1) 18 SB
2124 378 11 (-) 11 SB
2135 378 36 (13) 36 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 83 83 0 0 0 79 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
346 491 665 (1.3  Synchronization) 665 SB
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
346 630 1064 (1.3.1  Driver Functions and I/O Objects) 1064 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 725 468 (KeSynchronizeExecution) 468 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 776 1373 (Synchronizes the execution of a driver-supplied SynchCritSection function with) 1373 SB
779 826 1342 (that of the ISR associated with a set of interrupt objects, given a pointer to the) 1342 SB
779 876 322 (interrupt object\(s\).) 322 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 942 266 (IoRequestDpc) 266 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 993 1336 (Queues a driver-supplied DpcForIsr function to complete interrupt-driven I/O) 1336 SB
779 1043 489 (processing at a lower IRQL.) 489 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1109 364 (KeInsertQueueDpc) 364 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1160 1352 (Queues a DPC to be executed as soon as the IRQL of a processor drops below) 1352 SB
779 1210 1293 (DISPATCH_LEVEL; returns FALSE if the DPC object is already queued.) 1293 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1276 404 (KeRemoveQueueDpc) 404 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1327 1373 (Removes a given DPC object from the DPC queue; returns FALSE if the object) 1373 SB
779 1377 364 (was not in the queue.) 364 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1443 506 (IoAllocateAdapterChannel) 506 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1494 1247 (Connects a device object to an adapter object and calls a driver-supplied) 1247 SB
779 1544 1349 (function to carry out an I/O operation through the system DMA controller or a) 1349 SB
779 1594 1359 (busmaster adapter as soon as the appropriate DMA channel is available and/or) 1359 SB
779 1644 1308 (any necessary map registers are available. \(This function reserves exclusive) 1308 SB
779 1694 1243 (access to a DMA channel and/or map registers for the specified device.\)) 1243 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1760 437 (IoFreeAdapterChannel) 437 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1811 1378 (Releases an adapter object, representing a system DMA channel, and optionally) 1378 SB
779 1861 774 (releases map registers, if any were allocated.) 774 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1927 388 (IoFreeMapRegisters) 388 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1978 892 (Releases a set of map registers, saved from a call to) 892 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
779 2027 506 (IoAllocateAdapterChannel) 506 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1285 2028 650 (, after the registers have been used by) 650 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
779 2077 292 (IoMapTransfer) 292 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1071 2078 796 ( and the busmaster DMA transfer is complete.) 796 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2144 392 (IoAllocateController) 392 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2195 1265 (Connects a device object to a controller object and calls a driver-supplied) 1265 SB
779 2245 1311 (function to carry out an I/O operation on the device controller as soon as the) 1311 SB
779 2295 1357 (controller is not busy. \(This function reserves exclusive access to the hardware) 1357 SB
779 2345 604 (controller for the specified device.\)) 604 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2411 323 (IoFreeController) 323 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2462 1334 (Releases a controller object, provided that all device operations queued to the) 1334 SB
779 2512 792 (controller for the current IRP have completed.) 792 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2578 252 (IoStartTimer) 252 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2629 1387 (Enables the timer for a given device object and calls the driver-supplied IoTimer) 1387 SB
779 2679 615 (function once per second thereafter.) 615 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 13 def
/wp$fpage (13) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 14 14
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 36 (14) 36 SB
324 378 9 ( ) 61 SB
385 378 9 ( ) 61 SB
446 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 241 (IoStopTimer) 241 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 1285 (Disables the timer for a given device object so the driver-supplied IoTimer) 1285 SB
692 596 1020 (function is not called unless the driver re-enables the timer.) 1020 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 662 231 (KeSetTimer) 231 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 713 1323 (Sets the absolute or relative interval at which a timer object will be set to the) 1323 SB
692 763 1302 (Signaled state and optionally supplies a timer DPC to be executed when the) 1302 SB
692 813 279 (interval expires.) 279 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 879 301 (KeCancelTimer) 301 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 930 1243 (Dequeues a timer DPC before the timer interval, if any was set, expires.) 1243 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 996 366 (KeReadStateTimer) 366 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1047 1105 (Returns whether a given timer object is set to the Signaled state.) 1105 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1113 262 (IoStartPacket) 262 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1164 1324 (Calls the driver\222s StartIo function with the given IRP, specifying whether the) 1324 SB
692 1214 1353 (IRP is cancelable for the given device object, or inserts the IRP into the device) 1353 SB
692 1264 606 (queue if the device is already busy.) 606 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1330 350 (IoStartNextPacket) 350 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1381 1360 (Dequeues the next IRP for a given device object, specifying whether the IRP is) 1360 SB
692 1431 859 (cancelable, and calls the driver\222s StartIo function.) 859 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1497 479 (IoStartNextPacketByKey) 479 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1548 1323 (Dequeues the next IRP, according to the specified sort-key value, for a given) 1323 SB
692 1598 1307 (device object, specifies whether the IRP is cancelable, and calls the driver\222s) 1307 SB
692 1648 281 (StartIo function.) 281 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1714 463 (IoSetCompletionRoutine) 463 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1765 1310 (Registers a function associated with a given IRP to be called when the next-) 1310 SB
692 1815 1348 (lower-level driver has completed the requested operation in one or more of the) 1348 SB
692 1865 1268 (following ways: successfully, with an error, and/or by cancelling the IRP.) 1268 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1931 374 (IoSetCancelRoutine) 374 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1982 1376 (Sets or resets the Cancel function in an IRP during a cancelable-state transition.) 1376 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2048 509 (KeStallExecutionProcessor) 509 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2099 1044 (Stalls the caller for a given interval on the current processor.) 1044 SB
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
259 2191 299 (1.3.2  IRQL) 299 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2286 231 (KeRaiseIrql) 231 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2337 1252 (Raises the hardware priority to a given IRQL value, thereby masking off) 1252 SB
692 2387 1105 (interrupts of equivalent or lower IRQL on the current processor.) 1105 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2453 249 (KeLowerIrql) 249 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2504 1105 (Restores the IRQL on the current processor to its original value.) 1105 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2570 350 (KeGetCurrentIrql) 350 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2621 870 (Returns the current hardware priority IRQL value.) 870 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 14 def
/wp$fpage (14) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 15 15
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1102 378 133 (Chapter ) 133 SB
1235 378 18 (1) 18 SB
1253 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1980 378 9 ( ) 63 SB
2043 378 9 ( ) 63 SB
2106 378 18 (1) 18 SB
2124 378 11 (-) 11 SB
2135 378 36 (15) 36 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
346 492 471 (1.3.3  Spin Locks) 471 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 587 497 (IoAcquireCancelSpinLock) 497 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 638 1292 (Synchronizes cancelable-state transitions for IRPs in a multiprocessor-safe) 1292 SB
779 688 1336 (manner, allowing a driver to call its Cancel function if an IRP\222s cancel flag is) 1336 SB
779 738 1357 (set, to put an IRP into a cancelable state and to set up its Cancel function, or to) 1357 SB
779 788 688 (remove the IRP from a cancelable state.) 688 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 854 374 (IoSetCancelRoutine) 374 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 905 1376 (Sets or resets the Cancel function in an IRP during a cancelable-state transition.) 1376 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 971 489 (IoReleaseCancelSpinLock) 489 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1022 1352 (Releases the cancel spin lock when the driver has changed the cancelable state) 1352 SB
779 1072 1305 (in an IRP or releases the cancel spin lock from the driver\222s Cancel function.) 1305 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1138 397 (KeInitializeSpinLock) 397 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1189 1374 (Initializes a variable of type KSPIN_LOCK, used to synchronize access to data) 1374 SB
779 1239 1280 (shared among nonISR functions. An initialized spin lock also is a required) 1280 SB
779 1289 291 (parameter to the ) 291 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1070 1288 267 (ExInterlocked) 267 SB
32 0 0 44 44 0 0 0 40 /Times-Italic /font31 ANSIFont font
1337 1289 67 (Xxx) 67 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1404 1289 180 ( functions.) 180 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1355 384 (KeAcquireSpinLock) 384 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1406 1348 (Acquires an executive spin lock so the caller can synchronize access to shared) 1348 SB
779 1456 592 (data in a multiprocessor-safe way.) 592 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1522 376 (KeReleaseSpinLock) 376 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1573 1305 (Releases an executive spin lock and restores the original IRQL at which the) 1305 SB
779 1623 330 (caller was running.) 330 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1689 610 (KeAcquireSpinLockAtDpcLevel) 610 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1740 1334 (Acquires an executive spin lock, provided that the caller is already running at) 1334 SB
779 1790 494 (IRQL DISPATCH_LEVEL.) 494 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1856 659 (KeReleaseSpinLockFromDpcLevel) 659 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1907 1042 (Releases an executive spin lock that was acquired by calling) 1042 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
779 1956 610 (KeAcquireSpinLockAtDpcLevel) 610 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1389 1957 11 (.) 11 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2023 362 (ExInterlocked..List) 362 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2074 1354 (Insert and remove IRPs in a driver-managed internal queue, which is protected) 1354 SB
779 2124 1341 (by an initialized executive spin lock for which the driver provides the storage.) 1341 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2190 383 (ExInterlocked..Zone) 383 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2241 1299 (Allocates and deallocates fixed-size entries, under spin lock control, from a) 1299 SB
779 2291 750 (driver-allocated and initialized zone buffer.) 750 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2357 324 (Ke..DeviceQueue) 324 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2408 1380 (Insert and remove IRPs in a driver-allocated and managed internal device queue) 1380 SB
779 2458 1016 (object, which is protected by a built-in executive spin lock.) 1016 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2524 458 (ExInterlockedAddUlong) 458 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2575 1373 (Adds a value to a variable of type ULONG as an atomic operation, using a spin) 1373 SB
779 2625 1322 (lock to ensure multiprocessor-safe access to the variable; returns the original) 1322 SB
779 2675 590 (\(unsummed\) value of the variable.) 590 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 15 def
/wp$fpage (15) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Italic
%%+ font Times-Roman
%%Page: 16 16
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 36 (16) 36 SB
324 378 9 ( ) 61 SB
385 378 9 ( ) 61 SB
446 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 597 (ExInterlockedAddLargeInteger) 597 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 1358 (Adds a value to a variable of type LARGE_INTEGER as an atomic operation,) 1358 SB
692 596 1330 (using a spin lock to ensure multiprocessor-safe access to the variable; returns) 1330 SB
692 646 798 (the original \(unsummed\) value of the variable.) 798 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 712 557 (ExInterlockedIncrementLong) 557 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 763 1390 (Increments a variable of type LONG as an atomic operation, using a spin lock to) 1390 SB
692 813 1295 (ensure multiprocessor-safe access to the variable; returns whether the post-) 1295 SB
692 863 782 (increment value is negative, zero, or positive.) 782 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 929 569 (ExInterlockedDecrementLong) 569 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 980 1362 (Decrements a variable of type LONG as an atomic operation, using a spin lock) 1362 SB
692 1030 1339 (to ensure multiprocessor-safe access to the variable; returns whether the post-) 1339 SB
692 1080 789 (decrement value is negative, zero, or positive.) 789 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1146 558 (ExInterlockedExchangeUlong) 558 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1197 1378 (Sets a variable of type ULONG to a given value as an atomic operation, using a) 1378 SB
692 1247 1259 (spin lock to ensure multiprocessor-safe access to the variable; returns the) 1259 SB
692 1297 510 (original value of the variable.) 510 SB
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
259 1389 351 (1.3.4  Timers) 351 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1484 320 (IoInitializeTimer) 320 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1535 1345 (Associates a timer with the given device object and registers a driver-supplied) 1345 SB
692 1585 664 (IoTimer function for the device object.) 664 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1651 252 (IoStartTimer) 252 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1702 1387 (Enables the timer for a given device object and calls the driver-supplied IoTimer) 1387 SB
692 1752 615 (function once per second thereafter.) 615 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1818 241 (IoStopTimer) 241 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1869 1285 (Disables the timer for a given device object so the driver-supplied IoTimer) 1285 SB
692 1919 1020 (function is not called unless the driver re-enables the timer.) 1020 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1985 295 (KeInitializeDpc) 295 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2036 1356 (Initializes a DPC object, to set up a driver-supplied CustomTimerDpc function) 1356 SB
692 2086 673 (that can be called with a given context.) 673 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2152 336 (KeInitializeTimer) 336 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2203 1276 (Initializes a timer object to a Not-Signaled state, optionally associating an) 1276 SB
692 2253 1361 (initialized DPC object representing a CustomTimerDpc function with the timer) 1361 SB
692 2303 116 (object.) 116 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2369 231 (KeSetTimer) 231 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2420 1323 (Sets the absolute or relative interval at which a timer object will be set to the) 1323 SB
692 2470 1302 (Signaled state and optionally supplies a timer DPC to be executed when the) 1302 SB
692 2520 279 (interval expires.) 279 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2586 301 (KeCancelTimer) 301 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2637 1243 (Dequeues a timer DPC before the timer interval, if any was set, expires.) 1243 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2703 366 (KeReadStateTimer) 366 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2754 1105 (Returns whether a given timer object is set to the Signaled state.) 1105 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 16 def
/wp$fpage (16) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 17 17
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1102 378 133 (Chapter ) 133 SB
1235 378 18 (1) 18 SB
1253 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1980 378 9 ( ) 63 SB
2043 378 9 ( ) 63 SB
2106 378 18 (1) 18 SB
2124 378 11 (-) 11 SB
2135 378 36 (17) 36 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
721 495 406 (KeQuerySystemTime) 406 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 546 556 (Returns the current system time.) 556 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 612 375 (KeQueryTickCount) 375 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 663 1299 (Returns the number of interval-timer interrupts that have occurred since the) 1299 SB
779 713 335 (system was booted.) 335 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 779 466 (KeQueryTimeIncrement) 466 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 830 1390 (Returns the number of 100-nanosecond units that are added to the system time at) 1390 SB
779 880 497 (each interval-timer interrupt.) 497 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 946 573 (KeQueryPerformanceCounter) 573 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 997 949 (Returns the system performance counter value in hertz.) 949 SB
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
346 1089 1235 (1.3.5  Driver Threads and Dispatcher Objects) 1235 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1184 486 (KeDelayExecutionThread) 486 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1235 1326 (Puts the current thread into an alertable or nonalertable wait state for a given) 1326 SB
779 1285 143 (interval.) 143 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1351 412 (ExInitializeWorkItem) 412 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1402 1251 (Initializes a work queue item with a caller-supplied context and callback) 1251 SB
779 1452 1269 (function to be queued for execution when a system worker thread is given) 1269 SB
779 1502 132 (control.) 132 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1568 369 (ExQueueWorkItem) 369 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1619 1330 (Queues an initialized work queue item so the driver-supplied function will be) 1330 SB
779 1669 906 (called when a system worker thread is given control.) 906 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1735 388 (ExInitializeResource) 388 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1786 1331 (Initializes a resource, for which the caller provides the storage, to be used for) 1331 SB
779 1836 611 (synchronization by a set of threads.) 611 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1902 551 (ExAcquireResourceExclusive) 551 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1953 1353 (Acquires an initialized resource for exclusive access by the calling thread, and) 1353 SB
779 2003 824 (optionally waits for the resource to be acquired.) 824 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2069 367 (ExReleaseResource) 367 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2120 942 (Releases a given resource that was acquired by calling) 942 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
779 2169 551 (ExAcquireResourceExclusive) 551 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1330 2170 11 (.) 11 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2236 584 (ExGetCurrentResourceThread) 584 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2287 1117 (Returns the thread ID of the current holder of the given resource.) 1117 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2353 573 (ExReleaseResourceForThread) 573 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2404 1112 (Releases a given resource that was acquired by the given thread.) 1112 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2470 343 (ExDeleteResource) 343 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2521 1257 (Releases an initialized resource for which the caller supplied the storage.) 1257 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2587 231 (KeSetTimer) 231 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2638 1323 (Sets the absolute or relative interval at which a timer object will be set to the) 1323 SB
779 2688 1302 (Signaled state and optionally supplies a timer DPC to be executed when the) 1302 SB
779 2738 279 (interval expires.) 279 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 17 def
/wp$fpage (17) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 18 18
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 36 (18) 36 SB
324 378 9 ( ) 61 SB
385 378 9 ( ) 61 SB
446 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 301 (KeCancelTimer) 301 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 1243 (Dequeues a timer DPC before the timer interval, if any was set, expires.) 1243 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 612 366 (KeReadStateTimer) 366 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 663 1105 (Returns whether a given timer object is set to the Signaled state.) 1105 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 729 223 (KeSetEvent) 223 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 780 1269 (Returns the previous state of a given event object and sets the event to the) 1269 SB
692 830 1357 (Signaled state \(incrementing the state value if the event was already Signaled\).) 1357 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 896 268 (KeResetEvent) 268 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 947 1303 (Returns the previous state of a given event object and resets the event to the) 1303 SB
692 997 332 (Not-Signaled state.) 332 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1063 358 (KeReadStateEvent) 358 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1114 1334 (Returns the current state \(nonzero for Signaled or zero for Not-Signaled\) of a) 1334 SB
692 1164 324 (given event object.) 324 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1230 319 (KeReleaseMutex) 319 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1281 1373 (Releases a given mutex object, specifying whether the caller will call one of the) 1373 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
692 1330 148 (KeWait) 148 SB
32 0 0 44 44 0 0 0 40 /Times-Italic /font31 ANSIFont font
840 1331 67 (Xxx) 67 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
907 1331 367 ( functions as soon as ) 367 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1274 1330 319 (KeReleaseMutex) 319 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1593 1331 456 ( returns the previous value) 456 SB
692 1381 1128 (of the mutex state \(a zero for Signaled; otherwise, Not-Signaled\).) 1128 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1447 370 (KeReadStateMutex) 370 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1498 1370 (Returns the current state \(one for Signaled or any other value for Not-Signaled\)) 1370 SB
692 1548 415 (of a given mutex object.) 415 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1614 409 (KeReleaseSemaphore) 409 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1665 1298 (Releases a given semaphore object, supplying a \(runtime\) priority boost for) 1298 SB
692 1715 1202 (waiting threads if the release sets the semaphore to the Signaled state,) 1202 SB
692 1765 1342 (augmenting the semaphore count by a given value, and specifying whether the) 1342 SB
692 1815 441 (caller will call one of the ) 441 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1133 1814 148 (KeWait) 148 SB
32 0 0 44 44 0 0 0 40 /Times-Italic /font31 ANSIFont font
1281 1815 67 (Xxx) 67 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1348 1815 356 ( functions as soon as) 356 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
692 1864 409 (KeReleaseSemaphore) 409 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1101 1865 142 ( returns.) 142 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1931 460 (KeReadStateSemaphore) 460 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1982 1389 (Returns the current state \(zero for Not-Signaled or a positive value for Signaled\)) 1389 SB
692 2032 494 (of a given semaphore object.) 494 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2098 457 (KeWaitForSingleObject) 457 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2149 1369 (Puts the current thread into an alertable or non-alertable wait state until a given) 1369 SB
692 2199 1353 (dispatcher object is set to the Signaled state or \(optionally\) until the wait times) 1353 SB
692 2249 65 (out.) 65 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2315 521 (KeWaitForMultipleObjects) 521 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2366 1378 (Puts the current thread into an alertable or non-alertable wait state until any one) 1378 SB
692 2416 1206 (or all of a number of dispatcher objects are set to the Signaled state or) 1206 SB
692 2466 620 (\(optionally\) until the wait times out.) 620 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2532 403 (IoGetCurrentProcess) 403 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2583 926 (Returns a handle for the process of the current thread.) 926 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 18 def
/wp$fpage (18) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Italic
%%+ font Times-Roman
%%Page: 19 19
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1102 378 133 (Chapter ) 133 SB
1235 378 18 (1) 18 SB
1253 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1980 378 9 ( ) 63 SB
2043 378 9 ( ) 63 SB
2106 378 18 (1) 18 SB
2124 378 11 (-) 11 SB
2135 378 36 (19) 36 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 83 83 0 0 0 79 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
346 491 395 (1.4  Memory) 395 SB
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
346 630 1170 (1.4.1  Temporary Buffers and Zone Entries) 1170 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 725 287 (ExAllocatePool) 287 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 776 1336 (Allocates \(optionally cache-aligned\) memory from paged or nonpaged system) 1336 SB
779 826 107 (space.) 107 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 892 498 (ExAllocatePoolWithQuota) 498 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 943 1360 (Allocates pool memory charging quota against the original requestor of the I/O) 1360 SB
779 993 1044 (operation. \(Only highest-level drivers can call this function.\)) 1044 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1059 218 (ExFreePool) 218 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1110 930 (Releases memory to paged or nonpaged system space.) 930 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1176 308 (ExInitializeZone) 308 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1227 1335 (Initializes a zone buffer header, setting up the fixed size for every block to be) 1335 SB
779 1277 415 (allocated from the zone.) 415 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1343 403 (ExAllocateFromZone) 403 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1394 1007 (Allocates a fixed-size block of storage from a zone buffer.) 1007 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1460 281 (ExFreeToZone) 281 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1511 1336 (Returns a previously allocated, fixed-size block in a zone buffer to the zone\222s) 1336 SB
779 1561 252 (free-block list.) 252 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1627 251 (ExIsFullZone) 251 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1678 1379 (Determines whether all fixed-size blocks have been allocated from a given zone) 1379 SB
779 1728 116 (buffer.) 116 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1794 620 (ExInterlockedAllocateFromZone) 620 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1845 1292 (Allocates a fixed-size block from a zone buffer, using a spin lock to ensure) 1292 SB
779 1895 955 (multiprocessor-safe access to the zone\222s free-block list.) 955 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1961 498 (ExInterlockedFreeToZone) 498 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2012 1232 (Releases a fixed-size block in a zone buffer, using a spin lock to ensure) 1232 SB
779 2062 955 (multiprocessor-safe access to the zone\222s free-block list.) 955 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2128 276 (ExExtendZone) 276 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2179 1345 (Extends an existing zone buffer by allocating a block-size-granular amount of) 1345 SB
779 2229 1226 (additional memory, which is not released until the machine is rebooted.) 1226 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2295 407 (MmQuerySystemSize) 407 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2346 1373 (Returns whether the machine has a small, medium, or large amount of available) 1373 SB
779 2396 151 (memory.) 151 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 19 def
/wp$fpage (19) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 20 20
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 36 (20) 36 SB
324 378 9 ( ) 61 SB
385 378 9 ( ) 61 SB
446 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 492 1078 (1.4.2  Long-term Internal Driver Buffers) 1078 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 587 606 (MmAllocateContiguousMemory) 606 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 638 1363 (Allocates a range of physically contiguous, cache-aligned memory in nonpaged) 1363 SB
692 688 86 (pool.) 86 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 754 537 (MmFreeContiguousMemory) 537 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 805 1306 (Releases a range of physically contiguous memory when the driver unloads.) 1306 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 871 613 (MmAllocateNonCachedMemory) 613 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 922 1323 (Allocates a virtual address range of noncached and cache-aligned memory in) 1323 SB
692 972 528 (nonpaged system space \(pool\).) 528 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1038 544 (MmFreeNonCachedMemory) 544 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1089 1294 (Releases a virtual address range of noncached memory in nonpaged system) 1294 SB
692 1139 531 (space when the driver unloads.) 531 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1205 515 (HalAllocateCommonBuffer) 515 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1256 1159 (Allocates and maps a logically contiguous region of memory that is) 1159 SB
692 1306 1299 (simultaneously accessible both from the processor and from a device, given) 1299 SB
692 1356 1253 (access to an adapter object, the requested length of the memory region to) 1253 SB
692 1406 1376 (allocate, and access to variables where the starting logical and virtual addresses) 1376 SB
692 1456 1385 (of the allocated region are returned. This function returns TRUE if the requested) 1385 SB
692 1506 1277 (length was allocated. It can be used for continuous busmaster DMA or for) 1277 SB
692 1556 1246 (system DMA using the autoinitialize mode of a system DMA controller.) 1246 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1622 446 (HalFreeCommonBuffer) 446 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1673 1379 (Releases an allocated common buffer and unmaps it, given access to the adapter) 1379 SB
692 1723 1359 (object, the length, and the starting logical and virtual addresses of the region to) 1359 SB
692 1773 1391 (be freed when the driver unloads. Arguments must match those passed in the call) 1391 SB
692 1823 44 (to ) 44 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
736 1822 515 (HalAllocateCommonBuffer) 515 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1251 1823 11 (.) 11 SB
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
259 1915 1198 (1.4.3  Buffered Data and Buffer Initialization) 1198 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2010 397 (RtlCompareMemory) 397 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2061 1366 (Compares data, given pointers to caller-supplied buffers and the length in bytes) 1366 SB
692 2111 1118 (for the comparison. Returns the number of bytes that were equal.) 1118 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2177 327 (RtlMoveMemory) 327 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2228 1307 (Copies the data from one caller-supplied buffer to another, given pointers to) 1307 SB
692 2278 839 (both buffers and the length in bytes to be copied.) 839 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2344 283 (RtlFillMemory) 283 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2395 1352 (Fills a caller-supplied buffer with the specified UCHAR value, given a pointer) 1352 SB
692 2445 819 (to the buffer and the length in bytes to be filled.) 819 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2511 312 (RtlZeroMemory) 312 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2562 1319 (Fills a buffer with zeros, given a pointer to the caller-supplied buffer and the) 1319 SB
692 2612 460 (length in bytes to be filled.) 460 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 20 def
/wp$fpage (20) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 21 21
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1102 378 133 (Chapter ) 133 SB
1235 378 18 (1) 18 SB
1253 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1980 378 9 ( ) 63 SB
2043 378 9 ( ) 63 SB
2106 378 18 (1) 18 SB
2124 378 11 (-) 11 SB
2135 378 36 (21) 36 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
721 495 289 (RtlStoreUshort) 289 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 546 1218 (Stores a USHORT value at a given address, avoiding alignment faults.) 1218 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 612 349 (RtlRetrieveUshort) 349 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 663 1346 (Retrieves a USHORT value at a given address, avoiding alignment faults, and) 1346 SB
779 713 1156 (stores the value at a given address, which is assumed to be aligned.) 1156 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 779 271 (RtlStoreUlong) 271 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 830 1197 (Stores a ULONG value at a given address, avoiding alignment faults.) 1197 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 896 331 (RtlRetrieveUlong) 331 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 947 1325 (Retrieves a ULONG value at a given address, avoiding alignment faults, and) 1325 SB
779 997 1156 (stores the value at a given address, which is assumed to be aligned.) 1156 SB
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
346 1089 977 (1.4.4  Address Mappings and MDLs) 977 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1184 472 (HalTranslateBusAddress) 472 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1235 1354 (Returns the corresponding physical address in system memory for a given bus-) 1354 SB
779 1285 413 (specific logical address.) 413 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1351 455 (MmGetPhysicalAddress) 455 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1402 1317 (Returns the corresponding physical address for a given valid virtual address.) 1317 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1468 514 (MmGetMdlVirtualAddress) 514 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1519 1318 (Returns a \(possibly invalid\) virtual address for a buffer described by a given) 1318 SB
779 1569 1349 (MDL; the returned address, used as an index to a physical address entry in the) 1349 SB
779 1619 384 (MDL, can be input to ) 384 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1163 1618 292 (IoMapTransfer) 292 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1455 1619 460 ( for drivers that use DMA.) 460 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1685 581 (MmGetSystemAddressForMdl) 581 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1736 1349 (Returns a system-space virtual address that maps the physical pages described) 1349 SB
779 1786 991 (by a given MDL for drivers whose devices must use PIO.) 991 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1852 598 (MmBuildMdlForNonPagedPool) 598 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1903 1328 (Fills in the corresponding physical addresses of a given MDL that specifies a) 1328 SB
779 1953 760 (range of virtual addresses in nonpaged pool.) 760 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2019 427 (MmGetMdlByteCount) 427 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2070 1139 (Returns the length in bytes of the buffer mapped by a given MDL.) 1139 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2136 412 (MmMapLockedPages) 412 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2187 1348 (Maps already locked physical pages, described by a given MDL, to a returned) 1348 SB
779 2237 372 (virtual address range.) 372 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2303 461 (MmUnmapLockedPages) 461 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2354 519 (Releases a mapping set up by ) 519 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1298 2353 412 (MmMapLockedPages) 412 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1710 2354 11 (.) 11 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2420 367 (MmIsAddressValid) 367 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2471 1325 (Returns whether a page fault will occur if a read or write is done at the given) 1325 SB
779 2521 265 (virtual address.) 265 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2587 692 (MmIsNonPagedSystemAddressValid) 692 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2638 1191 (Returns whether a given virtual address is in nonpaged system space.) 1191 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 21 def
/wp$fpage (21) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 22 22
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 36 (22) 36 SB
324 378 9 ( ) 61 SB
385 378 9 ( ) 61 SB
446 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 279 (MmSizeOfMdl) 279 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 1231 (Returns the number of bytes required for an MDL describing the buffer) 1231 SB
692 596 988 (specified by the given virtual address and length in bytes.) 988 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 662 285 (MmCreateMdl) 285 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 713 1300 (Allocates and initializes an MDL describing a buffer specified by the given) 1300 SB
692 763 1122 (virtual address and length in bytes; returns a pointer to the MDL.) 1122 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 829 320 (MmInitializeMdl) 320 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 880 1291 (Initializes a caller-created MDL to describe a buffer specified by the given) 1291 SB
692 930 601 (virtual address and length in bytes.) 601 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 996 488 (MmPrepareMdlForReuse) 488 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1047 778 (Reinitializes a caller-created MDL for reuse.) 778 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1113 315 (MmMapIoSpace) 315 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1164 1391 (Maps a physical address range to a cached or noncached virtual address range in) 1391 SB
692 1214 412 (nonpaged system space.) 412 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1280 364 (MmUnmapIoSpace) 364 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1331 1082 (Unmaps a virtual address range from a physical address range.) 1082 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1397 471 (MmProbeAndLockPages) 471 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1448 1377 (Probes the pages specified in an MDL for a particular kind of access, makes the) 1377 SB
692 1498 1267 (pages resident, and locks them in memory; returns the MDL updated with) 1267 SB
692 1548 586 (corresponding physical addresses.) 586 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1614 318 (MmUnlockPages) 318 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1665 1212 (Unlocks the previously probed and locked pages specified in an MDL.) 1212 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1731 272 (IoAllocateMdl) 272 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1782 1374 (Allocates an MDL large enough to map the starting address and length supplied) 1374 SB
692 1832 887 (by the caller; optionally chains the MDL to an IRP.) 887 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1898 347 (IoBuildPartialMdl) 347 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1949 1303 (Builds an MDL for the specified starting virtual address and length in bytes) 1303 SB
692 1999 1266 (from a given source MDL. Drivers that split large transfer requests into a) 1266 SB
692 2049 856 (number of smaller transfers can call this function.) 856 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2115 203 (IoFreeMdl) 203 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2166 407 (Releases a given MDL.) 407 SB
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
259 2258 966 (1.4.5  Buffer and MDL Management) 966 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2353 832 (ADDRESS_AND_SIZE_TO_SPAN_PAGES) 832 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2404 1382 (Returns the number of pages required to contain a given virtual address and size) 1382 SB
692 2454 146 (in bytes.) 146 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2520 310 (BYTE_OFFSET) 310 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2571 1123 (Returns the byte offset of a given virtual address within the page.) 1123 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2637 396 (BYTES_TO_PAGES) 396 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2688 1289 (Returns the number of pages necessary to contain a given number of bytes.) 1289 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 22 def
/wp$fpage (22) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 23 23
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1102 378 133 (Chapter ) 133 SB
1235 378 18 (1) 18 SB
1253 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1980 378 9 ( ) 63 SB
2043 378 9 ( ) 63 SB
2106 378 18 (1) 18 SB
2124 378 11 (-) 11 SB
2135 378 36 (23) 36 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
721 495 287 (PAGE_ALIGN) 287 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 546 1277 (Returns the page-aligned virtual address for the page that contains a given) 1277 SB
779 596 265 (virtual address.) 265 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 662 414 (ROUND_TO_PAGES) 414 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 713 936 (Rounds a give size in bytes up to a page-size multiple.) 936 SB
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
346 805 804 (1.4.6  Device Memory Access) 804 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
721 901 321 (For the following, ) 321 SB
32 0 0 44 44 0 0 0 41 /Times-BoldItalic /font30 ANSIFont font
1042 900 87 (XXX) 87 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1129 900 270 (_REGISTER_) 270 SB
32 0 0 44 44 0 0 0 41 /Times-BoldItalic /font30 ANSIFont font
1399 900 87 (XXX) 87 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1486 900 11 ( ) 11 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1497 901 542 (indicates device memory that is) 542 SB
721 951 584 (mapped onto system space, while ) 584 SB
32 0 0 44 44 0 0 0 41 /Times-BoldItalic /font30 ANSIFont font
1305 950 87 (XXX) 87 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1392 950 165 (_PORT_) 165 SB
32 0 0 44 44 0 0 0 41 /Times-BoldItalic /font30 ANSIFont font
1557 950 87 (XXX) 87 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1644 950 11 ( ) 11 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1655 951 470 (indicates device memory in) 470 SB
721 1001 176 (I/O space.) 176 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1083 452 (READ_PORT_UCHAR) 452 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1134 966 (Reads a UCHAR value from the given I/O port address.) 966 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1200 475 (READ_PORT_USHORT) 475 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1251 988 (Reads a USHORT value from the given I/O port address.) 988 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1317 451 (READ_PORT_ULONG) 451 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1368 967 (Reads a ULONG value from the given I/O port address.) 967 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1434 649 (READ_PORT_BUFFER_UCHAR) 649 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1485 1300 (Reads a given count of UCHAR values from the given I/O port into a given) 1300 SB
779 1535 116 (buffer.) 116 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1601 672 (READ_PORT_BUFFER_USHORT) 672 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1652 1322 (Reads a given count of USHORT values from the given I/O port into a given) 1322 SB
779 1702 116 (buffer.) 116 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1768 648 (READ_PORT_BUFFER_ULONG) 648 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1819 1301 (Reads a given count of ULONG values from the given I/O port into a given) 1301 SB
779 1869 116 (buffer.) 116 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1935 478 (WRITE_PORT_UCHAR) 478 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1986 1033 (Writes a given UCHAR value to the given I/O port address.) 1033 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2052 501 (WRITE_PORT_USHORT) 501 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2103 1055 (Writes a given USHORT value to the given I/O port address.) 1055 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2169 477 (WRITE_PORT_ULONG) 477 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2220 1034 (Writes a given ULONG value to the given I/O port address.) 1034 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2286 675 (WRITE_PORT_BUFFER_UCHAR) 675 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2337 1314 (Writes a given count of UCHAR values from a given buffer to the given I/O) 1314 SB
779 2387 80 (port.) 80 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2453 698 (WRITE_PORT_BUFFER_USHORT) 698 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2504 1336 (Writes a given count of USHORT values from a given buffer to the given I/O) 1336 SB
779 2554 80 (port.) 80 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2620 674 (WRITE_PORT_BUFFER_ULONG) 674 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2671 1315 (Writes a given count of ULONG values from a given buffer to the given I/O) 1315 SB
779 2721 80 (port.) 80 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 23 def
/wp$fpage (23) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-BoldItalic
%%+ font Times-Roman
%%Page: 24 24
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 36 (24) 36 SB
324 378 9 ( ) 61 SB
385 378 9 ( ) 61 SB
446 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 557 (READ_REGISTER_UCHAR) 557 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 1260 (Reads a UCHAR value from the given register address in memory space.) 1260 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 612 580 (READ_REGISTER_USHORT) 580 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 663 1282 (Reads a USHORT value from the given register address in memory space.) 1282 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 729 556 (READ_REGISTER_ULONG) 556 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 780 1261 (Reads a ULONG value from the given register address in memory space.) 1261 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 846 754 (READ_REGISTER_BUFFER_UCHAR) 754 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 897 1360 (Reads a given count of UCHAR values from the given register address into the) 1360 SB
692 947 221 (given buffer.) 221 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1013 777 (READ_REGISTER_BUFFER_USHORT) 777 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1064 1382 (Reads a given count of USHORT values from the given register address into the) 1382 SB
692 1114 221 (given buffer.) 221 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1180 753 (READ_REGISTER_BUFFER_ULONG) 753 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1231 1361 (Reads a given count of ULONG values from the given register address into the) 1361 SB
692 1281 221 (given buffer.) 221 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1347 583 (WRITE_REGISTER_UCHAR) 583 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1398 1327 (Writes a given UCHAR value to the given register address in memory space.) 1327 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1464 606 (WRITE_REGISTER_USHORT) 606 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1515 1349 (Writes a given USHORT value to the given register address in memory space.) 1349 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1581 582 (WRITE_REGISTER_ULONG) 582 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1632 1328 (Writes a given ULONG value to the given register address in memory space.) 1328 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1698 780 (WRITE_REGISTER_BUFFER_UCHAR) 780 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1749 1386 (Writes a given count of UCHAR values from a given buffer to the given register) 1386 SB
692 1799 141 (address.) 141 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1865 803 (WRITE_REGISTER_BUFFER_USHORT) 803 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1916 1267 (Writes a given count of USHORT values from a given buffer to the given) 1267 SB
692 1966 282 (register address.) 282 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2032 779 (WRITE_REGISTER_BUFFER_ULONG) 779 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2083 1387 (Writes a given count of ULONG values from a given buffer to the given register) 1387 SB
692 2133 141 (address.) 141 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 24 def
/wp$fpage (24) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 25 25
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1102 378 133 (Chapter ) 133 SB
1235 378 18 (1) 18 SB
1253 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1980 378 9 ( ) 63 SB
2043 378 9 ( ) 63 SB
2106 378 18 (1) 18 SB
2124 378 11 (-) 11 SB
2135 378 36 (25) 36 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 71 71 0 0 0 68 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
346 492 702 (1.4.7  Sections and Views) 702 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 587 485 (InitializeObjectAttributes) 485 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 638 1370 (Sets up a parameter of type OBJECT_ATTRIBUTES for a subsequent call to a) 1370 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
779 687 188 (ZwCreate) 188 SB
32 0 0 44 44 0 0 0 40 /Times-Italic /font31 ANSIFont font
967 688 67 (Xxx) 67 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1034 688 58 ( or ) 58 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1092 687 160 (ZwOpen) 160 SB
32 0 0 44 44 0 0 0 40 /Times-Italic /font31 ANSIFont font
1252 688 67 (Xxx) 67 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1319 688 163 ( function.) 163 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 754 296 (ZwOpenSection) 296 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 805 1365 (Obtains a handle for an existing section, provided that the requested access can) 1365 SB
779 855 192 (be granted.) 192 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 921 424 (ZwMapViewOfSection) 424 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 972 1390 (Maps a view of an open section into the virtual address space of a given process.) 1390 SB
779 1022 1248 (Returns an offset into the section \(base of the mapped view\) and the size) 1248 SB
779 1072 145 (mapped.) 145 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1138 479 (ZwUnMapViewOfSection) 479 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1189 1266 (Releases a mapped view in the virtual address space of the given process.) 1266 SB
32 0 0 83 83 0 0 0 79 /Helvetica-Narrow-Bold /font16 ANSIFont font
346 1293 288 (1.5  DMA) 288 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1406 294 (HalGetAdapter) 294 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1457 1361 (Returns a pointer to the adapter object representing the DMA channel to which) 1361 SB
779 1507 1358 (the driver\222s device is connected or representing the driver\222s busmaster adapter,) 1358 SB
779 1557 1344 (together with the maximum number of map registers the driver can specify for) 1344 SB
779 1607 947 (each DMA transfer, given the input device description.) 947 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1673 333 (KeFlushIoBuffers) 333 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1724 1295 (Flushes the memory region described by a given MDL from all processors\222) 1295 SB
779 1774 354 (caches into memory.) 354 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1840 506 (IoAllocateAdapterChannel) 506 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1891 1288 (\223Connects\224 a device object to an adapter object and calls a driver-supplied) 1288 SB
779 1941 1349 (function to carry out an I/O operation through the system DMA controller or a) 1349 SB
779 1991 1359 (busmaster adapter as soon as the appropriate DMA channel is available and/or) 1359 SB
779 2041 1308 (any necessary map registers are available. \(This function reserves exclusive) 1308 SB
779 2091 1243 (access to a DMA channel and/or map registers for the specified device.\)) 1243 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2157 514 (MmGetMdlVirtualAddress) 514 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2208 1318 (Returns a \(possibly invalid\) virtual address for a buffer described by a given) 1318 SB
779 2258 1349 (MDL; the returned address, used as an index to a physical address entry in the) 1349 SB
779 2308 384 (MDL, can be input to ) 384 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1163 2307 292 (IoMapTransfer) 292 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1455 2308 11 (.) 11 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2374 832 (ADDRESS_AND_SIZE_TO_SPAN_PAGES) 832 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2425 1382 (Returns the number of pages required to contain a given virtual address and size) 1382 SB
779 2475 1368 (in bytes. \(This macro can be used to determine whether a given transfer request) 1368 SB
779 2525 606 (must be split into partial transfers.\)) 606 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 25 def
/wp$fpage (25) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Italic
%%+ font Times-Roman
%%Page: 26 26
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 36 (26) 36 SB
324 378 9 ( ) 61 SB
385 378 9 ( ) 61 SB
446 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 292 (IoMapTransfer) 292 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 943 (Sets up map registers \(up to the maximum returned by ) 943 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1635 545 294 (HalGetAdapter) 294 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1929 546 139 (\) for the) 139 SB
692 596 873 (given adapter object \(already allocated by a call to) 873 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
692 645 506 (IoAllocateAdapterChannel) 506 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1198 646 791 (\) to map a transfer from a locked-down buffer) 791 SB
692 696 1350 (specified by an MDL, starting address, and length. Returns the logical address) 1350 SB
692 746 1367 (of the mapped region and, for busmaster devices that support scatter/gather, the) 1367 SB
692 796 434 (number of bytes mapped.) 434 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 862 435 (IoFlushAdapterBuffers) 435 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 913 1240 (Forces any data remaining in a busmaster adapter\222s or the system DMA) 1240 SB
692 963 1319 (controller\222s internal buffers to be written into memory or to the device, if the) 1319 SB
692 1013 1384 (caller currently \223owns\224 the adapter object, or terminates a transfer in progress if) 1384 SB
692 1063 906 (the driver detects a time-out or other error condition.) 906 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1129 437 (IoFreeAdapterChannel) 437 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1180 1378 (Releases an adapter object, representing a system DMA channel, and optionally) 1378 SB
692 1230 774 (releases map registers, if any were allocated.) 774 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1296 388 (IoFreeMapRegisters) 388 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1347 892 (Releases a set of map registers, saved from a call to) 892 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
692 1396 506 (IoAllocateAdapterChannel) 506 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1198 1397 857 (, after the registers have been used in one or more) 857 SB
692 1447 135 (calls to ) 135 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
827 1446 292 (IoMapTransfer) 292 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1119 1447 796 ( and the busmaster DMA transfer is complete.) 796 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1513 411 (HalReadDmaCounter) 411 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1564 1297 (Returns how many bytes remain to be transferred during the current system) 1297 SB
692 1614 1298 (DMA operation \(autoinitialize mode\), given a pointer to the adapter object.) 1298 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1680 515 (HalAllocateCommonBuffer) 515 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1731 1159 (Allocates and maps a logically contiguous region of memory that is) 1159 SB
692 1781 1299 (simultaneously accessible both from the processor and from a device, given) 1299 SB
692 1831 1253 (access to an adapter object, the requested length of the memory region to) 1253 SB
692 1881 1376 (allocate, and access to variables where the starting logical and virtual addresses) 1376 SB
692 1931 1385 (of the allocated region are returned. This function returns TRUE if the requested) 1385 SB
692 1981 363 (length was allocated.) 363 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2047 446 (HalFreeCommonBuffer) 446 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2098 1379 (Releases an allocated common buffer and unmaps it, given access to the adapter) 1379 SB
692 2148 1359 (object, the length, and the starting logical and virtual addresses of the region to) 1359 SB
692 2198 1205 (be freed. \(Arguments must match those passed in the preceding call to) 1205 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
692 2247 515 (HalAllocateCommonBuffer) 515 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1207 2248 26 (.\)) 26 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 26 def
/wp$fpage (26) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 27 27
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1102 378 133 (Chapter ) 133 SB
1235 378 18 (1) 18 SB
1253 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1980 378 9 ( ) 63 SB
2043 378 9 ( ) 63 SB
2106 378 18 (1) 18 SB
2124 378 11 (-) 11 SB
2135 378 36 (27) 36 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 83 83 0 0 0 79 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
346 491 250 (1.6  PIO) 250 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 604 471 (MmProbeAndLockPages) 471 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 655 1377 (Probes the pages specified in an MDL for a particular kind of access, makes the) 1377 SB
779 705 1267 (pages resident, and locks them in memory; returns the MDL updated with) 1267 SB
779 755 586 (corresponding physical addresses.) 586 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 821 581 (MmGetSystemAddressForMdl) 581 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 872 1349 (Returns a system-space virtual address that maps the physical pages described) 1349 SB
779 922 991 (by a given MDL for drivers whose devices must use PIO.) 991 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 988 318 (MmUnlockPages) 318 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1039 1212 (Unlocks the previously probed and locked pages specified in an MDL.) 1212 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1105 315 (MmMapIoSpace) 315 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1156 1391 (Maps a physical address range to a cached or noncached virtual address range in) 1391 SB
779 1206 412 (nonpaged system space.) 412 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1272 364 (MmUnmapIoSpace) 364 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1323 1082 (Unmaps a virtual address range from a physical address range.) 1082 SB
32 0 0 83 83 0 0 0 79 /Helvetica-Narrow-Bold /font16 ANSIFont font
346 1427 923 (1.7  Driver-managed Queues) 923 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1540 397 (KeInitializeSpinLock) 397 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1591 1257 (Initializes a variable of type KSPIN_LOCK. An initialized spin lock is a) 1257 SB
779 1641 446 (required parameter to the ) 446 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1225 1640 362 (Ex..InterlockedList) 362 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1587 1641 180 ( functions.) 180 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1707 337 (InitializeListHead) 337 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1758 1341 (Sets up a queue header for a driver\222s internal queue, given a pointer to driver-) 1341 SB
779 1808 1366 (supplied storage for the queue header and queue. An initialized queue header is) 1366 SB
779 1858 477 (a required parameter to the ) 477 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1256 1857 362 (Ex..InterlockedList) 362 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1618 1858 180 ( functions.) 180 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1924 527 (ExInterlockedInsertTailList) 527 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1975 1304 (Inserts an entry at the tail of a doubly linked list, using a spin lock to ensure) 1304 SB
779 2025 1338 (multiprocessor-safe access to the list and atomic modification of the list links.) 1338 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2091 552 (ExInterlockedInsertHeadList) 552 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2142 1329 (Inserts an entry at the head of a doubly linked list, using a spin lock to ensure) 1329 SB
779 2192 1338 (multiprocessor-safe access to the list and atomic modification of the list links.) 1338 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2258 592 (ExInterlockedRemoveHeadList) 592 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2309 1299 (Removes an entry from the head of a doubly linked list, using a spin lock to) 1299 SB
779 2359 1356 (ensure multiprocessor-safe access to the list and atomic modification of the list) 1356 SB
779 2409 94 (links.) 94 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2475 521 (ExInterlockedPopEntryList) 521 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2526 1341 (Removes an entry from the head of a singly linked list as an atomic operation,) 1341 SB
779 2576 1110 (using a spin lock to ensure multiprocessor-safe access to the list.) 1110 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2642 538 (ExInterlockedPushEntryList) 538 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2693 1382 (Inserts an entry at the head of a singly linked list as an atomic operation, using a) 1382 SB
779 2743 976 (spin lock to ensure multiprocessor-safe access to the list.) 976 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 27 def
/wp$fpage (27) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 28 28
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 36 (28) 36 SB
324 378 9 ( ) 61 SB
385 378 9 ( ) 61 SB
446 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 233 (IsListEmpty) 233 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 1334 (Returns whether a queue is empty, given its initialized list head. \(This type of) 1334 SB
692 596 1298 (doubly linked list is not protected by a spin lock, unless the caller explicitly) 1298 SB
692 646 1289 (manages synchronization to queued entries with an initialized spin lock for) 1289 SB
692 696 651 (which the caller supplies the storage.\)) 651 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 762 260 (InsertTailList) 260 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 813 691 (Queues an entry at the end of the queue.) 691 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 879 285 (InsertHeadList) 285 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 930 711 (Queues an entry at the head of the queue.) 711 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 996 325 (RemoveHeadList) 325 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1047 752 (Dequeues an entry at the head of the queue.) 752 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1113 300 (RemoveTailList) 300 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1164 732 (Dequeues an entry at the end of the queue.) 732 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1230 334 (RemoveEntryList) 334 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1281 1360 (Returns whether a given entry is in the given queue and dequeues the entry if it) 1360 SB
692 1331 40 (is.) 40 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1397 271 (PushEntryList) 271 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1448 1387 (Inserts an entry into the queue. \(This type of singly linked list is not protected by) 1387 SB
692 1498 1283 (a spin lock, unless the caller explicitly manages synchronization to queued) 1283 SB
692 1548 1327 (entries with an initialized spin lock for which the caller supplies the storage.\)) 1327 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1614 254 (PopEntryList) 254 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1665 589 (Removes an entry from the queue.) 589 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1731 466 (KeInitializeDeviceQueue) 466 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1782 1392 (Initializes a device queue object to a not-busy state, setting up an associated spin) 1392 SB
692 1832 1022 (lock for multiprocessor-safe access to device queue entries.) 1022 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1898 414 (KeInsertDeviceQueue) 414 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1949 1385 (Acquires the device queue spin lock and queues an entry to a device driver if the) 1385 SB
692 1999 1336 (device queue is not empty; otherwise, inserts the entry at the tail of the device) 1336 SB
692 2049 113 (queue.) 113 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2115 543 (KeInsertByKeyDeviceQueue) 543 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2166 1385 (Acquires the device queue spin lock and queues an entry to a device driver if the) 1385 SB
692 2216 1365 (device queue is not empty; otherwise, inserts the entry into the queue according) 1365 SB
692 2266 468 (to the given sort-key value.) 468 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2332 454 (KeRemoveDeviceQueue) 454 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2383 985 (Removes an entry from the head of a given device queue.) 985 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2449 583 (KeRemoveByKeyDeviceQueue) 583 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2500 1344 (Removes an entry, selected according to the specified sort-key value, from the) 1344 SB
692 2550 340 (given device queue.) 340 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2616 563 (KeRemoveEntryDeviceQueue) 563 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2667 1250 (Determines whether a given entry is in the given device queue and, if so,) 1250 SB
692 2717 332 (dequeues the entry.) 332 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 28 def
/wp$fpage (28) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 29 29
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1102 378 133 (Chapter ) 133 SB
1235 378 18 (1) 18 SB
1253 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1980 378 9 ( ) 63 SB
2043 378 9 ( ) 63 SB
2106 378 18 (1) 18 SB
2124 378 11 (-) 11 SB
2135 378 36 (29) 36 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 83 83 0 0 0 79 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
346 491 876 (1.8  Driver System Threads) 876 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 604 444 (PsCreateSystemThread) 444 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 655 1372 (Creates a kernel-mode thread associated with a given process object or with the) 1372 SB
779 705 941 (default system process; returns a handle for the thread.) 941 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 771 512 (PsTerminateSystemThread) 512 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 822 1312 (Terminates the current thread and satisfies as many waits as possible for the) 1312 SB
779 872 368 (current thread object.) 368 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 938 403 (PsGetCurrentThread) 403 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 989 677 (Returns a handle for the current thread.) 677 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1055 490 (KeSetBasePriorityThread) 490 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1106 1356 (Sets up the runtime priority, relative to the system process, for a driver-created) 1356 SB
779 1156 119 (thread.) 119 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1222 401 (KeSetPriorityThread) 401 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1273 1361 (Sets up the runtime priority for a driver-created thread with a real-time priority) 1361 SB
779 1323 156 (attribute.) 156 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1389 486 (KeDelayExecutionThread) 486 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1440 1341 (Puts the current thread into an alertable or non-alertable wait state for a given) 1341 SB
779 1490 143 (interval.) 143 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1556 412 (ExInitializeWorkItem) 412 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1607 1251 (Initializes a work queue item with a caller-supplied context and callback) 1251 SB
779 1657 1269 (function to be queued for execution when a system worker thread is given) 1269 SB
779 1707 132 (control.) 132 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1773 369 (ExQueueWorkItem) 369 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1824 1330 (Queues an initialized work queue item so the driver-supplied function will be) 1330 SB
779 1874 906 (called when a system worker thread is given control.) 906 SB
32 0 0 83 83 0 0 0 79 /Helvetica-Narrow-Bold /font16 ANSIFont font
346 1978 368 (1.9  Strings) 368 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2091 242 (RtlInitString) 242 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2142 664 (Sets up the specified string in a buffer.) 664 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2208 326 (RtlInitAnsiString) 326 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2259 776 (Sets up the specified ANSI string in a buffer.) 776 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2325 395 (RtlInitUnicodeString) 395 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2376 819 (Sets up the specified Unicode string in a buffer.) 819 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2442 538 (RtlAnsiStringToUnicodeSize) 538 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2493 1368 (Returns the size in bytes required to hold a Unicode version of a given buffered) 1368 SB
779 2543 221 (ANSI string.) 221 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 29 def
/wp$fpage (29) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 30 30
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 36 (30) 36 SB
324 378 9 ( ) 61 SB
385 378 9 ( ) 61 SB
446 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 579 (RtlAnsiStringToUnicodeString) 579 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 1288 (Converts a buffered ANSI string to a Unicode string, given a pointer to the) 1288 SB
692 596 1335 (source-string buffer and the address of caller-supplied storage for a pointer to) 1335 SB
692 646 1349 (the destination buffer. \(This function allocates a destination buffer if the caller) 1349 SB
692 696 492 (does not supply the storage.\)) 492 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 762 414 (RtlFreeUnicodeString) 414 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 813 1287 (Releases a buffer containing a Unicode string, given a pointer to the buffer) 1287 SB
692 863 208 (returned by ) 208 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
900 862 579 (RtlAnsiStringToUnicodeString) 579 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1479 863 11 (.) 11 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 929 579 (RtlUnicodeStringToAnsiString) 579 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 980 1309 (Converts a buffered Unicode string to an ANSI string, given a pointer to the) 1309 SB
692 1030 1335 (source-string buffer and the address of caller-supplied storage for a pointer to) 1335 SB
692 1080 1349 (the destination buffer. \(This function allocates a destination buffer if the caller) 1349 SB
692 1130 492 (does not supply the storage.\)) 492 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1196 345 (RtlFreeAnsiString) 345 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1247 1265 (Releases a buffer containing an ANSI string, given a pointer to the buffer) 1265 SB
692 1297 208 (returned by ) 208 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
900 1296 579 (RtlUnicodeStringToAnsiString) 579 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1479 1297 11 (.) 11 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1363 642 (RtlAppendUnicodeStringToString) 642 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1414 1357 (Concatenates a copy of a buffered Unicode string to a buffered Unicode string,) 1357 SB
692 1464 518 (given pointers to both buffers.) 518 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1530 526 (RtlAppendUnicodeToString) 526 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1581 1391 (Concatenates a given input string to a buffered Unicode string, given a pointer to) 1391 SB
692 1631 179 (the buffer.) 179 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1697 275 (RtlCopyString) 275 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1748 1367 (Either copies the source string to the destination, given pointers to both buffers,) 1367 SB
692 1798 1343 (or sets the length of the destination string \(but not the length of the destination) 1343 SB
692 1848 1269 (buffer\) to zero if the optional pointer to the source-string buffer is NULL.) 1269 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1914 428 (RtlCopyUnicodeString) 428 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1965 1367 (Either copies the source string to the destination, given pointers to both buffers,) 1367 SB
692 2015 1343 (or sets the length of the destination string \(but not the length of the destination) 1343 SB
692 2065 1269 (buffer\) to zero if the optional pointer to the source-string buffer is NULL.) 1269 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2131 285 (RtlEqualString) 285 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2182 1011 (Returns TRUE if the given buffered strings are equivalent.) 1011 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2248 438 (RtlEqualUnicodeString) 438 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2299 1011 (Returns TRUE if the given buffered strings are equivalent.) 1011 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2365 504 (RtlCompareUnicodeString) 504 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2416 1329 (Compares two buffered Unicode strings and returns a signed value indicating) 1329 SB
692 2466 822 (whether they are equivalent or which is greater.) 822 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2532 295 (RtlUpperString) 295 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2583 1353 (Converts a copy of a given buffered string to upper-case and stores the copy in) 1353 SB
692 2633 483 (the given destination buffer.) 483 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 30 def
/wp$fpage (30) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 31 31
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1102 378 133 (Chapter ) 133 SB
1235 378 18 (1) 18 SB
1253 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1980 378 9 ( ) 63 SB
2043 378 9 ( ) 63 SB
2106 378 18 (1) 18 SB
2124 378 11 (-) 11 SB
2135 378 36 (31) 36 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
721 495 463 (RtlUpcaseUnicodeString) 463 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 546 1371 (Converts a copy of a given buffered Unicode string to upper-case and stores the) 1371 SB
779 596 620 (copy in the given destination buffer.) 620 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 662 516 (RtlIntegerToUnicodeString) 516 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 713 1311 (Converts a given unsigned integer value in the specified base to one or more) 1311 SB
779 763 671 (Unicode characters in the given buffer.) 671 SB
32 0 0 83 83 0 0 0 79 /Helvetica-Narrow-Bold /font16 ANSIFont font
346 867 752 (1.10  Data Conversions) 752 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 980 558 (ExInterlockedExchangeUlong) 558 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1031 1378 (Sets a variable of type ULONG to a given value as an atomic operation, using a) 1378 SB
779 1081 1259 (spin lock to ensure multiprocessor-safe access to the variable; returns the) 1259 SB
779 1131 510 (original value of the variable.) 510 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1197 610 (RtlConvertLongToLargeInteger) 610 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1248 1094 (Converts a given, LONG value to a LARGE_INTEGER value.) 1094 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1314 625 (RtlConvertUlongToLargeInteger) 625 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1365 1114 (Converts a given ULONG value to a LARGE_INTEGER value.) 1114 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1431 475 (RtlLargeIntegerShiftLeft) 475 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1482 1017 (Shifts a given large integer left by the specified shift count.) 1017 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1548 501 (RtlLargeIntegerShiftRight) 501 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1599 1041 (Shifts a given large integer right by the specified shift count.) 1041 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1665 602 (RtlLargeIntegerArithmeticShift) 602 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1716 949 (Shifts a given large integer by the specified shift count.) 949 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1782 415 (RtlTimeToTimeFields) 415 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1833 1199 (Converts a buffered value into a TIME_FIELDS-type buffered value.) 1199 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1899 579 (RtlAnsiStringToUnicodeString) 579 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1950 1288 (Converts a buffered ANSI string to a Unicode string, given a pointer to the) 1288 SB
779 2000 1335 (source-string buffer and the address of caller-supplied storage for a pointer to) 1335 SB
779 2050 1349 (the destination buffer. \(This function allocates a destination buffer if the caller) 1349 SB
779 2100 492 (does not supply the storage.\)) 492 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2166 579 (RtlUnicodeStringToAnsiString) 579 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2217 1309 (Converts a buffered Unicode string to an ANSI string, given a pointer to the) 1309 SB
779 2267 1335 (source-string buffer and the address of caller-supplied storage for a pointer to) 1335 SB
779 2317 1349 (the destination buffer. \(This function allocates a destination buffer if the caller) 1349 SB
779 2367 492 (does not supply the storage.\)) 492 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2433 295 (RtlUpperString) 295 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2484 1353 (Converts a copy of a given buffered string to upper-case and stores the copy in) 1353 SB
779 2534 483 (the given destination buffer.) 483 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 31 def
/wp$fpage (31) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 32 32
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 36 (32) 36 SB
324 378 9 ( ) 61 SB
385 378 9 ( ) 61 SB
446 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 463 (RtlUpcaseUnicodeString) 463 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 1356 (Converts a copy of a given buffered Unicode string to uppercase and stores the) 1356 SB
692 596 620 (copy in the given destination buffer.) 620 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 662 516 (RtlIntegerToUnicodeString) 516 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 713 1311 (Converts a given unsigned integer value in the specified base to one or more) 1311 SB
692 763 671 (Unicode characters in the given buffer.) 671 SB
32 0 0 83 83 0 0 0 79 /Helvetica-Narrow-Bold /font16 ANSIFont font
259 867 844 (1.11  Numeric and Logical) 844 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 980 389 (RtlLargeIntegerAdd) 389 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1031 1354 (Returns the LARGE_INTEGER sum of the given LARGE_INTEGER values.) 1354 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1097 472 (RtlLargeIntegerSubtract) 472 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1148 1325 (Returns the LARGE_INTEGER difference of the given LARGE_INTEGER) 1325 SB
692 1198 121 (values.) 121 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1264 431 (RtlLargeIntegerDivide) 431 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1315 1359 (Returns the LARGE_INTEGER quotient and remainder, if appropriate, of two) 1359 SB
692 1365 245 (large integers.) 245 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1431 530 (RtlEnlargedIntegerMultiply) 530 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1482 1053 (Returns the signed large integer product of two long integers.) 1053 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1548 526 (RtlEnlargedUnsignedDivide) 526 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1599 1114 (Returns the ULONG quotient and remainder, if appropriate, of a) 1114 SB
692 1649 891 (LARGE_INTEGER dividend and ULONG divisor.) 891 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1715 475 (RtlExtendedMagicDivide) 475 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1766 1391 (Returns the LARGE_INTEGER quotient of a large integer dividend and divisor.) 1391 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1832 607 (RtlExtendedLargeIntegerDivide) 607 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1883 1214 (Returns the LARGE_INTEGER quotient and a ULONG remainder, if) 1214 SB
692 1933 1081 (appropriate, of a large integer dividend and a ULONG divisor.) 1081 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1999 534 (RtlExtendedIntegerMultiply) 534 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2050 1278 (Returns the LARGE_INTEGER product of a large integer multiplied by a) 1278 SB
692 2100 133 (LONG.) 133 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2166 566 (RtlEnlargedUnsignedMultiply) 566 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2217 1213 (Returns the LARGE_INTEGER product of the given ULONG values.) 1213 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2283 440 (RtlLargeIntegerNegate) 440 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2334 1017 (Returns the negation of a given LARGE_INTEGER value.) 1017 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2400 475 (RtlLargeIntegerShiftLeft) 475 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2451 1372 (Returns the value of the given LARGE_INTEGER, left-shifted by the specified) 1372 SB
692 2501 105 (count.) 105 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2567 501 (RtlLargeIntegerShiftRight) 501 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2618 1231 (Returns the value of the given LARGE_INTEGER, right-shifted by the) 1231 SB
692 2668 270 (specified count.) 270 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 32 def
/wp$fpage (32) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 33 33
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1102 378 133 (Chapter ) 133 SB
1235 378 18 (1) 18 SB
1253 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1980 378 9 ( ) 63 SB
2043 378 9 ( ) 63 SB
2106 378 18 (1) 18 SB
2124 378 11 (-) 11 SB
2135 378 36 (33) 36 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
721 495 602 (RtlLargeIntegerArithmeticShift) 602 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 546 1300 (Returns the value of the given LARGE_INTEGER, shifted by the specified) 1300 SB
779 596 105 (count.) 105 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 662 388 (RtlLargeIntegerAnd) 388 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 713 1085 (Performs a logical AND on a given source using a given mask.) 1085 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 779 470 (RtlLargeIntegerEqualTo) 470 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 830 1369 (Returns a Boolean indicating whether the given LARGE_INTEGER values are) 1369 SB
779 880 105 (equal.) 105 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 946 539 (RtlLargeIntegerNotEqualTo) 539 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 997 1369 (Returns a Boolean indicating whether the given LARGE_INTEGER values are) 1369 SB
779 1047 147 (unequal.) 147 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1113 704 (RtlLargeIntegerLessThanOrEqualTo) 704 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1164 1367 (Returns a Boolean indicating whether a given large integer is less than or equal) 1367 SB
779 1214 184 (to another.) 184 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1280 772 (RtlLargeIntegerGreaterThanOrEqualTo) 772 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1331 1318 (Returns a Boolean indicating whether a given large integer is greater than or) 1318 SB
779 1381 289 (equal to another.) 289 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1447 648 (RtlLargeIntegerGreaterThanZero) 648 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1498 1211 (Returns a Boolean indicating whether a given large integer is positive.) 1211 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1564 580 (RtlLargeIntegerLessThanZero) 580 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1615 1221 (Returns a Boolean indicating whether a given large integer is negative.) 1221 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1681 561 (RtlLargeIntegerEqualToZero) 561 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1732 1151 (Returns a Boolean indicating whether a given large integer is zero.) 1151 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1798 630 (RtlLargeIntegerNotEqualToZero) 630 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1849 1214 (Returns a Boolean indicating whether a given large integer is nonzero.) 1214 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1915 698 (RtlLargeIntegerLessOrEqualToZero) 698 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1966 1274 (Returns a Boolean indicating whether a given large integer is nonpositive.) 1274 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2032 766 (RtlLargeIntegerGreaterOrEqualToZero) 766 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2083 1284 (Returns a Boolean indicating whether a given large integer is nonnegative.) 1284 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2149 557 (RtlLargeIntegerGreaterThan) 557 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2200 1295 (Returns a Boolean indicating whether a given LARGE_INTEGER value is) 1295 SB
779 2250 357 (greater than another.) 357 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2316 489 (RtlLargeIntegerLessThan) 489 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2367 1371 (Returns a Boolean indicating whether a given LARGE_INTEGER value is less) 1371 SB
779 2417 225 (than another.) 225 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2483 458 (ExInterlockedAddUlong) 458 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2534 1373 (Adds a value to a variable of type ULONG as an atomic operation, using a spin) 1373 SB
779 2584 1322 (lock to ensure multiprocessor-safe access to the variable; returns the original) 1322 SB
779 2634 590 (\(unsummed\) value of the variable.) 590 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 33 def
/wp$fpage (33) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 34 34
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 36 (34) 36 SB
324 378 9 ( ) 61 SB
385 378 9 ( ) 61 SB
446 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 557 (ExInterlockedIncrementLong) 557 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 1390 (Increments a variable of type LONG as an atomic operation, using a spin lock to) 1390 SB
692 596 1295 (ensure multiprocessor-safe access to the variable; returns whether the post-) 1295 SB
692 646 782 (increment value is negative, zero, or positive.) 782 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 712 569 (ExInterlockedDecrementLong) 569 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 763 1362 (Decrements a variable of type LONG as an atomic operation, using a spin lock) 1362 SB
692 813 1339 (to ensure multiprocessor-safe access to the variable; returns whether the post-) 1339 SB
692 863 789 (decrement value is negative, zero, or positive.) 789 SB
32 0 0 83 83 0 0 0 79 /Helvetica-Narrow-Bold /font16 ANSIFont font
259 967 1758 (1.12  Access to Driver-managed Objects or Resources) 1758 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1080 428 (IoCreateSymbolicLink) 428 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1131 1354 (Sets up a symbolic link object, aliasing a named device object to a user-visible) 1354 SB
692 1181 448 (name for the same device.) 448 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1247 663 (IoCreateUnprotectedSymbolicLink) 663 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1298 1354 (Sets up a symbolic link object, aliasing a named device object to a user-visible) 1354 SB
692 1348 1353 (name for the same device and allowing user-mode callers to affect the mode of) 1353 SB
692 1398 1373 (the device \(for example, parallel and serial drivers use this so users can redirect) 1373 SB
692 1448 134 (output\).) 134 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1514 333 (IoSetShareAccess) 333 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1565 1267 (Sets the access allowed to a given file object representing a device. \(Only) 1267 SB
692 1615 748 (highest-level drivers can call this function.\)) 748 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1681 393 (IoCheckShareAccess) 393 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1732 1359 (Checks whether a request to open a file object specifies a desired access that is) 1359 SB
692 1782 1346 (compatible with the current shared access permissions for the open file object.) 1346 SB
692 1832 860 (\(Only highest-level drivers can call this function.\)) 860 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 1898 411 (IoUpdateShareAccess) 411 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 1949 1323 (Modifies the current share-access permissions on the given file object. \(Only) 1323 SB
692 1999 748 (highest-level drivers can call this function.\)) 748 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2065 426 (IoRemoveShareAccess) 426 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2116 1253 (Restores the shared-access permissions on the given file object that were) 1253 SB
692 2166 545 (modified by a preceding call to ) 545 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1237 2165 411 (IoUpdateShareAccess) 411 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1648 2166 11 (.) 11 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2232 546 (RtlCreateSecurityDescriptor) 546 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2283 1387 (Initializes a new security descriptor to an absolute format with default values \(in) 1387 SB
692 2333 619 (effect, with no security constraints\).) 619 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2399 562 (RtlSetDaclSecurityDescriptor) 562 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2450 1251 (Sets the discretionary ACL information for a given security descriptor in) 1251 SB
692 2500 280 (absolute format.) 280 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 2566 323 (SeAssignSecurity) 323 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 2617 1370 (Builds a security descriptor for a new object, given the security descriptor of its) 1370 SB
692 2667 1291 (parent directory \(if any\) and an originally requested security for the object.) 1291 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 34 def
/wp$fpage (34) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 35 35
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
1102 378 133 (Chapter ) 133 SB
1235 378 18 (1) 18 SB
1253 378 727 (     Summary of Kernel-mode Support Routines) 727 SB
1980 378 9 ( ) 63 SB
2043 378 9 ( ) 63 SB
2106 378 18 (1) 18 SB
2124 378 11 (-) 11 SB
2135 378 36 (35) 36 SB
0 0 0 fC
/fm 256 def
1824 2 346 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
721 495 365 (SeDeassignSecurity) 365 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 546 1345 (Deallocates the memory associated with a security descriptor that was created) 1345 SB
779 596 87 (with ) 87 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
866 595 323 (SeAssignSecurity) 323 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1189 596 11 (.) 11 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 662 289 (SeAccessCheck) 289 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 713 1383 (Returns a Boolean indicating whether the requested access rights can be granted) 1383 SB
779 763 1328 (to an object protected by a security descriptor and, possibly, a current owner.) 1328 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 829 442 (SeSinglePrivilegeCheck) 442 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 880 1336 (Returns a Boolean indicating whether the current thread has at least the given) 1336 SB
779 930 257 (privilege level.) 257 SB
32 0 0 83 83 0 0 0 79 /Helvetica-Narrow-Bold /font16 ANSIFont font
346 1034 648 (1.13  Error Handling) 648 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1147 487 (IoAllocateErrorLogEntry) 487 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1198 1349 (Allocates and initializes an error log packet; returns a pointer so the caller can) 1349 SB
779 1248 520 (supply error-log data and call ) 520 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1299 1247 443 (IoWriteErrorLogEntry) 443 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1742 1248 284 ( with the packet.) 284 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1314 443 (IoWriteErrorLogEntry) 443 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1365 1307 (Queues a previously allocated error log packet, filled in by the driver, to the) 1307 SB
779 1415 484 (system error logging thread.) 484 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1481 424 (IoIsErrorUserInduced) 424 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1532 1313 (Returns a Boolean indicating whether an I/O request failed due to one of the) 1313 SB
779 1582 1155 (following \(user-correctable\) conditions: STATUS_IO_TIMEOUT,) 1155 SB
779 1632 1354 (STATUS_DEVICE_NOT_READY, STATUS_UNRECOGNIZED_MEDIA,) 1354 SB
779 1682 1176 (STATUS_VERIFY_REQUIRED, STATUS_WRONG_VOLUME,) 1176 SB
779 1732 819 (STATUS_MEDIA_WRITE_PROTECTED, or) 819 SB
779 1782 1296 (STATUS_NO_MEDIA_IN_DEVICE. If the result is TRUE, a removable-) 1296 SB
779 1832 396 (media driver must call ) 396 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1175 1831 608 (IoSetHardErrorOrVerifyDevice) 608 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1783 1832 385 ( before completing the) 385 SB
779 1882 78 (IRP.) 78 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 1948 608 (IoSetHardErrorOrVerifyDevice) 608 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 1999 1303 (Supplies the device object for which the given IRP was failed due to a user-) 1303 SB
779 2049 1371 (induced error, such as supplying the incorrect media for the requested operation) 1371 SB
779 2099 1316 (or changing the media before the requested operation was completed. \(A file) 1316 SB
779 2149 1348 (system driver uses this device object to send a popup to the user, who can then) 1348 SB
779 2199 755 (correct the error and/or retry the operation.\)) 755 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2265 353 (IoRaiseHardError) 353 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2316 1381 (Causes a popup to be sent to the user indicating that the given IRP was failed on) 1381 SB
779 2366 1301 (the given device object for an optional VPB, so that the user can correct the) 1301 SB
779 2416 617 (error and/or can retry the operation.) 617 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
721 2482 613 (IoRaiseInformationalHardError) 613 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
779 2533 1353 (Causes a popup to be sent to the user, showing an I/O error status and optional) 1353 SB
779 2583 597 (string supplying more information.) 597 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 35 def
/wp$fpage (35) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 188 def
/wp$right 76 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Page: 36 36
%%PageResources: (atend)
SS
0 0 20 11 809 1100 300 SM
32 0 0 40 40 0 0 0 39 /Helvetica-Narrow-Bold /font16 ANSIFont font
0 0 0 fC
259 378 18 (1) 18 SB
277 378 11 (-) 11 SB
288 378 36 (36) 36 SB
324 378 9 ( ) 61 SB
385 378 9 ( ) 61 SB
446 378 638 (    Part I    Kernel-mode Support Routines) 638 SB
0 0 0 fC
/fm 256 def
1824 2 259 435 B
1 F
n
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
0 0 0 fC
634 495 249 (KeBugCheck) 249 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 546 1309 (Brings down the system in a controlled manner when the caller discovers an) 1309 SB
692 596 1350 (unrecoverable inconsistency that will corrupt the system if the caller continues) 1350 SB
692 646 1379 (to run. \(This function can be called when debugging under-development drivers.) 1379 SB
692 696 1380 (Otherwise, drivers should never call this function when they can handle an error) 1380 SB
692 746 562 (by failing an IRP and by calling ) 562 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
1254 745 487 (IoAllocateErrorLogEntry) 487 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1741 746 73 ( and) 73 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
692 795 443 (IoWriteErrorLogEntry) 443 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
1135 796 26 (.\)) 26 SB
32 0 0 44 44 0 0 0 41 /Times-Bold /font29 ANSIFont font
634 862 299 (KeBugCheckEx) 299 SB
32 0 0 44 44 0 0 0 40 /Times-Roman /font32 ANSIFont font
692 913 1338 (Brings down the system in a controlled manner, displaying the bugcheck code) 1338 SB
692 963 1291 (and possibly more information, when the caller discovers an unrecoverable) 1291 SB
692 1013 1268 (inconsistency that will corrupt the system unless it is brought down. \(This) 1268 SB
692 1063 1319 (function should never be called if the driver can handle a device I/O error by) 1319 SB
692 1113 303 (logging an error.\)) 303 SB
gsave
initgraphics
/wp$xorig 0 def
/wp$yorig 0 def
/wp$y 792 def
/wp$x 612 def
/wp$page 36 def
/wp$fpage (36) def
/wp$date (07/18/93) def
/wp$time (06:44 PM) def
/wp$box { newpath 0 0 moveto wp$x 0 rlineto 0 wp$y rlineto wp$x neg 0 rlineto closepath } def
wp$box clip newpath
/wp$top 127 def
/wp$bottom 111 def
/wp$left 167 def
/wp$right 97 def
/wp$col 1 def
/wp$colx 348 def
/wp$colxb 0 def

/ndf{1 index where{pop pop pop}{dup xcheck{bind}if def} ifelse}bind def
/ed{exch def}bind def
/SetPageOffset{neg wp$y add/dTop ed/dLeft ed}ndf
/SetPageSize {neg dTop add/dBot ed dLeft add/dRight ed}ndf
/DoCropMarks{gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft 76 sub dTop moveto 72 0 rlineto dLeft 76 sub dBot moveto 72 0 rlineto
  dRight 4 add dTop moveto 72 0 rlineto dRight 4 add dBot moveto 72 0 rlineto
  dLeft dTop 76 add moveto 0 -72 rlineto dRight dTop 76 add moveto 0 -72 rlineto
  dLeft dBot 4 sub moveto 0 -72 rlineto dRight dBot 4 sub moveto 0 -72 rlineto
  stroke grestore}ndf
/DoPageBox {gsave 0 setgray /dopaint true def 0.25 setlinewidth
  dLeft dTop moveto dRight dTop lineto dRight dBot lineto dLeft dBot lineto
  closepath stroke grestore}ndf
40.5 72 SetPageOffset
531 648 SetPageSize
DoCropMarks
DoPageBox
 grestore
1 #C
statusdict begin /manualfeed false store end
EJ RS
%%PageTrailer
%%PageResources: font Helvetica-Narrow-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%Trailer
SVDoc restore
end
%%Pages: 36
% TrueType font name key:
%    MSTT310000 = 
%    MSTT310000 = 
%    MSTT310000 = 
%    MSTT310000 = 
%    MSTT310000 = 
%    MSTT310000 = 
%    MSTT310000 = 
%    MSTT310000 = 
%    MSTT31c1db = 20cfDTimes New RomanF00000015000001900000
%    MSTT31c1e8 = 20cfDTimes New RomanF00000000000001900000
%    MSTT31c1f5 = 20cfDTimes New RomanF00000026000001900000
%    MSTT31c202 = 20cfDArial NarrowF00000064000002bc0000
%    MSTT31c20e = 20cfDArial NarrowF00000032000002bc0000
%    MSTT31c21a = 20cfDTimes New RomanF00000019000001900000
%    MSTT31c227 = 20cfDTimes New RomanF00000023000001900000
%    MSTT31c234 = 20cfDTimes New RomanF0000001d000001900000
%    MSTT31c241 = 20cfDArial NarrowF00000028000002bc0000
%    MSTT31c24d = 20cfDArial NarrowF0000003f000002bc0000
%    MSTT31c1ce = 20cfDTimes New RomanF00000032000001900000
%    MSTT31c259 = 20cfDArial NarrowF0000002c000002bc0000
%    MSTT31c265 = 20cfDArial NarrowF00000021000002bc0000
%    MSTT31c271 = 20cfDTimes New RomanF0000002c000001900000
%    MSTT31c27e = 20cfDTimes New RomanF00000021000001900000
%    MSTT31c28b = 20cfDMSIconsF00000028000001900000
%    MSTT31c2a3 = 20cfDArial NarrowF00000053000002bc0000
%    MSTT31c2af = 20cfDArial NarrowF00000047000002bc0000
%    MSTT31c2bb = 20cfDTimes New RomanF0000002c000002bc0000
%    MSTT31c2c8 = 20cfDTimes New RomanF0000002c000001900001
%    MSTT31c2d5 = 20cfDTimes New RomanF0000002c000002bc0001
%%DocumentSuppliedResources: procset Win35Dict 3 1

%%DocumentNeededResources: font Helvetica-Narrow-Bold
%%+ font MSIcons2
%%+ font Times-Bold
%%+ font Times-BoldItalic
%%+ font Times-Italic
%%+ font Times-Roman

%%EOF
