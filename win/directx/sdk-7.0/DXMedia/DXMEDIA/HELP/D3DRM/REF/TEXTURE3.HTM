<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>IDirect3DRMTexture3</TITLE>
<SCRIPT LANGUAGE="JAVASCRIPT"> var sRelPath = '../' </SCRIPT>


<META NAME="Description" CONTENT="IDirect3DRMTexture3">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::Changed">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::GenerateMIPMap">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::GetCacheOptions">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::GetColors">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::GetDecalOrigin">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::GetDecalScale">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::GetDecalSize">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::GetDecalTransparency">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::GetDecalTransparentColor">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::GetImage">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::GetShades">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::GetSurface">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::InitFromFile">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::InitFromImage">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::InitFromResource2">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::InitFromSurface">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::SetCacheOptions">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::SetColors">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::SetDecalOrigin">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::SetDecalScale">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::SetDecalSize">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::SetDecalTransparency">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::SetDecalTransparentColor">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::SetDownsampleCallback">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::SetShades">
<META NAME="Description" CONTENT="IDirect3DRMTexture3::SetValidationCallback">
<META NAME="Description" CONTENT="Changed (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="GenerateMIPMap (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="GetCacheOptions (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="GetColors (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="GetDecalOrigin (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="GetDecalScale (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="GetDecalSize (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="GetDecalTransparency (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="GetDecalTransparentColor (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="GetImage (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="GetShades (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="GetSurface (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="InitFromFile (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="InitFromImage (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="InitFromResource2 (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="InitFromSurface (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="SetCacheOptions (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="SetColors (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="SetDecalOrigin (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="SetDecalScale (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="SetDecalSize (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="SetDecalTransparency (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="SetDecalTransparentColor (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="SetDownsampleCallback (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="SetShades (IDirect3DRMTexture3)">
<META NAME="Description" CONTENT="SetValidationCallback (IDirect3DRMTexture3)">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../ver.js"></SCRIPT>
<SCRIPT SRC="../gloss.js"></SCRIPT>


<SCRIPT DEFER SRC="../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
   var sVR = '../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicSDKIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicSDKIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicSDKNAV';
   }
   else
   {
	   sCSS += 'dxm_basicSDKIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="IDirect3DRMTexture3"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="Direct3D Retained Mode Animated Header --IDirect3DRMTexture3"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217">
<IMG SRC="../art/HDRd3drm.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="Direct3D Retained Mode Animated Header --IDirect3DRMTexture3"></TD><TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="Direct3D Retained Mode Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft Direct3D Retained Mode SDK"></TD></TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../contents.htm">Contents</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../index.htm">Index</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="Iface_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="Shadow2.htm">IDirect3DRMShadow2</A>
<IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="UserVisual.htm">IDirect3DRMUserVisual</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->

<BLOCKQUOTE CLASS="body">

<!-- CONTENTS_START -->

<H1>IDirect3DRMTexture3</H1>

<P>Microsoft DirectX version 6.0 introduces the <B>IDirect3DRMTexture3</B> interface. <B>IDirect3DRMTexture3</B> extends the 
older <b>IDirect3DRMTexture2</b> and <b>IDirect3DRMTexture</b> interfaces that it replaces and it allows finer control over texture management. For a conceptual overview, see <A HREF="../oview/Textures_face.htm">Textures</A>. For a history of the Direct3D Retained Mode interfaces, see <a href="../oview/interface_changes.htm">Interface Changes</a>.

<p><B>IDirect3DRMTexture3</B> extends the functionality of the <a href="#Changed">Changed</a> method by allowing you to specify the changed region of the texture. It also provides the texture management caching methods <a href="#GetCacheOptions">GetCacheOptions</a> and <a href="#SetCacheOptions">SetCacheOptions</a>. <a href="#GetSurface">GetSurface</a>, <a href="#SetDownSampleCallback">SetDownSampleCallback</a>, and <a href="#SetValidationCallback">SetValidationCallback</a> are the other new methods <B>IDirect3DRMTexture3</B> provides.

<p>Previously new methods, added by the older <B>IDirect3DRMTexture2</B>, and also supported by <B>IDirect3DRMTexture3</B> include <A HREF="Texture3.htm#InitFromResource2">InitFromResource2</A>, which allows resources to be loaded from DLLs and executables other than the currently executing file. The <A HREF="Texture3.htm#InitFromImage">InitFromImage</A> method creates a texture from an image in memory. This method is equivalent to the <A HREF="IDirect3DRM3.htm#CreateTexture">IDirect3DRM3::CreateTexture</A> method. The <A HREF="Texture3.htm#GenerateMIPMap">GenerateMIPMap</A> method generates a <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_m.htm#mipmap')">mipmap</A> 
from a source image.

<P>To avoid unnecessary delays when creating textures, hold onto textures you want to use again, instead of creating them each time they're needed. For optimal performance, use a texture surface format that is supported by the device you are using. This will avoid a costly format conversion when the texture is created and any time it changes.
<P>See the remarks in <A HREF="IDirect3DRM3.htm#LoadTexture">IDirect3DRM3::LoadTexture</A> for an example showing how to keep a reference to textures loaded in a texture callback through <B>IDirect3DRM3::LoadTexture</B>.


<P>The methods of the <B>IDirect3DRMTexture3</B> interface can be organized into the following groups:
<TABLE CLASS="ref">
<TR><TD ALIGN=LEFT VALIGN=TOP><B>Color</B>
 </TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#GetColors">GetColors</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#SetColors">SetColors</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><B>Decals</B>
 </TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#GetDecalOrigin">GetDecalOrigin</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#GetDecalScale">GetDecalScale</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#GetDecalSize">GetDecalSize</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#GetDecalTransparency">GetDecalTransparency</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#GetDecalTransparentColor">GetDecalTransparentColor</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#SetDecalOrigin">SetDecalOrigin</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#SetDecalScale">SetDecalScale</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#SetDecalSize">SetDecalSize</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#SetDecalTransparency">SetDecalTransparency</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#SetDecalTransparentColor">SetDecalTransparentColor</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><B>Images</B>
 </TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#GetImage">GetImage</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><B>Initialization</B>
 </TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#InitFromFile">InitFromFile</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#InitFromImage">InitFromImage</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#InitFromResource2">InitFromResource2</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#InitFromSurface">InitFromSurface</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><B>MIP map generation</B>
 </TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="#GenerateMIPMap">GenerateMIPMap</A>
 </TD></TR>


<TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><B>Miscellaneous</B>
 </TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="#GetCacheOptions">GetCacheOptions</A>
 </TD></tr>

 <TR><TD></TD>
 <TD ALIGN=LEFT VALIGN=TOP><A HREF="#GetSurface">GetSurface</A>
 </TD>
 </TR>

 <TR><TD></TD>
 <TD ALIGN=LEFT VALIGN=TOP><A HREF="#SetCacheOptions">SetCacheOptions</A>
 </TD>
 </TR>

 <TR><TD></TD>
 <TD ALIGN=LEFT VALIGN=TOP><A HREF="#SetDownsampleCallback">SetDownsampleCallback</A>
 </TD>
 </TR>

 <TR><TD></TD>
 <TD ALIGN=LEFT VALIGN=TOP><A HREF="#SetValidationCallback">SetValidationCallback</A>
 </TD>
 </TR>


 <TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP></TD></TR>
 <TR><TD ALIGN=LEFT VALIGN=TOP><B>Renderer notification</B>
 </TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#Changed">Changed</A>
 </TD></tr>

 <TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><B>Shading</B>
 </TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#GetShades">GetShades</A>
 </TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><A HREF="Texture3.htm#SetShades">SetShades</A>
</TD></TR></TABLE>
<P>The <B>IDirect3DRMTexture3</B> interface, like all COM interfaces, inherits the <A HREF="FurtherReading.htm#_dx5_IUnknown_Interface_dxintro">IUnknown</A> interface methods. The <A HREF="FurtherReading.htm#_dx5_IUnknown_Interface_dxintro">IUnknown</A> interface supports the following three methods:
<TABLE CLASS="ref">
<TR><TD ALIGN=LEFT VALIGN=TOP><A HREF="FurtherReading.htm#IUnknown__AddRef">AddRef</A>
</TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><A HREF="FurtherReading.htm#IUnknown__QueryInter">QueryInterface</A>
</TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><A HREF="FurtherReading.htm#IUnknown__Release">Release</A>
</TD></TR></TABLE>
<P>In addition, the <B>IDirect3DRMTexture3</B> interface inherits the following methods from the <A HREF="Object.htm">IDirect3DRMObject</A> interface:
<TABLE CLASS="ref">
<TR><TD ALIGN=LEFT VALIGN=TOP><A HREF="Object.htm#AddDestroyCallback">AddDestroyCallback</A>
</TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><A HREF="Object.htm#Clone">Clone</A>
</TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><A HREF="Object.htm#DeleteDestroyCallback">DeleteDestroyCallback</A>
</TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><A HREF="Object.htm#GetAppData">GetAppData</A>
</TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><A HREF="Object.htm#GetClassName">GetClassName</A>
</TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><A HREF="Object.htm#GetName">GetName</A>
</TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><A HREF="Object.htm#SetAppData">SetAppData</A>
</TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><A HREF="Object.htm#SetName">SetName</A>
</TD></TR></TABLE>
<P>You can create an IDirect3DRMTexture3 object by calling <A HREF="IDirect3DRM3.htm#CreateTexture">IDirect3DRM3::CreateTexture</A> or <A HREF="IDirect3DRM3.htm#CreateTextureFromSurface">IDirect3DRM3::CreateTextureFromSurface</A>.






<H1><a name="Changed">IDirect3DRMTexture3::Changed</a><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Enables the application to specify which region of the texture has changed. 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT Changed(  
  DWORD</B> <I>dwFlags</I><B>,
  DWORD</B> <I>dwcRects</I><B>,
  LPRECT</B> <I>pRects</I><B>);</B></PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL>

<DT><I>dwFlags</I></DT>
<DD>The following flags are defined:</DD>
    <DL>
    <DT>D3DRMTEXTURE_CHANGEDPIXELS</DT>
    <DD>Indicates that the pixel values have changed.</DD>
    <DT>D3DRMTEXTURE_CHANGEDPALETTE</DT>
    <DD>Indicates that the palette has changed.</DD>
    <DT>D3DRMTEXTURE_INVALIDATEONLY</DT>
    <DD>Indicates that the texture regions are invalidated but do not need to be updated by the application.  Before Direct3D Retained Mode renders the texture, it calls the application to update the primary source. This callback is set by <A HREF="#SetValidationCallback">SetValidationCallback</A>.</DD>
</DL>
<DT><I>dwcRects</I></DT>
<DD>Number of <b>RECT</b> structures pointed to by <i>pRects</i>. If this value is zero, and <I>dwFlags</I> contains D3DRMTEXTURE_CHANGEDPIXELS or D3DRMTEXTURE_INVALIDATEONLY, the whole texture is updated.</DD>


<DT><I>pRects</I></DT>
<DD>Array of <b>RECT</b> structures describing the regions of pixels that have changed. The <I>pRects</I> parameter is only valid if dwFlags contains D3DRMTEXTURE_CHANGEDPIXELS or D3DRMTEXTURE_INVALIDATEONLY.
</DD>
</DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns one of the following values:<BR>&nbsp;
<TABLE CLASS="ref">
<TR>
<TD><A HREF="ReturnValues.htm#DDERR_INVALIDOBJECT">DDERR_INVALIDOBJECT</A></TD>
</TR>
<TR>
<TD><A HREF="ReturnValues.htm#DDERR_INVALIDPARAMS">DDERR_INVALIDPARAMS</A></TD>
</TR>
<TR>
<TD><A HREF="ReturnValues.htm#DD_OK">DD_OK</A></TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This method was introduced with DirectX version 6.0. This method replaces the old <b>IDirect3DRMTexture::Changed</b> method. This old method has two Boolean parameters that indicate whether the application has changed the pixels or the palette of a texture.
</BLOCKQUOTE>



<H1><A NAME="GenerateMIPMap">IDirect3DRMTexture3::GenerateMIPMap</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Generates a mipmap from a single image source.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT</B> <B>GenerateMIPMap</B><B>(</B><BR>&nbsp;&nbsp;<B>DWORD</B> <I>dwFlags</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>dwFlags</I>
</DT><DD>Should be set to zero.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns D3DRM_OK if successful, or an error otherwise. For a list of possible return codes, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This method can be called any time after a texture is created. It will generate a MIP map of the source image down to a resolution of 1&#215;1 by using bilinear filtering between levels. Once a MIP map has been generated, it will always be available and will be updated whenever <A HREF="Texture3.htm#Changed">IDirect3DRMTexture3::Changed</A> is called. When using MIP mapping, remember to change the texture quality to D3DRMTEXTURE_MIPNEAREST, D3DRMTEXTURE_MIPLINEAR, D3DRMTEXTURE_LINEARMIPNEAREST, or D3DRMTEXTURE_LINEARMIPLINEAR using <A HREF="Device3.htm#SetTextureQuality">IDirect3DRMDevice3::SetTextureQuality</A>. Extra MIP map levels will not be put into video memory for hardware devices unless the texture quality includes a MIP mapping type and the hardware device supports MIP mapping. 
</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="FurtherReading.htm#_dx5_Mipmaps_d3d">Mipmaps</A>
</BLOCKQUOTE>



<H1><a name="GetCacheOptions">IDirect3DRMTexture3::GetCacheOptions</a><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Retrieves information about how texture management treats the current texture if texture memory is restricted.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT GetCacheOptions(
  LPLONG</B> <I>lplImportance</I><B>,
  LPDWORD </B><I>lpdwFlags</I><B>);</B></PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL>

<DT><I>lplImportance</I></DT>
<DD>A signed value that indicates the relative importance of a texture. The default is zero. Higher values indicate a greater importance. This value is used to calculate which textures should be downsampled last if texture memory is restricted.</DD>

<DT><I>lpdwFlags</I></DT>
<DD>Flags that control the texture management system with respect to the current texture.
The currently defined flags are:</DD>
    <DL>
    <DT>D3DRMTEXTURE_FORCERESIDENT</DT>
    <DD>Indicates that the texture should be kept in video memory (in a hardware scenario).</DD>
    <DT>D3DRMTEXTURE_STATIC</DT>
    <DD>Indicates that the texture will not change.  The application guarantees not to use the <A HREF="#Changed">Changed</A> method.</DD>
    <DT>D3DRMTEXTURE_DOWNSAMPLEPOINT</DT>
    <DD>Indicates that when the texture is downsampled, point filtering will be used.</DD>
    <DT>D3DRMTEXTURE_DOWNSAMPLEBILINEAR</DT>
    <DD>Indicates that when the texture is downsampled, bilinear filtering will be used.</DD>
    <DT>D3DRMTEXTURE_DOWNSAMPLEREDUCEDEPTH</DT>
    <DD>Indicates that when the texture is downsampled, the pixel depth will be reduced.</DD>
    <DT>D3DRMTEXTURE_DOWNSAMPLENONE</DT>
    <DD>Indicates that the texture should never be downsampled.</DD>
    </DL>
</DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns one of the following values:<BR>&nbsp;
<TABLE CLASS="ref">
<TR>
<TD><A HREF="ReturnValues.htm#DDERR_INVALIDOBJECT">DDERR_INVALIDOBJECT</A></TD>
</TR>
<TR>
<TD><A HREF="ReturnValues.htm#DDERR_INVALIDPARAMS">DDERR_INVALIDPARAMS</A></TD>
</TR>
<TR>
<TD><A HREF="ReturnValues.htm#DD_OK">DD_OK</A></TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This method was introduced with DirectX version 6.0.
</BLOCKQUOTE>




<H1><A NAME="GetColors">IDirect3DRMTexture3::GetColors</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Retrieves the maximum number of colors used for rendering a Direct3DRMTexture2 object.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>DWORD</B> <B>GetColors</B><B>(</B> <B>)</B><B>;</B></PRE></BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns the number of colors.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This method returns the number of colors that the Direct3DRMTexture2 object has been quantized to, not the number of colors in the image from which the Direct3DRMTexture2 object was created. Consequently, the number of colors that are returned usually matches the colors that were set by calling the <A HREF="IDirect3DRM3.htm#SetDefaultTextureColors">IDirect3DRM3::SetDefaultTextureColors</A> method, unless you used the <A HREF="Texture3.htm#SetColors">IDirect3DRMTexture3::SetColors</A> method explicitly to change the colors for the Direct3DRMTexture2 object.
</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#SetColors">IDirect3DRMTexture3::SetColors</A>
</BLOCKQUOTE>
<H1><A NAME="GetDecalOrigin">IDirect3DRMTexture3::GetDecalOrigin</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Retrieves the current origin of the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_d.htm#decal')">decal</A>.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT</B> <B>GetDecalOrigin</B><B>(</B><BR>&nbsp;&nbsp;<B>LONG</B> <B>*</B> <I>lplX</I><B>,</B><BR>&nbsp;&nbsp;<B>LONG</B> <B>*</B> <I>lplY</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>lplX</I> and <I>lplY</I>
</DT><DD>Addresses of variables that will be filled with the origin of the decal when the method returns.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns D3DRM_OK if successful, or an error otherwise. For a list of possible return codes, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#SetDecalOrigin">IDirect3DRMTexture3::SetDecalOrigin</A>
</BLOCKQUOTE>
<H1><A NAME="GetDecalScale">IDirect3DRMTexture3::GetDecalScale</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Retrieves the scaling property of the given <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#decal')">decal</A>.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>DWORD</B> <B>GetDecalScale</B><B>(</B> <B>)</B><B>;</B></PRE></BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns the scaling property if successful, or -1 otherwise.

</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#SetDecalScale">IDirect3DRMTexture3::SetDecalScale</A>
</BLOCKQUOTE>
<H1><A NAME="GetDecalSize">IDirect3DRMTexture3::GetDecalSize</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Retrieves the size of the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#decal')">decal</A>.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT</B> <B>GetDecalSize</B><B>(</B><BR>&nbsp;&nbsp;<B>D3DVALUE</B> <I>*lprvWidth</I><B>,</B><BR>&nbsp;&nbsp;<B>D3DVALUE</B> <I>*lprvHeight</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>lprvWidth</I> and <I>lprvHeight</I>
</DT><DD>Addresses of variables that will be filled with the width and height of the decal when the method returns.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns D3DRM_OK if successful, or an error otherwise. For a list of possible return codes, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#SetDecalSize">IDirect3DRMTexture3::SetDecalSize</A>
</BLOCKQUOTE>
<H1><A NAME="GetDecalTransparency">IDirect3DRMTexture3::GetDecalTransparency</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Retrieves the transparency property of the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#decal')">decal</A>.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>BOOL</B> <B>GetDecalTransparency</B><B>(</B> <B>)</B><B>;</B></PRE></BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns TRUE if the decal has a transparent color, FALSE otherwise.

</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#SetDecalTransparency">IDirect3DRMTexture3::SetDecalTransparency</A>
</BLOCKQUOTE>
<H1><A NAME="GetDecalTransparentColor">IDirect3DRMTexture3::GetDecalTransparentColor</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Retrieves the transparent color of the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#decal')">decal</A>.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>D3DCOLOR</B> <B>GetDecalTransparentColor</B><B>(</B> <B>)</B><B>;</B></PRE></BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns the value of the transparent color.

</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#SetDecalTransparentColor">IDirect3DRMTexture3::SetDecalTransparentColor</A>
</BLOCKQUOTE>
<H1><A NAME="GetImage">IDirect3DRMTexture3::GetImage</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Returns an address of the image that the texture was created with.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>D3DRMIMAGE</B> <B>*</B> <B>GetImage</B><B>(</B> <B>)</B><B>;</B></PRE></BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns the address of the <A HREF="Structs.htm#D3DRMIMAGE">D3DRMIMAGE</A> structure that the current Direct3DRMTexture2 object was created with.

</BLOCKQUOTE>
<H1><A NAME="GetShades">IDirect3DRMTexture3::GetShades</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Retrieves the number of shades used for each color in the texture when rendering.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>DWORD</B> <B>GetShades</B><B>(</B> <B>)</B><B>;</B></PRE></BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns the number of shades.

</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#SetShades">IDirect3DRMTexture3::SetShades</A>
</BLOCKQUOTE>



<H1><a name="GetSurface">IDirect3DRMTexture3::GetSurface</a><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Retrieves the DirectDraw surface that was used to create the texture.  This only retrieves a surface if <b>CreateTextureFromSurface</b> or <b>InitFromSurface</b> was used to create the texture. 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT GetSurface(  
  DWORD</B> <I>dwFlags</I><B>,
  LPDIRECTDRAWSURFACE*</B> <I>lplpDDS</I><B>);</B></PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL>

<DT><I>dwFlags</I></DT>
<DD>Flag value. Must be zero.</DD>
<DT><I>lplpDDS</I></DT>
<DD>Address of a variable that receives a pointer to the interface of the corresponding DirectDraw surface.  Note that the interface's <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_r.htm#reference_count')">reference count</A> is incremented before the interface is handed to the caller.</DD>
</DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns one of the following values:<BR>&nbsp;
<TABLE CLASS="ref">
<TR>
<TD><A HREF="ReturnValues.htm#D3DRMERR_NOTCREATEDFROMDDS">D3DRMERR_NOTCREATEDFROMDDS</A></TD>
</TR>
<TR>
<TD><A HREF="ReturnValues.htm#DDERR_INVALIDOBJECT">DDERR_INVALIDOBJECT</A></TD>
</TR>
<TR>
<TD><A HREF="ReturnValues.htm#DDERR_INVALIDPARAMS">DDERR_INVALIDPARAMS</A></TD>
</TR>
<TR>
<TD><A HREF="ReturnValues.htm#DD_OK">DD_OK</A></TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This method was introduced with DirectX version 6.0.
</BLOCKQUOTE>


<H1><A NAME="InitFromFile">IDirect3DRMTexture3::InitFromFile</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Initializes a Direct3DRMTexture2 object using the information in a given file.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT</B> <B>InitFromFile</B><B>(</B><BR>&nbsp;&nbsp;<B>LPCSTR</B> <I>filename</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>filename</I>
 </DT><DD>A string that specifies the file from which the texture initialization information is drawn.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns D3DRM_OK if successful, or an error otherwise. For a list of possible return codes, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>You must have created the Direct3DRMTexture2 object to be initialized using the <A HREF="IDirect3DRM3.htm#CreateTexture">IDirect3DRM3::CreateTexture</A> or <A HREF="IDirect3DRM3.htm#CreateTextureFromSurface">IDirect3DRM3::CreateTextureFromSurface</A> methods. 

</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#InitFromImage">IDirect3DRMTexture3::InitFromImage</A>, <A HREF="Texture3.htm#InitFromResource2">IDirect3DRMTexture3::InitFromResource2</A>, <A HREF="Texture3.htm#InitFromSurface">IDirect3DRMTexture3::InitFromSurface</A>
</BLOCKQUOTE>
<H1><A NAME="InitFromImage">IDirect3DRMTexture3::InitFromImage</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Initializes a texture from an image in memory.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT</B> <B>InitFromImage</B><B>(</B><BR>&nbsp;&nbsp;<B>LPD3DRMIMAGE</B> <I>lpImage</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>lpImage</I>
 </DT><DD>Address of a <A HREF="Structs.htm#D3DRMIMAGE">D3DRMIMAGE</A> structure describing the source of the texture. 
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns D3DRM_OK if successful, or an error otherwise. For a list of possible return codes, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>You must have created the IDirect3DRMTexture3 object to be initialized using the <A HREF="IDirect3DRM3.htm#CreateTexture">IDirect3DRM3::CreateTexture</A> or <A HREF="IDirect3DRM3.htm#CreateTextureFromSurface">IDirect3DRM3::CreateTextureFromSurface</A> methods. 



</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#InitFromFile">IDirect3DRMTexture3::InitFromFile</A>, <A HREF="Texture3.htm#InitFromResource2">IDirect3DRMTexture3::InitFromResource2</A>, <A HREF="Texture3.htm#InitFromSurface">IDirect3DRMTexture3::InitFromSurface</A>
</BLOCKQUOTE>
<H1><A NAME="InitFromResource2">IDirect3DRMTexture3::InitFromResource2</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Initializes a Direct3DRMTexture2 object from a specified resource.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT</B> <B>InitFromResource2</B><B>(</B><BR>&nbsp;&nbsp;<B>HModule</B> <I>hModule</I><B>,</B><BR>&nbsp;&nbsp;<B>LPCTSTR</B> <I>strName</I><B>,</B><BR>&nbsp;&nbsp;<B>LPCTSTR</B> <I>strType</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>hModule</I>
</DT><DD>Handle of the specified resource. 
</DD><DT><I>strName</I>
</DT><DD>The name of the resource to be used to initialize the texture.
</DD><DT><I>strType</I>
</DT><DD>The type name of the resource used to initialize the texture. Textures can be stored in RT_BITMAP and RT_RCDATA resource types, or user-defined types. If the resource type is user-defined, this method passes the resource module handle, the resource name, and the resource type to the <B>FindResource</B> 

 Win32 API.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns D3DRM_OK if successful, or an error otherwise. For a list of possible return codes, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>You must have created the IDirect3DRMTexture3 object to be initialized using the <A HREF="IDirect3DRM3.htm#CreateTexture">IDirect3DRM3::CreateTexture</A> or <A HREF="IDirect3DRM3.htm#CreateTextureFromSurface">IDirect3DRM3::CreateTextureFromSurface</A> methods. 

</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#InitFromFile">IDirect3DRMTexture3::InitFromFile</A>, <A HREF="Texture3.htm#InitFromImage">IDirect3DRMTexture3::InitFromImage</A>, <A HREF="Texture3.htm#InitFromSurface">IDirect3DRMTexture3::InitFromSurface</A>
</BLOCKQUOTE>

<H1><A NAME="InitFromSurface">IDirect3DRMTexture3::InitFromSurface</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Initializes a Direct3DRMTexture2 object by using the data from a given DirectDraw surface. This method performs the same as <B>IDirect3DRMTexture3::InitFromSurface</B>. 
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT</B> <B>InitFromSurface</B><B>(</B><BR>&nbsp;&nbsp;<B>LPDIRECTDRAWSURFACE</B> <I>lpDDS</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>lpDDS</I>
 </DT><DD>Address of a DirectDraw surface from which initialization information is drawn.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns D3DRM_OK if successful, or an error otherwise. For a list of possible return codes, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>

<p>When you create a texture from a DirectDraw surface, it is best to create the surface in system memory. This enables optimal performance for software devices and allows Direct3D Retained Mode to manage the use of video memory more effectively for hardware devices.
</BLOCKQUOTE>

<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#InitFromFile">IDirect3DRMTexture3::InitFromFile</A>, <A HREF="Texture3.htm#InitFromImage">IDirect3DRMTexture3::InitFromImage</A>, <A HREF="Texture3.htm#InitFromResource2">IDirect3DRMTexture3::InitFromResource2</A>
</BLOCKQUOTE>




<H1><a name="SetCacheOptions">IDirect3DRMTexture3::SetCacheOptions</a><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Provides information about how texture management should treat this texture if texture memory is restricted. 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT SetCacheOptions(  
  LONG</B> <I>lImportance</I><B>,
  DWORD</B> <I>dwFlags</I><B>);</B></PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL>

<DT><I>lImportance</I></DT>
<DD>A signed value that indicates the relative importance of a texture. The default value is zero. Higher values indicate a greater importance. This value is used to calculate which textures should be downsampled last if texture memory is restricted. 
</DD>
<DT><I>dwFlags</I></DT>
<DD>Flags that control the texture-management system with respect to the current texture. The currently defined flags are:</DD>
    <DL>
    <DT>D3DRMTEXTURE_FORCERESIDENT</DT>
    <DD>Indicates that the texture should be kept in video memory (in a hardware scenario).</DD>
    <DT>D3DRMTEXTURE_STATIC</DT>
    <DD>Indicates that the texture will not change.</DD>
    <DT>D3DRMTEXTURE_DOWNSAMPLEPOINT</DT>
    <DD>Indicates that when the texture is downsampled, point filtering should be used.</DD>
    <DT>D3DRMTEXTURE_DOWNSAMPLEBILINEAR</DT>
    <DD>Indicates that when the texture is downsampled, bilinear filtering should be used.</DD>
    <DT>D3DRMTEXTURE_DOWNSAMPLEREDUCEDEPTH</DT>
    <DD>Indicates that when the texture is downsampled, the pixel depth should be reduced. If no lower bit depth is available, the size of the texture will be reduced.</DD>
    <DT>D3DRMTEXTURE_DOWNSAMPLENONE</DT>
    <DD>Indicates that the texture should never be downsampled. The default value is D3DRMTEXTURE_DOWNSAMPLEPOINT.</DD>
    </DL>
</DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns one of the following values:<BR>&nbsp;
<TABLE CLASS="ref">
<TR>
<TD><A HREF="ReturnValues.htm#DDERR_INVALIDOBJECT">DDERR_INVALIDOBJECT</A></TD>
</TR>
<TR>
<TD><A HREF="ReturnValues.htm#DDERR_INVALIDPARAMS">DDERR_INVALIDPARAMS</A></TD>
</TR>
<TR>
<TD><A HREF="ReturnValues.htm#DD_OK">DD_OK</A></TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This method was introduced with DirectX version 6.0.
</BLOCKQUOTE>


<H1><A NAME="SetColors">IDirect3DRMTexture3::SetColors</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Sets the maximum number of colors used for rendering a Direct3DRMTexture2 object. This method is required only in the ramp color model.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT</B> <B>SetColors</B><B>(</B><BR>&nbsp;&nbsp;<B>DWORD</B> <I>ulColors</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>ulColors</I>
</DT><DD>Number of colors. The default value is 8.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns D3DRM_OK if successful, or an error otherwise. For a list of possible return codes, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#GetColors">IDirect3DRMTexture3::GetColors</A>
</BLOCKQUOTE>
<H1><A NAME="SetDecalOrigin">IDirect3DRMTexture3::SetDecalOrigin</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Sets the origin of the decal as an offset from the top left of the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#decal')">decal</A>. 
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT</B> <B>SetDecalOrigin</B><B>(</B><BR>&nbsp;&nbsp;<B>LONG</B> <I>lX</I><B>,</B><BR>&nbsp;&nbsp;<B>LONG</B> <I>lY</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>lX</I> and <I>lY</I>
</DT><DD>New origin, in decal coordinates, for the decal. The default origin is [0, 0].
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns D3DRM_OK if successful, or an error otherwise. For a list of possible return codes, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The decal's origin is mapped to its frame's position when rendering. For example, the origin of a decal of a cross would be set to the middle of the decal, and the origin of an arrow pointing down would be set to midway along the bottom edge. 
<P>This method is also used to add a decal origin key to a Direct3DRMTextureInterpolator object.
</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#GetDecalOrigin">IDirect3DRMTexture3::GetDecalOrigin</A>
</BLOCKQUOTE>
<H1><A NAME="SetDecalScale">IDirect3DRMTexture3::SetDecalScale</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Sets the scaling property for a <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#decal')">decal</A>.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT</B> <B>SetDecalScale</B><B>(</B><BR>&nbsp;&nbsp;<B>DWORD</B> <I>dwScale</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>dwScale</I>
</DT><DD>If this parameter is TRUE, depth is taken into account when the decal is scaled and, when the decal is a texture on a frame in a scene, the decal will be scaled smaller when it is farther from the viewer and larger when it closer to the viewer. If this parameter is FALSE, depth information is ignored, and the decal will be the same size whether it is close to or far from the viewer. The default value is TRUE.

</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns D3DRM_OK if successful, or an error otherwise. For a list of possible return codes, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#GetDecalScale">IDirect3DRMTexture3::GetDecalScale</A>
</BLOCKQUOTE>
<H1><A NAME="SetDecalSize">IDirect3DRMTexture3::SetDecalSize</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Sets the size of the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_d.htm#decal')">decal</A> to be used if the decal is being scaled according to its depth in the scene. 
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT</B> <B>SetDecalSize</B><B>(</B><BR>&nbsp;&nbsp;<B>D3DVALUE</B> <I>rvWidth</I><B>,</B><BR>&nbsp;&nbsp;<B>D3DVALUE</B> <I>rvHeight</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>rvWidth</I> and <I>rvHeight</I>
</DT><DD>New width and height, in <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_m.htm#model_coordinates')">model coordinates</A>, of the decal. The default size is [1, 1].
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns D3DRM_OK if successful, or an error otherwise. For a list of possible return codes, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This method is also used to add a decal size key to a Direct3DRMTextureInterpolator object.
</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#GetDecalSize">IDirect3DRMTexture3::GetDecalSize</A>
</BLOCKQUOTE>
<H1><A NAME="SetDecalTransparency">IDirect3DRMTexture3::SetDecalTransparency</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Sets the transparency property of the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#decal')">decal</A>.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT</B> <B>SetDecalTransparency</B><B>(</B><BR>&nbsp;&nbsp;<B>BOOL</B> <I>bTransp</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>bTransp</I>
</DT><DD>If this parameter is TRUE, the decal has a transparent color. If it is FALSE, it has an opaque color. The default value is FALSE.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns D3DRM_OK if successful, or an error otherwise. For a list of possible return codes, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#GetDecalTransparency">IDirect3DRMTexture3::GetDecalTransparency</A>
</BLOCKQUOTE>
<H1><A NAME="SetDecalTransparentColor">IDirect3DRMTexture3::SetDecalTransparentColor</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Sets the transparent color for a <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#decal')">decal</A>. 
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT</B> <B>SetDecalTransparentColor</B><B>(</B><BR>&nbsp;&nbsp;<B>D3DCOLOR</B> <I>rcTransp</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>rcTransp</I>
</DT><DD>New transparent color. The default transparent color is black.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns D3DRM_OK if successful, or an error otherwise. For a list of possible return codes, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This method is also used to add a decal transparent color key to a Direct3DRMTextureInterpolator object.
</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#GetDecalTransparentColor">IDirect3DRMTexture3::GetDecalTransparentColor</A>
</BLOCKQUOTE>




<H1><a name="SetDownsampleCallback">IDirect3DRMTexture3::SetDownsampleCallback</a><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Specifies a callback that texture management will use when a texture is to be downsampled, rather than using the D3DRM built-in method.
If a callback has already been specified, the new callback replaces the old one.
If the callback is NULL, the current callback is removed. 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>typedef HRESULT (CDECL *D3DRMDOWNSAMPLECALLBACK)
  (LPVOID</B> <I>pArg</I><B>,
  LPDIRECTDRAWSURFACE </B><I>pDDSSrc</I><B>,
  LPDIRECTDRAWSURFACE</B> <I>pDDSDst</I><B>);

HRESULT SetDownsampleCallback(
  LPDIRECT3DRMTEXTURE3 </B><I>lpDirect3DRMTexture</I><B>,
  D3DRMDOWNSAMPLECALLBACK</B> <I>pCallback</I><B>,
  LPVOID </B><I>pArg</I><B>);</B></PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL>

<DT><I>pCallback</I></DT>
<DD>Pointer to a callback function that will be invoked to perform the downsampling. A value of NULL indicates that the current callback is to be removed.</DD>
<DT><I>pArg</I></DT>
<DD>Application-specific data that will be passed to the callback upon invocation.</DD>
</DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns one of the following values:<BR>&nbsp;
<TABLE CLASS="ref">
<TR>
<TD><A HREF="ReturnValues.htm#DDERR_INVALIDOBJECT">DDERR_INVALIDOBJECT</A></TD>
</TR>
<TR>
<TD><A HREF="ReturnValues.htm#DDERR_INVALIDPARAMS">DDERR_INVALIDPARAMS</A></TD>
</TR>
<TR>
<TD><A HREF="ReturnValues.htm#DD_OK">DD_OK</A></TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>Downsampling is done when the video memory is getting overloaded and the texture surfaces need to be reduced in size. Direct3D Retained Mode provides default methods for reducing texure sizes, such as DirectDraw blitting and bilinear filtering, but users can define a callback with their own method to scale down texture size.
<P>This method was introduced with DirectX version 6.0.
</BLOCKQUOTE>

<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<p><A HREF="Callbacks.htm#D3DRMDOWNSAMPLECALLBACK">D3DRMDOWNSAMPLECALLBACK</a>
</BLOCKQUOTE>

<H1><A NAME="SetShades">IDirect3DRMTexture3::SetShades</A><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Sets the maximum number of shades to use for each color for the Direct3DRMTexture2 object when rendering. This method is required only in the ramp color model. 
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT</B> <B>SetShades</B><B>(</B><BR>&nbsp;&nbsp;<B>DWORD</B> <I>ulShades</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>ulShades</I>
</DT><DD>New number of shades. This value must be a power of 2. The default value is 16.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns D3DRM_OK if successful, or an error otherwise. For a list of possible return codes, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#GetShades">IDirect3DRMTexture3::GetShades</A>
</BLOCKQUOTE>


<H1><a name="SetValidationCallback">IDirect3DRMTexture3::SetValidationCallback</a><HR size=1></H1>
<A HREF="Texture3.htm">IDirect3DRMTexture3</A>
<P>Sets the callback function that will validate and update the primary source texture.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>typedef HRESULT (CDECL *D3DRMVALIDATIONCALLBACK)
  (LPVOID</B> <I>pArg</I><B>,
  DWORD </B><I>dwFlags</I><B>,
  DWORD</B> <I>dwcRects</I><B>,
  LPRECT</B> <I>pRects</I><B>);

HRESULT SetValidationCallback(
  LPDIRECT3DRMTEXTURE3</B> <I>lpDirect3DRMTexture</I><B>,
  D3DRMVALIDATIONCALLBACK</B> <I>pCallback</I><B>,
  LPVOID</B> <I>pArg</I><B>);</B></PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL>

<DT><I>pCallback</I></DT>
<DD>Pointer to a callback function that will be invoked to perform the validation. If a callback has already been specified, the new callback replaces the old one. Specify NULL to remove the current callback.</DD>
<DT><I>pArg</I></DT>
<DD>Application-specific data that will be passed to the callback upon invocation.</DD>
</DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns one of the following values:<BR>&nbsp;
<TABLE CLASS="ref">
<TR>
<TD><A HREF="ReturnValues.htm#DDERR_INVALIDOBJECT">DDERR_INVALIDOBJECT</A></TD>
</TR>
<TR>
<TD><A HREF="ReturnValues.htm#DDERR_INVALIDPARAMS">DDERR_INVALIDPARAMS</A></TD>
</TR>
<TR>
<TD><A HREF="ReturnValues.htm#DD_OK">DD_OK</A></TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>Direct3D Retained Mode calls the texture validation callback when a texture region that has previously been marked as invalid, meaning it has changed but not been updated, now needs to be updated. The application updates the primary source and returns.
<p>This method was introduced with DirectX version 6.0.
</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<p><A HREF="Callbacks.htm#D3DRMVALIDATIONCALLBACK">D3DRMVALIDATIONCALLBACK</a>
</BLOCKQUOTE>

<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H5><HR size=1></H5>
<P><A class="line" HREF="#pagetop"><IMG src="../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A Class="line" HREF="../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
