<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>Callback Functions</TITLE>
<SCRIPT LANGUAGE="JAVASCRIPT"> var sRelPath = '../' </SCRIPT>


<META NAME="Description" CONTENT="Callback Functions">
<META NAME="Description" CONTENT="D3DRMDEVICE3UPDATECALLBACK">
<META NAME="Description" CONTENT="D3DRMDOWNSAMPLECALLBACK">
<META NAME="Description" CONTENT="D3DRMFRAME3MOVECALLBACK">
<META NAME="Description" CONTENT="D3DRMLOADCALLBACK">
<META NAME="Description" CONTENT="D3DRMLOADTEXTURECALLBACK">
<META NAME="Description" CONTENT="D3DRMOBJECTCALLBACK">
<META NAME="Description" CONTENT="D3DRMUSERVISUALCALLBACK">
<META NAME="Description" CONTENT="D3DRMVALIDATIONCALLBACK">
<META NAME="Description" CONTENT="D3DRMWRAPCALLBACK">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../ver.js"></SCRIPT>
<SCRIPT SRC="../gloss.js"></SCRIPT>


<SCRIPT DEFER SRC="../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
   var sVR = '../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicSDKIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicSDKIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicSDKNAV';
   }
   else
   {
	   sCSS += 'dxm_basicSDKIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="rmfuncs_Callback_Functi"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="Direct3D Retained Mode Animated Header --Callback Functions"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217">
<IMG SRC="../art/HDRd3drm.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="Direct3D Retained Mode Animated Header --Callback Functions"></TD><TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="Direct3D Retained Mode Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft Direct3D Retained Mode SDK"></TD></TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../contents.htm">Contents</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../index.htm">Index</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="ref.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="ref.htm">Reference</A>
<IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="Iface_intro.htm">Interfaces</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->

<BLOCKQUOTE CLASS="body">

<!-- CONTENTS_START -->

<H1><A NAME="dx5_Callback_Functions_d3drm" IDX_CONCEPT="NOINDEX; Callback functions, list"></A>Callback Functions</H1>

<P>The Microsoft&#174; Direct3D&#174; Retained Mode callback functions are:
<UL>
<LI><A HREF="Callbacks.htm#D3DRMDEVICE3UPDATECALLBACK">D3DRMDEVICE3UPDATECALLBACK</A> (replaces <b>D3DRMUPDATECALLBACK</b>)
<LI><A HREF="Callbacks.htm#D3DRMDOWNSAMPLECALLBACK">D3DRMDOWNSAMPLECALLBACK</A> 
<LI><A HREF="Callbacks.htm#D3DRMFRAME3MOVECALLBACK">D3DRMFRAME3MOVECALLBACK</A> (replaces <b>D3DRMFRAMEMOVECALLBACK</b>)
<LI><A HREF="Callbacks.htm#D3DRMLOADCALLBACK">D3DRMLOADCALLBACK</A>
<LI><A HREF="Callbacks.htm#D3DRMLOADTEXTURECALLBACK">D3DRMLOADTEXTURECALLBACK</A>
<LI><A HREF="Callbacks.htm#D3DRMOBJECTCALLBACK">D3DRMOBJECTCALLBACK</A>
<LI><A HREF="Callbacks.htm#D3DRMUSERVISUALCALLBACK">D3DRMUSERVISUALCALLBACK</A>
<LI><A HREF="Callbacks.htm#D3DRMVALIDATIONCALLBACK">D3DRMVALIDATIONCALLBACK</A> 
<LI><A HREF="Callbacks.htm#D3DRMWRAPCALLBACK">D3DRMWRAPCALLBACK</A>
</UL>

<H1><A NAME="D3DRMDEVICE3UPDATECALLBACK" IDX_CONCEPT="D3DRMUPDATECALLBACK, replaced callback">D3DRMDEVICE3UPDATECALLBACK</A><HR size=1></H1>
<P>Alerts the application when the device changes. This callback function is application-defined.
<P>
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>void (</B><I>*D3DRMDEVICE3UPDATECALLBACK</I><B>)(
  LPDIRECT3DRMDEVICE3</B> <I>lpobj</I><B>,
  LPVOID</B> <I>lpArg</I><B>,
  int</B> <I>iRectCount</I><B>,
  LPD3DRECT</B> <I>d3dRectUpdate</I><B>);</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>lpobj</I>
</DT><DD>Pointer to the address of the <a href="device3.htm">Direct3DRMDevice3</a> object to which this callback function applies.
</DD><DT><I>lpArg</I>
</DT><DD>Pointer to the address of application-defined data passed to this callback function.
</DD><DT><I>iRectCount</I>
</DT><DD>Number of rectangles specified in the <I>d3dRectUpdate</I> parameter.
</DD><DT><I>d3dRectUpdate</I>
</DT><DD>Array of one or more <A HREF="FurtherReading.htm#D3DRECT">D3DRECT</A> structures that describe the area to be updated. The coordinates are specified in device units.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>When determining the order in which to use callback functions, the system searches the objects highest in the hierarchy first, and then uses their callback functions in the order in which they were created.

<p><b>D3DRMDEVICE3UPDATECALLBACK</b> was introduced with DirectX version 6.0 and replaces the older <b>D3DRMUPDATECALLBACK</b>. The only difference between the two callbacks is that the new callback takes a <b>Direct3DRMDevice3</b> object, rather than a <b>Direct3DRMDevice</b> object for the <I>lpobj</I> parameter.
</BLOCKQUOTE>

<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Device3.htm#AddUpdateCallback">IDirect3DRMDevice3::AddUpdateCallback</A>, <A HREF="Device3.htm#DeleteUpdateCallback">IDirect3DRMDevice3::DeleteUpdateCallback</A>, <A HREF="Device3.htm#Update">IDirect3DRMDevice3::Update</A>
</BLOCKQUOTE>

<H1><A NAME="D3DRMDOWNSAMPLECALLBACK">D3DRMDOWNSAMPLECALLBACK</A><HR size=1></H1>
<P>Called when the video memory is getting overloaded and the texture surfaces need to be reduced in size. Direct3D Retained Mode provides default methods for reducing texure sizes, such as DirectDraw blitting and bilinear filtering, but users can define their own method to scale down texture size with this callback. This callback function is application-defined.
<P>
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT (</B><I>*D3DRMDOWNSAMPLECALLBACK</I><B>)(
  LPDIRECT3DRMTEXTURE3</B> <I>lpDirect3DRMTexture</I><B>,
  LPVOID</B> <I>lpArg</I><B>,
  LPDIRECTDRAWSURFACE</B> <I>pDDSSrc</I><B>,
  LPDIRECTDRAWSURFACE</B> <I>pDDSDst</I><B>);</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>lpDirect3DRMTexture</I>
</DT><DD>Pointer to the address of the <a href="texture3.htm">Direct3DRMTexture3</a> object to which this callback function applies.
</DD><DT><I>lpArg</I>
</DT><DD>Pointer to the address of application-defined data passed to this callback function.
</DD><DT><I>pDDSSrc</I>
</DT><DD>Pointer to the system memory prototype surface.
</DD><DT><I>pDDSDst</I>
</DT><DD>Pointer to the scaled down surface.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p><b>D3DRMDOWNSAMPLECALLBACK</b> was introduced with DirectX version 6.0.
</BLOCKQUOTE>

<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#SetDownsampleCallback">IDirect3DRMTexture3::SetDownsampleCallback</A>
</BLOCKQUOTE>
<H1><A NAME="D3DRMFRAME3MOVECALLBACK" IDX_CONCEPT="D3DRMFRAMEMOVECALLBACK, replaced callback">D3DRMFRAME3MOVECALLBACK</A><HR size=1></H1>
<P>Enables an application to apply customized algorithms when a frame is moved or updated. You can use this callback function to compensate for changing frame rates. This callback function is application-defined.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>void (</B><I>*D3DRMFRAME3MOVECALLBACK</I><B>)(
  LPDIRECT3DRMFRAME3</B> <I>lpD3DRMFrame</I><B>,
  LPVOID</B> <I>lpArg</I><B>,
  D3DVALUE</B> <I>delta</I><B>);</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>lpD3DRMFrame</I>
</DT><DD>Pointer to the address of the <a href="frame3oview.htm">Direct3DRMFrame3</a> object that is being moved.
</DD><DT><I>lpArg</I>
</DT><DD>Pointer to the address of application-defined data passed to this callback function.
</DD><DT><I>delta</I>
</DT><DD>Amount of change to apply to the movement. There are two components to the change in position of a frame: linear and rotational. The change in each component is equal to <I>velocity_of_component</I> &#215; <I>delta</I>. Although either or both of these velocities can be set relative to any frame, the system automatically converts them to velocities relative to the parent frame for the purpose of applying time deltas. 
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>Your application can synthesize the acceleration of a frame relative to its parent frame. To do so, on each tick your application should set the velocity of the child frame relative to itself to (<I>a</I> units per tick) &#215; 1 tick, where <I>a</I> is the required acceleration. This is equal to <I>a</I> &#215; <I>delta</I> units per tick. Internally, <I>a</I> &#215; <I>delta</I> units per tick relative to the child frame is converted to (<I>v</I> + (<I>a</I> &#215; <I>delta</I>)) units per tick relative to the parent frame, where <I>v</I> is the current velocity of the child relative to the parent.
<P>You can add and remove this callback function from your application by using the <A HREF="Frame3AtoM.htm#AddMoveCallback">IDirect3DRMFrame3::AddMoveCallback</A> and <A HREF="Frame3AtoM.htm#DeleteMoveCallback">IDirect3DRMFrame3::DeleteMoveCallback</A> methods.
<P>When determining the order in which to use callback functions, the system searches the objects highest in the hierarchy first, and then uses their callback functions in the order in which they were created.

<p><b>D3DRMFRAME3MOVECALLBACK</b> was introduced with DirectX version 6.0 and replaces the older <b>D3DRMFRAMEMOVECALLBACK</b>. The only difference between the two callbacks is that the new callback takes a <b>Direct3DRMFrame3</b> object rather than a <b>Direct3DRMFrame</b> object for the <I>lpD3DRMFrame</I> parameter.
</BLOCKQUOTE>

<H1><A NAME="D3DRMLOADCALLBACK">D3DRMLOADCALLBACK</A><HR size=1></H1>
<P>Loads objects named in a call to the <A HREF="IDirect3DRM3.htm#Load">IDirect3DRM3::Load</A> method. This callback function is application-defined.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>void (</B><I>*D3DRMLOADCALLBACK</I><B>)(</B>
  <B>LPDIRECT3DRMOBJECT</B> <I>lpObject</I><B>,
  REFIID</B> <I>ObjectGuid</I><B>,
  LPVOID</B> <I>lpArg</I><B>);</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>lpObject</I>
</DT><DD>Pointer to the address of the Direct3DRMObject being loaded.
</DD><DT><I>ObjectGuid</I>
</DT><DD>Globally unique identifier (GUID) of the object being loaded.
</DD><DT><I>lpArg</I>
</DT><DD>Pointer to the address of application-defined data passed to this callback function.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>When determining the order in which to use callback functions, the system searches the objects highest in the hierarchy first, and then uses their callback functions in the order in which they were created.
</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="IDirect3DRM3.htm#Load">IDirect3DRM3::Load</A> 
</BLOCKQUOTE>
<H1><A NAME="D3DRMLOADTEXTURECALLBACK">D3DRMLOADTEXTURECALLBACK</A><HR size=1></H1>
<P>Loads texture maps from a file or resource named in a call to one of the <B>Load</B> methods. This callback function is application-defined.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT (</B><I>*D3DRMLOADTEXTURECALLBACK</I><B>)(
  char</B> <I>*tex_name</I><B>,
  void</B> <I>*lpArg</I><B>,
  LPDIRECT3DRMTEXTURE</B> <I>*lpD3DRMTex</I><B>);</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>tex_name</I>
</DT><DD>Pointer to the address of a string containing the name of the texture.
</DD><DT><I>lpArg</I>
</DT><DD>Pointer to the address of application-specific data.
</DD><DT><I>lpD3DRMTex</I>
</DT><DD>Pointer to the address of the Direct3DRMTexture object.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Should return D3DRM_OK if successful, or an error otherwise. For a list of possible errors, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>Applications can use this callback function to implement support for textures that are not in the Microsoft&#174; Windows&#174; bitmap (.bmp) or Portable Pixelmap bitmap (.ppm) P6 format. The P6 format is a binary file format for color images.
<P>When determining the order in which to use callback functions, the system searches the objects highest in the hierarchy first, and then uses their callback functions in the order in which they were created.
</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="IDirect3DRM3.htm#Load">IDirect3DRM3::Load</A>, <A HREF="AnimationSet2.htm#IDirect3DRMAnimationSet2_Load">IDirect3DRMAnimationSet2::Load</A>, <A HREF="Frame3AtoM.htm#Load">IDirect3DRMFrame3::Load</A>, <A HREF="MeshBuilder3.htm#Load">IDirect3DRMMeshBuilder3::Load</A>
</BLOCKQUOTE>

<H1><A NAME="D3DRMLOADTEXTURE3CALLBACK">D3DRMLOADTEXTURE3CALLBACK</A><HR size=1></H1>
<P>Loads texture maps from a file or resource named in a call to one of the <B>Load</B> methods. This callback function is application-defined.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT (</B><I>*D3DRMLOADTEXTURE3CALLBACK</I><B>)(
  char</B> <I>*tex_name</I><B>,
  void</B> <I>*lpArg</I><B>,
  LPDIRECT3DRMTEXTURE3</B> <I>*lpD3DRMTex3</I><B>);</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>tex_name</I>
</DT><DD>Pointer to the address of a string containing the name of the texture.
</DD><DT><I>lpArg</I>
</DT><DD>Pointer to the address of application-specific data.
</DD><DT><I>lpD3DRMTex3</I>
</DT><DD>Pointer to the address of the Direct3DRMTexture3 object.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Should return D3DRM_OK if successful, or an error otherwise. For a list of possible errors, see <A HREF="ReturnValues.htm">Direct3D Retained Mode Return Values</A>.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>Applications can use this callback function to implement support for textures that are not in the Microsoft&#174; Windows&#174; bitmap (.bmp) or Portable Pixelmap bitmap (.ppm) P6 format. The P6 format is a binary file format for color images.
<P>When determining the order in which to use callback functions, the system searches the objects highest in the hierarchy first, and then uses their callback functions in the order in which they were created.
</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="IDirect3DRM3.htm#Load">IDirect3DRM3::Load</A>, <A HREF="AnimationSet2.htm#IDirect3DRMAnimationSet2_Load">IDirect3DRMAnimationSet2::Load</A>, <A HREF="Frame3AtoM.htm#Load">IDirect3DRMFrame3::Load</A>, <A HREF="MeshBuilder3.htm#Load">IDirect3DRMMeshBuilder3::Load</A>
</BLOCKQUOTE>


<H1><A NAME="D3DRMOBJECTCALLBACK">D3DRMOBJECTCALLBACK</A><HR size=1></H1>
<P>Enumerates objects in response to a call to the <A HREF="IDirect3DRM3.htm#EnumerateObjects">IDirect3DRM3::EnumerateObjects</A> method. This callback function is application-defined.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>void (</B><I>*D3DRMOBJECTCALLBACK</I><B>)(
  LPDIRECT3DRMOBJECT</B> <I>lpD3DRMobj</I><B>,
  LPVOID</B> <I>lpArg</I><B>);</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>lpD3DRMobj</I>
</DT><DD>Pointer to the <A HREF="Object.htm">IDirect3DRMObject</A> interface for the object being enumerated. The application must use the <B>Release</B> method for each enumerated object.
</DD><DT><I>lpArg</I>
</DT><DD>Pointer to the address of application-defined data passed to this callback function.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>When determining the order in which to use callback functions, the system searches the objects highest in the hierarchy first, and then uses their callback functions in the order in which they were created.
</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="IDirect3DRM3.htm#EnumerateObjects">IDirect3DRM3::EnumerateObjects</A> 
</BLOCKQUOTE>


<H1><A NAME="D3DRMUSERVISUALCALLBACK">D3DRMUSERVISUALCALLBACK</A><HR size=1></H1>
<P>Alerts an application that supplies user-visual objects that it should execute the execute buffer. This function is application-defined.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>int (</B><I>*D3DRMUSERVISUALCALLBACK</I><B>)(
  LPDIRECT3DRMUSERVISUAL</B> <I>lpD3DRMUV</I><B>,
  LPVOID</B> <I>lpArg</I><B>,
  D3DRMUSERVISUALREASON</B> <I>lpD3DRMUVreason</I><B>,
  LPDIRECT3DRMDEVICE</B> <I>lpD3DRMDev</I><B>,
  LPDIRECT3DRMVIEWPORT</B> <I>lpD3DRMview</I><B>);</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>lpD3DRMUV</I>
</DT><DD>Pointer to the address of the Direct3DRMUserVisual object.
</DD><DT><I>lpArg</I>
</DT><DD>Pointer to the address of application-defined data passed to this callback function.
</DD><DT><I>lpD3DRMUVreason</I>
</DT><DD>One of the members of the <A HREF="Enums.htm#D3DRMUSERVISUALREASON">D3DRMUSERVISUALREASON</A> enumerated type:
<DL>
<DT>D3DRMUSERVISUAL_CANSEE
 </DT><DD>The application should return TRUE if the user-visual object is visible in the viewport. In this case, the application uses the device specified in the <I>lpD3DRMview</I> parameter.
</DD><DT>D3DRMUSERVISUAL_RENDER
 </DT><DD>The application should render the user-visual element. In this case, the application uses the device specified in the <I>lpD3DRMDev</I> parameter.
</DD></DL>
</DD><DT><I>lpD3DRMDev</I>
</DT><DD>Pointer to the address of a Direct3DRMDevice object used to render the Direct3DRMUserVisual object.
</DD><DT><I>lpD3DRMview</I>
</DT><DD>Pointer to the address of a Direct3DRMViewport object used to determine whether the Direct3DRMUserVisual object is visible.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns TRUE if the <I>lpD3DRMUVreason</I> parameter is D3DRMUSERVISUAL_CANSEE, and the user-visual object is visible in the viewport. Returns FALSE otherwise. If the <I>lpD3DRMUVreason</I> parameter is D3DRMUSERVISUAL_RENDER, the return value is application-defined. It is always safe to return TRUE.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>If the application changes the render state, it should restore the render state before returning from this function.

<P>When determining the order in which to use callback functions, the system searches the objects highest in the hierarchy first, and then uses their callback functions in the order in which they were created.
</BLOCKQUOTE>
<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="UserVisual.htm#Init">IDirect3DRMUserVisual::Init</A> and <A HREF="IDirect3DRM3.htm#CreateUserVisual">IDirect3DRM3::CreateUserVisual</A>
</BLOCKQUOTE>

<H1><A NAME="D3DRMVALIDATIONCALLBACK">D3DRMVALIDATIONCALLBACK</A><HR size=1></H1>
<P>Called when a texture region that has previously been marked as invalid, meaning it has changed but not been updated, now needs to be updated. This callback function is application-defined.
<P>
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>HRESULT (</B><I>*D3DRMVALIDATIONCALLBACK</I><B>)(
  LPDIRECT3DRMTEXTURE3</B> <I>lpDirect3DRMTexture</I><B>,
  LPVOID</B> <I>lpArg</I><B>,
  DWORD</B> <I>dwFlags</I><B>,
  DWORD</B> <I>dwcRects</I><B>,
  LPRECT</B> <I>pRects</I><B>);</B></PRE>
</BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>lpDirect3DRMTexture</I>
</DT><DD>Pointer to the address of the <a href="texture3.htm">Direct3DRMTexture3</a> object to which this callback function applies.
</DD><DT><I>lpArg</I>
</DT><DD>Pointer to the address of application-defined data passed to this callback function.
</DD><DT><I>dwFlags</I>
</DT><DD>Not used. Set to 0. 
</DD><DT><I>dwcRects</I>
</DT><DD>Number of rectangles specified in the <I>pRects</I> parameter.
</DD><DT><I>pRects</I>
</DT><DD>Array of one or more <B>RECT</B> structures that describe the area to be updated. The coordinates are specified in device units.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>When you want to inform Direct3D Retained Mode that a texture region has been changed but want to defer changing it, you can say the region is invalid and store the region in the array pointed to by <I>pRects</I>. Then, if the texture is needed, call this callback function to inform your application to update the texture region.

<p><b>D3DRMVALIDATIONCALLBACK</b> was introduced with DirectX version 6.0.
</BLOCKQUOTE>

<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="Texture3.htm#SetValidationCallback">IDirect3DRMTexture3::SetValidationCallback</A>
</BLOCKQUOTE>


<H1><A NAME="D3DRMWRAPCALLBACK">D3DRMWRAPCALLBACK</A><HR size=1></H1>
<P>This callback function is not supported.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE><B>void (</B><I>*D3DRMWRAPCALLBACK</I><B>)(
  LPD3DVECTOR</B> <I>lpD3DVector</I><B>,
  int*</B> <I>lpU</I><B>,
  int*</B> <I>lpV</I><B>,
  LPD3DVECTOR</B> <I>lpD3DRMVA</I><B>,
  LPD3DVECTOR</B> <I>lpD3DRMVB</I><B>,
  LPVOID</B> <I>lpArg</I><B>);</B>
</PRE>
</BLOCKQUOTE>
<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H5><HR size=1></H5>
<P><A class="line" HREF="#pagetop"><IMG src="../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A Class="line" HREF="../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
