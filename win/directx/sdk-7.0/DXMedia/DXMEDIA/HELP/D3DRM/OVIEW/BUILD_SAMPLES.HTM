<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>Building Samples Using Developer Studio 5.0</TITLE>
<SCRIPT LANGUAGE="JAVASCRIPT"> var sRelPath = '../' </SCRIPT>

<META NAME="MS-HAID" CONTENT="_D3DRM_BUILDING_SAMPLES">
<META NAME="Description" CONTENT="Building Samples">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../ver.js"></SCRIPT>
<SCRIPT SRC="../gloss.js"></SCRIPT>


<SCRIPT DEFER SRC="../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
   var sVR = '../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicSDKIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicSDKIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicSDKNAV';
   }
   else
   {
	   sCSS += 'dxm_basicSDKIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></a><A NAME="buildsamp"></A>



<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="Direct3D Retained Mode Animated Header"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217">
<IMG SRC="../art/HDRd3drm.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="Direct3D Retained Mode Animated Header"></TD><TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="Direct3D Retained Mode Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft Direct3D Retained Mode SDK"></TD></TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../contents.htm">Contents</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../index.htm">Index</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="samples_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="samples_intro.htm">Samples Introduction</A>
<IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="samples.htm">Samples</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->

<BLOCKQUOTE CLASS="body">

<!-- CONTENTS_START -->



<H1><A NAME="buildsamp" IDX_CONCEPT="NOINDEX;Developer Studio, Building Samples; building samples in Developer Studio; samples, building in Developer Studio">Building Samples Using Developer Studio 5.0</A></H1>

<P>Each sample included with the Microsoft&reg; DirectX&reg; Software Development Kit includes a makefile that you can use to build the
sample from the command line. You can then run the sample to see what it does. When you find a sample
that interests you, you might want to explore further and step through the code yourself. If you want
to build and debug samples (or your own code) using Microsoft Developer Studio&#153;, you will want to create a project within Developer Studio. This article discusses how to create a project in Developer Studio version 5.0. The project file must include the necessary source files and libraries, and Developer Studio must be configured with the correct library and include paths so that the compiler can locate the required library and header files.

<P><B>Note</B> See the readme.txt file in the DirectX SDK Samples directory for information about building samples from the command line. 



<P>This article contains the following sections.
<BLOCKQUOTE>
<UL>
<LI><A HREF="#buildsamp01">Tools Options</A>
<LI><A HREF="#buildsamp02">Creating a New Project</A>
<LI><A HREF="#buildsamp03">Project Settings</A>
<LI><A HREF="#buildsamp04">Adding Libraries</A>
<LI><A HREF="#buildsamp05">Setting the Working Directory</A>
<LI><A HREF="#buildsamp06">Adding Files to the Project</A>
</UL>
</BLOCKQUOTE>

<H2><A NAME="buildsamp01" IDX_CONCEPT="Developer Studio, Setting Tools Options; Developer Studio, Setting the Include Search Path; Developer Studio, Setting the Library Search Path; tools options, setting in Developer Studio; include search path, setting in Developer Studio; library search path, setting in Developer Studio">Tools Options</A></H2>
<P>You must specify where the header and library files from the DirectX SDK are located when using Developer Studio. These settings are global within Developer Studio and do not need to be repeated for each project.

<p>Perform the following steps to add the DirectX SDK header and library directories to the include and library file search paths.

<OL>
	<LI>Within Developer Studio, choose <b>Options</b> from the <b>Tools</b> menu.
	<LI>Select the <b>Directories</b> tab.
	<LI>In the <b>Show Directories for</b> dialog box, choose <b>Include</b> files.
	<LI>Double-click the dotted rectangle below the list of directories and type in the full path for your DirectX SDK include directory. You can also press the &quot;...&quot; (browse) button that appears on the right side of the entry field when you select the rectangle and then navigate to the correct directory. By default, the header (include) files are installed in c:\mssdk\include.
	<LI>Press the enter key to complete the entry, re-select the new entry if necessary, and then press the <b>Move Item Up</b> button
<IMG SRC="../art/msvcdlg1.gif" align=absbottom width=22 height=20 ALT="Move Item Up button">
repeatedly to move the directory up one position at a time, to the top of the directory list. Placing the directory at the top of the list ensures that the DirectX files will come first in the search path and will be used in case of duplicate file names.
<p>The following screen shot shows the <b>Directories</b> tab of the <b>Tools Options</b> dialog box with the default include directory at the top of the directory list.
<p><IMG SRC="../art/msvcdlg2.gif" WIDTH=417 HEIGHT=319 ALT="Directories tab of Tools Options dialog box"> 

	<LI>After you have added the include directory, add the library directory. In the <b>Show directories for</b> dialog box, choose <b>Library files</b>.
	<LI>Double-click the dotted rectangle below the list of directories and type in the full path (or use the &quot;...&quot; (browse) button to select a path) for your DirectX SDK library directory. By default, the library files are installed in c:\mssdk\lib.
	<LI>Press the enter key to complete the entry, re-select the new entry if necessary, and then press the <b>Move Item Up</b> button repeatedly to move the directory up one position at a time, to the top of the directory list.
</OL>

<H2><A NAME="buildsamp02" IDX_CONCEPT="Developer Studio, Creating a New Project; project, creating in Developer Studio">Creating a New Project</A></H2>
<p>Perform the following steps to create a new project.
<OL>
	<LI>Choose <b>New</b> from Developer Studio's <b>File</b> menu.
	<LI>Select the <b>Projects</b> tab.
	<LI>Select the appropriate project type. &quot;Win32&reg; Application&quot; is appropriate for Windows&reg; applications.
	<LI>Type in a project name.
	<LI>Edit the path for project location to point to your desired location, or use the &quot;...&quot; (browse) button to navigate to that directory. Note that the project name is appended to this path.
</OL>

<H2><A NAME="buildsamp03" IDX_CONCEPT="Developer Studio Project Settings;project settings in Developer Studio">Project Settings</A></H2>
<P>This section discusses how to add the appropriate libaries to your project and how to set the working directory. Open a project in Developer Studio before proceeding.

<H2><A NAME="buildsamp04" IDX_CONCEPT="Developer Studio, Adding Libraries; libraries, adding in Developer Studio">Adding Libraries</A></H2>
<P>
<OL>
	<LI>Choose <b>Settings</b> from Developer Studio's <b>Project</b> menu.
	<LI>Select the <b>Link</b> tab.
	<LI>Choose <b>General</b> from the <b>Category</b> dialog box.
	<LI>Choose <b>All Configurations</b> from the <b>Settings For</b> dialog box.
	<LI>In the <b>Object/library modules</b> edit control, type the names of the libraries your project requires. You will typically put those libraries at the beginning of the list so definitions will be picked up first from those core libraries.

<p>The required libraries vary from project to project, depending on the technology the code uses. If in doubt about the libraries required for a particular sample, search the makefile in that sample's directory and include the same library list. The following table lists the most commonly used libraries included with the DirectX SDK. The Winmm.lib library included with the Platform SDK includes additional multimedia functionality as well.
<TABLE>
<TR>
	<TD>DirectDraw</TD>
	<TD>ddraw.lib</TD>
</TR>
<TR>
	<TD>Direct3D Retained Mode</TD>
	<TD>d3drm.lib</TD>
</TR>
<TR>
	<TD>DirectSound</TD>
	<TD>dsound.lib</TD>
</TR>
<TR>
	<TD>DirectPlay</TD>
	<TD>dplayx.lib</TD>
</TR>
<TR>
	<TD>DirectInput</TD>
	<TD>dinput.lib</TD>
</TR>
</TABLE>
<p>For example, the Tex1 sample's <I>makefile</I> lists ddraw.lib and d3drm.lib because it uses Microsoft DirectDraw&reg; and Direct3D&reg; Retained Mode.
</OL>

<p>The following screen shot shows the <b>Link</b> tab of the <b>Project Settings</b> dialog box. It specifies the settings for all configurations and adds multimedia and DirectX libraries to the beginning of Developer Studio's default <b>Object/library modules</b> list.
<p>
<IMG SRC="../art/msvcdlg3.gif" width="577" height="372" ALT="Link tab of the Project Settings dialog box"> 

<H2><A NAME="buildsamp05" IDX_CONCEPT="Developer Studio, Setting the Working Directory; working directory, setting in Developer Studio">Setting the Working Directory</A></H2>
<P>You might need to set the working directory to make sure your program can find certain files. For example, you might need to load an image from the directory in which your program resides. By default, Developer Studio sets the current working directory to the directory in which it resides, rather than to the directory containing your program.

<p>Perform the following steps to set the working directory.
<OL>
	<LI>Choose <b>Settings</b> from Developer Studio's <b>Project</b> menu.
		<LI>Select the <b>Debug</b> tab.
	<LI>Choose the appropriate configuration (&quot;All Configurations&quot; or &quot;Win32 Debug&quot;, for example) from the <b>Settings For</b> dialog box.	
	<LI>Type the full path to your desired working directory in the <b>Working directory</b> edit control.
</OL>

<p>The following screen shot shows the <b>Debug</b> tab of the <b>Project Settings</b> dialog box. It specifies a working directory for the Win32 Debug configuration.
<p>
<IMG SRC="../art/msvcdlg4.gif" width="577" height="372" ALT="Debug tab of the Project Settings dialog box"> 

<H2><A NAME="buildsamp06" IDX_CONCEPT="Developer Studio, Adding Files to the Project; files, adding to a project in Developer Studio">Adding Files to the Project</A></H2>
<P>Perform the following steps to add any required files to your project. Open a project in Developer Studio before proceeding.
<OL>
	<LI>Choose <b>Add To Project</b> from Developer Studio's <b>Project</b> menu.
	<LI>If you are creating a new file, select <b>New</b>, select the type of file, and specify a file name.
	<LI>If you are opening an existing file, select <b>Files</b> and select the file you want to add to the project.
	<LI>Repeat the previous steps until you have added all required source files (such as .cpp or .c), resource files (such as .rc), and any other necessary files.
    <li>Choose Save All from Developer Studio's <B>File</B> menu to save all files including source code, project files, and the workspace.
</OL>

<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H5><HR size=1></H5>
<P><A class="line" HREF="#pagetop"><IMG src="../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A Class="line" HREF="../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
