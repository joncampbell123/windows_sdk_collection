<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>IDXBaseObject</TITLE>
<SCRIPT LANGUAGE="JavaScript"> var sRelPath = '../../' </SCRIPT>


<META NAME="Description" CONTENT="IDXBaseObject">
<META NAME="Description" CONTENT="IDXBaseObject::GetGenerationId">
<META NAME="Description" CONTENT="IDXBaseObject::GetObjectSize">
<META NAME="Description" CONTENT="IDXBaseObject::IncrementGenerationId">
<META NAME="Description" CONTENT="GetGenerationId (IDXBaseObject)">
<META NAME="Description" CONTENT="GetObjectSize (IDXBaseObject)">
<META NAME="Description" CONTENT="IncrementGenerationId (IDXBaseObject)">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">
<!-- SNIFF_START -->

<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../../ver.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>
<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- STYLE_START -->

<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
   var sVR = '../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicSDKIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicSDKIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicSDKNAV';
   }
   else
   {
	   sCSS += 'dxm_basicSDKIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->

</HEAD>


<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="IDXBaseObject"></A>
<!--TOOLBAR_START-->

<!--TOOLBAR_EXEMPT-->

<!--TOOLBAR_END-->



<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectX Transform Animated Header -- Microsoft DirectX Transform SDK"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../../art/hdrdtrns.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="Microsoft DirectX Transform SDK"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectX Transform Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectX Transform SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../../contents.htm">Contents</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../../index.htm">Index</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="interface_intro.htm">Topic Contents</A>
</PRE></TD></TR>

<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="idxargbsurfaceinit.htm">IDXARGBSurfaceInit Interface</A>
<IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="IDXBindHost.htm">IDXBindHost Interface</A>
</PRE></TD></TR></TABLE>

<!-- NAV_LINKS_END -->





<BLOCKQUOTE class="body">

<!-- CONTENTS_START -->


<H1>IDXBaseObject Interface</H1>
<p>The <B>IDXBaseObject</B> interface is used to manage the generation ID of an object. Every time an operation changes the state of an object, the generation ID is incremented. The following are examples of operations that change the generation IDs of objects.

<ul>
	<li> Locking a surface with a read/write pointer.
	<li> Setting up a transform.
	<li> Changing the properties of a transform.
	<li> Changing the properties of a procedural surface.
</ul>

<P>When calling the <A HREF="#GetGenerationId">IDXBaseObject::GetGenerationId</A> method for a transform, the transform examines the generation IDs of all inputs. If they have changed, the transform's generation ID changes. If the ID has not changed since the last time a transform was executed or a surface was used, this indicates that the data has not changed. It may then be possible to skip execution of a transform <b>Setup</b> or the copying of a surface.


<p>The <B>IDXBaseObject</B> interface is exposed on <A HREF="../../overview/about_dxtrans.htm#dxtrans_and_dxsurf">DXSurface</A> objects and <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#gloss_dxtransform')">DXTransform</A> objects.

<P CLASS="ref">IDXBaseObject Methods</P>
<BLOCKQUOTE>
<TABLE CLASS="ref">
<TR><TD><A HREF="IDXBaseObject.htm#GetGenerationId">GetGenerationId</A></TD>
	<TD>Retrieves the current generation ID for the surface.
</TD></TR>
<TR><TD><A HREF="IDXBaseObject.htm#GetObjectSize">GetObjectSize</A></TD>
	<TD>Retrieves the size, in bytes, of the data object (for example, a surface or buffer).
</TD></TR>
<TR><TD><A HREF="IDXBaseObject.htm#IncrementGenerationId">IncrementGenerationId</A></TD>
	<TD>Increments the surface generation ID manually.
</TD></TR>

</TABLE>
</BLOCKQUOTE>



<H1><A NAME="GetGenerationId">IDXBaseObject::GetGenerationId</A><HR size=1></H1>
<p>Retrieves the current generation ID for the object.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetGenerationId(
	ULONG *pID
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pID</I> 


 </DT><DD>[out] Location to store the generation ID.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>Calling methods can use the generation ID to determine whether cached dependencies


are still valid. Transforms will examine all input generation IDs during this call. If any have changed, they will increment their own generation ID and cache the input's new generation ID. 
</BLOCKQUOTE>

<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="IDXBaseObject.htm#IncrementGenerationID">IDXBaseObject::IncrementGenerationID</A>
</BLOCKQUOTE>

<H1><A NAME="GetObjectSize">IDXBaseObject::GetObjectSize</A><HR size=1></H1>
<p>Retrieves the size, in bytes, of the data object (for example, a surface or buffer).

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetObjectSize(
	ULONG *pcbSize
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pcbSize</I> 


 </DT><DD>[out] Location to store the object size, in bytes.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Always returns <A HREF="../errorandsuccess.htm">S_OK</A>.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>If the value returned to <I>pcbSize</I> is zero, the actual size of the object is indeterminate.
</BLOCKQUOTE>




<H1><A NAME="IncrementGenerationId">IDXBaseObject::IncrementGenerationId</A><HR size=1></H1>
<p>Manually increments the object generation ID.


<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT IncrementGenerationId(
	BOOL bRefresh
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>bRefresh</I> 
 </DT><DD>[in] If this flag is FALSE, the generation ID number in the object is incremented and no further processing occurs.  If TRUE, the object should discard any cached information about other objects it holds references to and refresh the information as necessary. In the case of a <B>DXSurface</B> object, this causes it to discard its palette and run information and to re-examine the color key, pixel format, and height and width. In the case of a <B>DXTransform</B> object, this will force the transform to perform a new <b>Setup</b> operation using the current inputs and outputs, which will force the transform to re-examine the objects.







</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>
Objects that support <B>IDXBaseObject</B> are responsible for automatically incrementing their generation ID whenever they change state, so this method is rarely needed.







<p>
In some cases, clients may want to simply change the ID of an object to force a re-evaluation of an object. For example, if the contents of a window are lost, the client could increment the generation ID of a transform to force it to be executed again when the window is repainted.  In this case, the caller would always specify a <i>bRefresh</i> value of FALSE.
<p>
In other cases, objects hold references to data that can be modified without the knowledge of the containing object. For example, if the client calls the <B>GetDirectDrawSurface</B> method


on a <B>DXSurface</B> and then modifies the <B>DirectDrawSurface</B> in some way (modifies the pixels, attaches a palette, sets a new color key, and so on), you should use the <b>IncrementGenerationId</b> method (TRUE)


on the <B>DXSurface</B> to force it to re-examine the <B>DirectDrawSurface</B>. Transforms may cache information about the bounds and sample formats of input surfaces. If you change the bounds of a procedural surface, for example, you would need to refresh the transform object.


</BLOCKQUOTE>

<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<P><A HREF="IDXBaseObject.htm#GetGenerationId">IDXSurface::GetGenerationId</A>
</BLOCKQUOTE>

<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A CLASS="line" HREF="#pagetop"><IMG src="../../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A CLASS="line" HREF="../../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>
<!-- START POP-UP GLOSSARY -->

<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>
<!-- END POP-UP GLOSSARY -->


<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY></HTML>
