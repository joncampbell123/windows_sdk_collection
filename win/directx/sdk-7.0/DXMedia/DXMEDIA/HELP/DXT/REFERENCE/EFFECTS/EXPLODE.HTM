<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>Explode Transform</TITLE>
<SCRIPT LANGUAGE="JavaScript"> var sRelPath = '../../' </SCRIPT>




<META NAME="Description" CONTENT="Explode transform">

<META NAME="KEYWORDS" CONTENT="Explode transform">

<META NAME="PRODUCT" CONTENT="DirectX Transform">

<META NAME="CATEGORY" CONTENT="Technical documentation; download">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../../ver.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>
<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- STYLE_START -->

<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
   var sVR = '../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicSDKIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicSDKIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicSDKNAV';
   }
   else
   {
	   sCSS += 'dxm_basicSDKIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="Effect_name"></A>
<!--TOOLBAR_START-->

<!--TOOLBAR_EXEMPT-->

<!--TOOLBAR_END-->


<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectX Transform Animated Header -- Microsoft DirectX Transform SDK"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../../art/hdrdtrns.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="Microsoft DirectX Transform SDK"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectX Transform Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectX Transform SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../../contents.htm">Contents</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../../index.htm">Index</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="effects.htm">Topic Contents</A>
</PRE></TD></TR>

<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="engrave.htm"> Engrave Transform</A>
<IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="fade.htm">Fade Transform</A>
</PRE></TD></TR></TABLE>

<!-- NAV_LINKS_END -->





<BLOCKQUOTE class="body">
<!-- CONTENTS_START -->

<h1>Explode Transform</h1>

<P>Generates a three-dimensional (3-D) explosion effect. The faces of the 3-D model rotate and tumble as they move outward in the direction of their normal. The explosion characteristics and rotations are adjustable. The tumbling is optional.
          

<CENTER>
<INPUT TYPE=BUTTON VALUE="Show Transform" ID=btnStart OnClick="start()"><BR><P>
<DIV ID=controlDiv align="center"> &nbsp; </DIV>
</CENTER>

<SCRIPT LANGUAGE="JavaScript">
  var FlagNotStarted = true;
  var FlagSCNotVisible = true;
  var DACONTROL = '<OBJECT ID="DAControl_explode" STYLE="width:230;height:180" \n'+
'CLASSID="CLSID:B6FFC24C-7E13-11D0-9B47-00C04FC2F51D"> \n'+
'</OBJECT> ';
 
function CreateDA() {
	controlDiv.innerHTML = DACONTROL;
}

function start(){
   if (FlagNotStarted){
   	CreateDA();
	runthis();
	show();
    }
    else {
    	hide();
    }
}

function show(){
	FlagNotStarted = false;
	btnStart.value="Hide Transform";
	btnStart.style.display='';
}
function hide(){
	FlagNotStarted=true;
	controlDiv.innerHTML = '';
	btnStart.value="Show Transform";
	controlDiv.innerHTML = '';
}
</SCRIPT>
<SCRIPT LANGUAGE="JScript">
<!--
function runthis()
    {
m = DAControl_explode.MeterLibrary;
 mediaBase = "../../art/";
 geoBase = mediaBase + "geometry/";
imageBase = mediaBase + "image/";
  swGeo = m.ModifiableBehavior(m.EmptyGeometry);
 swImg = m.ModifiableBehavior(m.EmptyImage);
  rawGeo = m.ImportGeometry(geoBase + "sphere.x");
 rawImg1 = m.ImportImage(imageBase + "tigerstripe.jpg");
  rawGeo = rawGeo.TextureImage(rawImg1.MapToUnitSquare());
  xf =new ActiveXObject("DX3DTransform.Microsoft.Explode");
 holdTime = m.DANumber(0).Duration(1);
 forward = m.Interpolate(0, 1, 3);
 back = m.Interpolate(1, 0, 3);
 evaluator = m.Sequence(holdTime, m.Sequence(forward, back)).RepeatForever();
  result = m.ApplyDXTransform(xf, new Array(rawGeo), evaluator);
 realGeo = result.OutputBvr;
  realTransScale = m.Scale3Uniform(0.015);
 realTransRotY = m.Rotate3Degrees( m.YVector3 ,135);
 realTransF = m.Compose3Array(new Array( realTransScale, realTransRotY));
  realGeo = realGeo.Transform(realTransF);
  swGeo.SwitchTo(realGeo);
  camera = m.PerspectiveCamera(0.06, 0.033);
 light = m.UnionGeometry(m.AmbientLight, m.DirectionalLight.Transform(m.Rotate3Degrees(m.XVector3,-90)));
 lightAndGeo = m.UnionGeometry(swGeo, light);
  swImg.SwitchTo(lightAndGeo.render(camera));
  DAControl_explode.Image = swImg;
 DAControl_explode.Start();
 }
 -->

 </SCRIPT> 
<BR><P>


<p class="ref">Transform Specifications</p>
<p>The following table contains the information you need in order to use this transform in C++ and script.</p>
<TABLE>

<TR><TH>Class identifier (CLSID)
</TH><TD>CLSID_Explode
</TD></TR>

<TR><TH>Globally unique identifier (GUID)
</TH><TD>141DBAF1-55FB-11D1-B83E-00A0C933BE86
</TD></TR>

<TR><TH>Programmatic identifier (ProgId)
</TH><TD>DX3DTransform.Microsoft.Explode
</TD></TR>

<TR><TH>Category identifier (CATID)
</TH><TD>CATID_DX3DTransform
</TD></TR>

<TR><TH>Custom interfaces
</TH><TD><B>IExplode</B>
</TD></TR>

<TR><TH>Supported interfaces
</TH><TD><A HREF="../../reference/Ifaces/idxeffect.htm">IDXEffect</A>
</TD></TR>

<TR><TH>Inputs
</TH><TD>One required of type <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#gloss_d3drmmeshbuilder')">Direct3DRMMeshBuilder3</A>.
</TD></TR>

<TR><TH>Output
</TH><TD><B>Direct3DRMMeshBuilder3</B>
</TD></TR>

</TABLE>

<p class="ref">Custom Properties</p>
<p>The following table lists the custom properties that control the transform output.</p>

<TABLE>
<TR><TH>Property</th>
<TH>Type</TH>
<TH>Default</TH>
<TH>Description</TH>
</TR>
<TR><TD>Tumble</TD>
<TD>Boolean</TD>
<TD>TRUE</TD>
<TD>If TRUE, causes the faces to tumble as they move rather than maintain the orientation of their normal.</TD>
</TR>
<TR><TD>MaxRotations</TD>
<TD>integer</TD>
<TD>2</TD>
<TD>The maximum rotations of a face as the faces move away from their original positions. The actual number of rotations and the direction of the rotation for any given face is randomly selected.
</TD>
</TR>
<TR><TD>FinalVelocity</TD>
<TD>float</TD>
<TD>2.0</TD>
<TD>Controls the speed of the faces as they move.
</TD>
</TR>
<TR><TD>PositionJump</TD>
<TD>float</TD>
<TD>0.5</TD>
<TD>An initial displacement for all fragments at the start, causing the explosion to initially appear faster.</TD>
</TR>
<TR><TD>DecayTime</TD>
<TD>float</TD>
<TD>0.1</TD>
<TD>The decay time of the explosion. This controls how quickly the fragments slow down to the final velocity after the start of the explosion. This value must be greater than 0.</TD>
</TR>
</TABLE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>The magnitude of the distance of each fragment from the original position is given by the following equation.

	<P><pre>Delta = FinalVelocity * t + PositionJump +  PositionJump * e^(-t/DecayTime)</pre>

<P>Where t is a number from 0.0 through 1.0.
</BLOCKQUOTE>







<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->



<H6><HR size=1></H6>
<P><A CLASS="line" HREF="#pagetop"><IMG SRC="../../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A CLASS="line" HREF="../../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>
<!-- START POP-UP GLOSSARY -->

<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>
<!-- END POP-UP GLOSSARY -->


<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY></HTML>
