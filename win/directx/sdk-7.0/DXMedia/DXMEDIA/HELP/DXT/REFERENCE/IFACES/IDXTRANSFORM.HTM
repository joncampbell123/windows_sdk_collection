<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>IDXTransform</TITLE>
<SCRIPT LANGUAGE="JavaScript"> var sRelPath = '../../' </SCRIPT>



<META NAME="Description" CONTENT="IDXTransform">
<META NAME="Description" CONTENT="IDXTransform::Execute">
<META NAME="Description" CONTENT="IDXTransform::GetInOutInfo">
<META NAME="Description" CONTENT="IDXTransform::GetMiscFlags">
<META NAME="Description" CONTENT="IDXTransform::SetQuality">
<META NAME="Description" CONTENT="IDXTransform::GetQuality">
<META NAME="Description" CONTENT="IDXTransform::MapBoundsIn2Out">
<META NAME="Description" CONTENT="IDXTransform::MapBoundsOut2In">
<META NAME="Description" CONTENT="IDXTransform::SetMiscFlags">
<META NAME="Description" CONTENT="IDXTransform::Setup">
<META NAME="Description" CONTENT="Execute (IDXTransform)">
<META NAME="Description" CONTENT="GetInOutInfo (IDXTransform)">
<META NAME="Description" CONTENT="GetMiscFlags (IDXTransform)">
<META NAME="Description" CONTENT="SetQuality (IDXTransform)">
<META NAME="Description" CONTENT="GetQuality (IDXTransform)">
<META NAME="Description" CONTENT="MapBoundsIn2Out (IDXTransform)">
<META NAME="Description" CONTENT="MapBoundsOut2In (IDXTransform)">
<META NAME="Description" CONTENT="SetMiscFlags (IDXTransform)">
<META NAME="Description" CONTENT="Setup (IDXTransform)">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../../ver.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>
<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- STYLE_START -->

<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
   var sVR = '../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicSDKIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicSDKIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicSDKNAV';
   }
   else
   {
	   sCSS += 'dxm_basicSDKIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>


<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="IDXTransform"></A>
<!--TOOLBAR_START-->

<!--TOOLBAR_EXEMPT-->

<!--TOOLBAR_END-->

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectX Transform Animated Header -- Microsoft DirectX Transform SDK"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../../art/hdrdtrns.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="Microsoft DirectX Transform SDK"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectX Transform Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectX Transform SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../../contents.htm">Contents</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../../index.htm">Index</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="interface_intro.htm">Topic Contents</A>
</PRE></TD></TR>

<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="idxtconvolution.htm">IDXTConvolution Interface</A>
<IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="IDXTransformFactory.htm">IDXTransformFactory Interface</A>
</PRE></TD></TR></TABLE>

<!-- NAV_LINKS_END -->


<BLOCKQUOTE class="body">

<!-- CONTENTS_START -->


<H1>IDXTransform Interface</H1>

<p>The <B>IDXTransform</B> interface is exposed on a Microsoft&reg; DirectX&reg; Transform object and is used to execute an operation on the defined inputs to produce graphics output. Input and output data objects are specified for transform objects in the <A HREF="IDXTransform.htm#Setup">IDXTransform::Setup</A> method. This method accepts pointers to the data object's <A HREF="../iunknown.htm">IUnknown</a> interface, enabling transform objects to support any number and type of data objects. If you provide only an output data object, then reading, modifying, and writing all occur on that object.

<p>All transforms on <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#gloss_dxsurface')">DXSurfaces</A> surfaces must support data access through
either the <A HREF="idxargbreadptr.htm">IDXARGBReadPtr</a> or the <A HREF="idxargbreadwriteptr.htm">IDXARGBReadWritePtr </a> pointer modifier interfaces, or both. These interfaces provide simplified access to the underlying samples in both of the following two pixel formats: <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_A.htm#gloss_argb32')">ARGB32</A>, or alpha-premultiplied <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#gloss_pmargb32')">PMARGB32</A>. These formats are defined for optimal compositing performance and to maintain precision for intermediate results. In addition, transforms also must support Component Object Model (COM) aggregation so that additional interface pointers can be passed to the client. 

<p>The <B>IDXTransform</B> interface inherits from the <A HREF="idxbaseobject.htm">IDXBaseObject</A> interface. You can use the methods in the <B>IDXBaseObject</B> interface to manage the generation ID.

<p>Transforms can use continuous and discrete <A HREF="../structs/DXBNDS_struct.htm">DXBNDS</A> structures&#151;64-bit or 32-bit&#151;to describe <b>DXSurfaces</b> and <B>Direct3DRMMeshBuilder3</B> objects.







 The <a href="../CDXBnds/CDXBnds_intro.htm">CDXBnds</a> template helper class can take bounds of any type and convert them where necessary. Transforms should always work using bounds in their native coordinate type.

<P>For information about creating a transform object and retrieving the <B>IDXTransform</B> interface, see the <A HREF="idxtransformfactory.htm">IDXTransformFactory</A> interface.


<P CLASS="ref">IDXTransform methods</P>
<BLOCKQUOTE><TABLE class="ref">
<TR><TD><A HREF="IDXTransform.htm#Execute">Execute</A></TD>
	<TD>Executes the transform operation given the specified portion bounds and places the result in the destination data object.
</TD></TR>
<TR><TD><A HREF="IDXTransform.htm#getinoutinfo">GetInOutInfo</A></TD>
	<TD>Retrieves input or output information about the specified data object, and an optional pointer to it.
</TD></TR>
<TR><TD><A HREF="IDXTransform.htm#GetMiscFlags">GetMiscFlags</A></TD>
	<TD>Retrieves flags that describe the behavior of the transform.
</TD></TR>
<TR><TD><A HREF="IDXTransform.htm#GetQuality">GetQuality</A></TD>
	<TD>Retrieves the quality parameter used to render the transform result.
</TD></TR>
<TR><TD><A HREF="IDXTransform.htm#MapBoundsIn2Out">MapBoundsIn2Out</A></TD>
	<TD>Maps the input coordinate space to the output coordinate space.
</TD></TR>
<TR><TD><A HREF="IDXTransform.htm#MapBoundsOut2In">MapBoundsOut2In</A></TD>
	<TD>Maps the output coordinate space to the input coordinate space.
</TD></TR>
<TR><TD><A HREF="IDXTransform.htm#setmiscflags">SetMiscFlags</A></TD>
	<TD>Sets transform flags that specify how to generate the output.
</TD></TR>
<TR><TD><A HREF="IDXTransform.htm#SetQuality">SetQuality</A></TD>
	<TD>Sets the quality parameter used to render the transform result.
</TD></TR>
<TR><TD><A HREF="IDXTransform.htm#Setup">Setup</A></TD>
	<TD>Defines the input and output data objects used in the transform.
</TD></TR>
</TABLE></BLOCKQUOTE>




<H1><A NAME="Execute">IDXTransform::Execute</A><HR size=1></H1>
<P>Executes the transform operation given the specified portion bounds and places the result in the destination data object.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT Execute(
	const GUID *pRequestID,
	const DXBNDS *pPortionBnds,
	const DXVEC *pPlacement
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pRequestID</I> 
 </DT><DD>[in] Pointer to an optional request ID that identifies a scheduled task. If execution causes the work to be broken into parallel tasks that are scheduled with the Task Manager, this ID is associated with each of those tasks.
</DD></DL>
<DL><DT><I>pPortionBnds</I> 
 </DT><DD>[in] Pointer to a <A HREF="../structs/DXBNDS_struct.htm">DXBNDS</A> structure that specifies the portion of the transform's output space to render. NULL implies that the transform's entire output space should be rendered. This parameter is used by a container in cases where only a portion of the output of the transform is needed for the final composition.
</DD></DL>
<DL><DT><I>pPlacement</I> 
 </DT><DD>[in] Pointer to a <A HREF="../structs/DXVEC_struct.htm">DXVEC</A> structure that specifies the position of the resulting object on the output object. For <b>DXSurfaces</b>, this value is an offset position from the upper-left corner of the output surface.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>


<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This method computes the result of applying the transform on the zero or more input objects


 and produces the output object specified by the <A HREF="#setup">IDXTransform::Setup</A> method. It breaks the work into suitably sized pieces and spreads them evenly among the available processors in the system using the <a href="idxtaskmanager.htm">IDXTaskManager</a> interface. The scheduled tasks are identified by the optional request ID parameter <i>pRequestID</I>. Another thread can use this ID to cancel transform execution.

<p>If no output data was specified in the <B>Setup</B> method, this method will allocate and return an output data object containing the result.
</BLOCKQUOTE>



<H1><A NAME="GetInOutInfo">IDXTransform::GetInOutInfo</A><HR size=1></H1>
<P>Retrieves input or output information about the specified data object, and an optional pointer to it.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetInOutInfo(
	BOOL bIsOutput,
	ULONG ulIndex,
	DWORD *pdwFlags,
	GUID *pIDs,
	ULONG *pcIDs, 
	IUnknown **ppUnkCurrentObject
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>bIsOutput</I> 
 </DT><DD>[in] Flag that specifies whether the requested data is for an input or an output object. Specify TRUE to indicate that the requested information is for an output data object. Specify FALSE for an input data object. 
</DD>
<DT><I>ulIndex</I> 
 </DT><DD>[in] Index of the data object as defined during the last call to the <b>Setup</b> method.
</DD>
<DT><I>pdwFlags</I> 
 </DT><DD>[out] Pointer to flags indicating whether the input or output data object is required. DXINOUTF_OPTIONAL (a value of 1) indicates the input or output data object is not required. NULL (a value of 0) indicates the input or output data object is required. 
</DD>
<DT><I>pIDs</I> 
 </DT><DD>[out] Optional pointer to an array of globally unique identifiers (<B>GUID</B>s) that is filled in by the transform. This specifies the desired data format (usually <B>IID</B>s) in preferred order.
</DD>
<DT><I>pcIDs</I> 
 </DT><DD>[in, out] Pointer to the length of the <I>pIDs</I> array on entry and the number of returned <B>GUID</B>s on exit. If the <I>pIDs</I> parameter is NULL, nothing is returned.
</DD>
<DT><I>ppUnkCurrentObject</I> 
 </DT><DD>[out] Optional address of a pointer to the <B>IUnknown</B> interface on the input or output object being enumerated.
</DD>
</DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. This method returns <A HREF="../errorandsuccess.htm">S_FALSE</a> if the transform doesn't support the requested input or output value.
</BLOCKQUOTE>


<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>This method enables you to determine the number and types of input and output for a transform from the the transform itself. For any data objects currently associated with an input or output, you can also request a pointer to that object. This is optional, and can be NULL if the transform was not previously set up.
</BLOCKQUOTE>



<H1><A NAME="GetMiscFlags">IDXTransform::GetMiscFlags</A><HR size=1></H1>
<P>Retrieves flags that describe the behavior of the transform.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetMiscFlags(
	DWORD *pdwMiscFlags
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pdwMiscFlags</I> 
 </DT><DD>[out] Pointer to flags which can be any combination of values in the <A HREF="../enums/DXTMISCFLAGS_enum.htm">DXTMISCFLAGS</A> enumeration.
</DD>
</DL>

</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>

<P>The constructor of the transform sets the transform flags to indicate the transform's behavior. You need to use <B>GetMiscFlags</B> to find out what the transform's flags are before using <A HREF="IDXTransform.htm#SetMiscFlags">IDXTransform::SetMiscFlags</A> to change the flags. Note that you can only change the DXTMF_BLEND_WITH_OUTPUT and DXTMF_DITHER_OUTPUT flags. The remaining flags are inherent properties of the transform and cannot be changed by <B>IDXTransform::SetMiscFlags</B>.
 
<p>If the DXTMF_BOUNDS_SUPPORTED flag is set, you can specify a <A HREF="../structs/DXBNDS_struct.htm">DXBNDS</A> structure in the <A href="#execute">IDXTransform::Execute</a> method. If the DXTMF_PLACEMENT_SUPPORTED flag is set, you can specify a <A HREF="../structs/DXVEC_struct.htm">DXVEC</A> structure in <B>IDXTransform::Execute</B>. If either of these flags is not set, then the transform expects you to specify a corresponding NULL in place of the parameter. Failing to do this will cause an error in the call to the <b>Execute</b> method.
</BLOCKQUOTE>

<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<A HREF="../enums/DXTMISCFLAGS_enum.htm">DXTMISCFLAGS</A> 
</BLOCKQUOTE>


<H1><A NAME="GetQuality">IDXTransform::GetQuality</A><HR size=1></H1>
<P>Retrieves the quality parameter used to render the transform result.
 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetQuality(
	float fQuality
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>fQuality</I> 
 </DT><DD>[out] Number from 0 to 1 that specifies the quality parameter. 
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns one of the following <A HREF="../errorandsuccess.htm">HRESULT</A> values.
<TABLE>
<TR><TD>S_OK</TD><TD>Success.
</TD></TR>
<TR><TD>E_POINTER</TD><TD>Bad pointer for <i>fQuality</i>.
</TD></TR>
<TR><TD>E_NOTIMPL</TD><TD>The transform does not support the quality parameter.
</TD></TR>
</TABLE>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Not all transforms support this property. For more information on the role of the <i>Quality</i> property, see the <a href="../../overview/DXTAuthorGuide.htm#quality_property">Author's Guide</a>.
</BLOCKQUOTE>



<H1><A NAME="MapBoundsIn2Out">IDXTransform::MapBoundsIn2Out</A><HR size=1></H1>
<P>Maps the input coordinate space to the output coordinate space.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT MapBoundsIn2Out(
	DXBNDS *pInBounds,
	ULONG ulNumInBnds,
	ULONG ulOutIndex,
	DXBNDS *pOutBounds
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL>
<DT><I>pInBounds</I>
</DT>
<DD>[in] Pointer to the <A HREF="../structs/DXBNDS_struct.htm">DXBNDS</A> input bounds structure to map. If NULL, the bounds of the current inputs are used.
</DD>
<DT><I>ulNumInBnds</I>
</DT>
<DD>[in] Number of structures pointed to by the <I>pInBounds</I> parameter.
</DD>
<DT><I>ulOutIndex</I>
</DT>
<DD>[in] Index of the output coordinate space in which to store the result. This is usually index zero, because most transforms have only one output. 
</DD>
<DT><I>pOutBounds</I>
</DT>
<DD>[out] Pointer to the resulting output bounds.
</DD>
</DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>This method returns the bounds of the object that will be produced if the <a href="#execute">IDXTransform::Execute</a> method is called, based on the current property settings.

<p>Note that if the transform doesn't use the extent of one or more of the inputs in calculating the extent of the output, it can simply ignore them. The caller of the method will typically provide these extents.

<P>When you have more than one output, you need to specify which output space should correspond to the result. If there is only one output, the <I>dwOutIndex</I> value should be zero.
</BLOCKQUOTE>

<P CLASS="ref">See Also</P>
<BLOCKQUOTE>
<p><A HREF="IDXTransform.htm#MapBoundsOut2In">IDXTransform::MapBoundsOut2In</A>
</BLOCKQUOTE>




<H1><A NAME="MapBoundsOut2In">IDXTransform::MapBoundsOut2In</A><HR size=1></H1>
<P>Maps the output to the input coordinate space.



<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT MapBoundsOut2In(
	ULONG ulOutIndex,
	DXBNDS *pOutBounds,
	ULONG ulInIndex,
	DXBNDS *pInBounds
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL>

<DT><I>ulOutIndex</I>
</DT>
<DD>[in] Index of the output referred to by <i>pOutBounds</i>.
</DD>

<DT><I>pOutBounds</I>
</DT>
<DD>[in] Pointer to the <A HREF="../structs/DXBNDS_struct.htm">DXBNDS</A> output bounds to be mapped.
</DD>
<DT><I>ulInIndex</I>
</DT>
<DD>[in] Index of the input referred to by <i>pInBounds</i>.
</DD>

<DT><I>pInBounds</I>
</DT>
<DD>[out] Pointer to the resulting bounds.
</DD>
</DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">See Also</P>
<BLOCKQUOTE><P><A HREF="IDXTransform.htm#MapBoundsIn2Out">IDXTransform::MapBoundsIn2Out</A>
</BLOCKQUOTE>



<H1><A NAME="SetMiscFlags">IDXTransform::SetMiscFlags</A><HR size=1></H1>
<P>Sets transform flags that specify how to generate the output.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetMiscFlags(
	DWORD dwMiscFlags
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL>
<DT><I>dwMiscFlags</I></DT>
<DD>[in] Value or combination of values from the <A HREF="../enums/DXTMISCFLAGS_enum.htm">DXTMISCFLAGS</A> enumeration that specifies how the transform generates output. You can specify one or both of the following values.
  <DL>
	<DT>DXTMF_BLEND_WITH_OUTPUT</DT>
		<DD>The transform will perform a composite over the output surface when writing the result.</DD>
	<DT>DXTMF_DITHER_OUTPUT</DT>
		<DD>The transform will perform a dither of its result into the output surface.
		</DD>
  </DL>
</DD>
</DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>Setting the DXTMF_BLEND_WITH_OUTPUT flag causes the transform to composite the result over the output surface samples. This reduces memory swapping that occurs if the result sample actually replaces the sample in the output buffer.

<p>The constructor of the transform sets the transform flags, depending on the kind of transform. You need to use the <A HREF="IDXTransform.htm#GetMiscFlags">IDXTransform::GetMiscFlags</A> method to find out what the transform's flags are before using <b>SetMiscFlags</b> to change the flags. Note that you can only change the DXTMF_BLEND_WITH_OUTPUT and DXTMF_DITHER_OUTPUT flags. The remaining flags are inherent properties of the transform and cannot be changed by <A HREF="IDXTransform.htm#SetMiscFlags">IDXTransform::SetMiscFlags</A>.
 
<p>If the DXTMF_BOUNDS_SUPPORTED flag is set, you can specify a <A HREF="../structs/DXBNDS_struct.htm">DXBNDS</A> structure in the <A href="#execute">IDXTransform::Execute</a> method. If the DXTMF_PLACEMENT_SUPPORTED flag is set, you can specify a <A HREF="../structs/DXVEC_struct.htm">DXVEC</A> structure in <B>IDXTransform::Execute</B>. If either of these flags is not set, then the transform expects you to specify a corresponding NULL in place of the parameter. Failing to do this will cause an error in the call to the <b>Execute</b> method.
  
<p>The constructor sets the DXTMF_BLEND_WITH_OUTPUT flag by default. You can reset this flag. 

</BLOCKQUOTE>



<H1><A NAME="SetQuality">IDXTransform::SetQuality</A><HR size=1></H1>
<P>Determines the quality parameter used to render the transform result.
 
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetQuality(
	float fQuality
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>fQuality</I> 
 </DT><DD>[in] Number from 0 to 1 that specifies the quality parameter.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns one of the following <A HREF="../errorandsuccess.htm">HRESULT</A> values.
<TABLE>
<TR><TD>S_OK</TD><TD>Success.
</TD></TR>
<TR><TD>E_INVALIDARG</TD><TD>The <i>fQuality</i> parameter is not between 0 and 1.
</TD></TR>
<TR><TD>E_NOTIMPL</TD><TD>The transform does not support the quality parameter.
</TD></TR>
</TABLE>
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The quality parameter is often used to specify the quality of the transform result. However, not all transforms support this property. For more discussion on the role of the <i>Quality </i> property, see the <a href="../../overview/DXTAuthorGuide.htm#quality_property">Author's Guide</a>.


</BLOCKQUOTE>




<H1><A NAME="Setup">IDXTransform::Setup</A><HR size=1></H1>
<P>Defines the input and output data objects used in the transform.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT Setup(
	IUnknown * const * punkInputs,
	ULONG ulNumInputs,
	IUnknown * const * punkOutputs,
	ULONG ulNumOutputs,
	DWORD dwFlags
);
</PRE>
</BLOCKQUOTE>


<P CLASS="ref">Parameters</P>
<DL><DT><I>punkInputs</I> 
 </DT><DD>[in] Pointer to an array of one or more data objects to be used for input. 
</DD><DT><I>ulNumInputs</I> 
 </DT><DD>[in] Number of data object interface pointers in the input array. 
</DD><DT><I>punkOutputs</I> 
 </DT><DD>[in] Pointer to an array of one or more data objects where data will be written.
</DD><DT><I>ulNumOutputs</I> 
 </DT><DD>[in] Number of data object interface pointers in the output array.
</DD><DT><I>dwFlags</I> 
 </DT><DD>[in] Reserved.
</DD></DL>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>


<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>
This method is used to perform a required, one-time setup before the <A HREF="IDXTransform.htm#Execute">Execute</A> method is used. The correct number of input and output data objects depends on the implementation of the transform. Transitions  are usually one-in/one-out objects, whereas procedural objects have no inputs.

<p>If you use this method, you should try to optimize your code for subsequent calls to <B>Setup</B>. For example, if a transform is passed a new <b>DXSurface</b>, but the height, width, and pixel format have not changed, it might not be necessary to execute all portions of the <b>Setup</b> method again. For examples of how to optimize multiple calls to <b>Setup</b>, see the sample code for the <A HREF="../../overview/writing_2Dtransforms.htm">Wipe</A> and <A HREF="../../overview/ripple_example.htm">Ripple</A> transforms.

<p>To clear a transform, you should use <B>Setup</B> with the <I>dwFlags</I> parameter equal to zero and the number of inputs and outputs equal to zero. This is also referred to as an <I>unsetup</I>. If the <I>punkInputs</I> and the <I>punkOutputs</I> parameters are NULL, and it is a quick setup, the current input and output objects are released. If the transform is used again on data of the same type, you must use <b>Setup</b> again for the transform.

<p>The <A HREF="idxtransformfactory.htm#InitializeTransform">IDXTransformFactory::InitializeTransform</A> method also uses the <B>Setup</B> method.
</BLOCKQUOTE>

<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A CLASS="line" HREF="#pagetop"><IMG src="../../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A CLASS="line" HREF="../../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<!-- START POP-UP GLOSSARY -->

<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>
<!-- END POP-UP GLOSSARY -->


<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY></HTML>
