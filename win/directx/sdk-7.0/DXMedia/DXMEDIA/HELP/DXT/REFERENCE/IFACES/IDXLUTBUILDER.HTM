<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>IDXLUTBuilder Interface</TITLE>

<SCRIPT LANGUAGE="JavaScript"> var sRelPath = '../../' </SCRIPT>

<META NAME="Description" CONTENT="IDXLUTBuilder">

<META NAME="Description" CONTENT="GetNumBuildSteps (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::GetNumBuildSteps">

<META NAME="Description" CONTENT="GetBuildOrder (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::GetBuildOrder">

<META NAME="Description" CONTENT="SetBuildOrder (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::SetBuildOrder">

<META NAME="Description" CONTENT="SetGamma (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::SetGamma">

<META NAME="Description" CONTENT="GetGamma (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::GetGamma">

<META NAME="Description" CONTENT="GetOpacity (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::GetOpacity">

<META NAME="Description" CONTENT="SetOpacity (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::SetOpacity">

<META NAME="Description" CONTENT="GetBrightness (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::GetBrightness">

<META NAME="Description" CONTENT="SetBrightness (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::SetBrightness">

<META NAME="Description" CONTENT="GetContrast (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::GetContrast">

<META NAME="Description" CONTENT="SetContrast (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::SetContrast">

<META NAME="Description" CONTENT="GetColorBalance (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::GetColorBalance">

<META NAME="Description" CONTENT="SetColorBalance (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::SetColorBalance">

<META NAME="Description" CONTENT="GetLevelsPerChannel (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::GetLevelsPerChannel">

<META NAME="Description" CONTENT="SetLevelsPerChannel (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::SetLevelsPerChannel">

<META NAME="Description" CONTENT="GetInvert (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::GetInvert">

<META NAME="Description" CONTENT="SetInvert (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::SetInvert">

<META NAME="Description" CONTENT="GetThreshold (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::GetThreshold">

<META NAME="Description" CONTENT="SetThreshold (IDXLUTBuilder)">
<META NAME="Description" CONTENT="IDXLUTBuilder::SetThreshold">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">


<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../../ver.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>
<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- STYLE_START -->

<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
   var sVR = '../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicSDKIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicSDKIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicSDKNAV';
   }
   else
   {
	   sCSS += 'dxm_basicSDKIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>


<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="IDXLUTBuilder"></A>
<!--TOOLBAR_START-->

<!--TOOLBAR_EXEMPT-->

<!--TOOLBAR_END-->

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectX Transform Animated Header -- Microsoft DirectX Transform SDK"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../../art/hdrdtrns.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="Microsoft DirectX Transform SDK"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectX Transform Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectX Transform SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID=TOC HREF="../../contents.htm">Contents</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../../index.htm">Index</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="interface_intro.htm">Topic Contents</A>
</PRE></TD></TR>

<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A  STYLE="color:black" HREF="idxlookuptable.htm">IDXLookupTable Interface</A>
<IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="idxrawsurface.htm">IDXRawSurface Interface</A>
</PRE></TD></TR></TABLE>

<!-- NAV_LINKS_END -->





<BLOCKQUOTE class="body">

<!-- CONTENTS_START -->


<H1>IDXLUTBuilder Interface</H1>
<p>The <B>IDXLUTBuilder</B> interface enables you to construct a lookup table for an input <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#gloss_dxsurface')">DXSurface</A>. A lookup table is a set of four arrays of 256 numbers each, with one array for each color channel and one array for the alpha channel. Each color channel of each <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_S.htm#gloss_sample')">sample</a> in an image is modified by a lookup table with the following code.

<PRE>pBuffer[i].Color   = pColorLookupTable[pBuffer[i].Color];	
</PRE>

<P>In effect, the previous color value is used as an index to the modified color value stored in the lookup table array.

<p>There are a number of standard color corrections that you can perform with Microsoft&reg; DirectX&reg; Transform lookup tables, which are listed in the <a href="../enums/OPIDDXLUTBUILDER_enum.htm">OPIDDXLUTBUILDER</a> enumeration. You can also specify any number of color corrections in any order.


<p>To use this interface, call the COM <b>CoCreateInstance</b> method as shown.
<PRE>
   IDXLUTBuilder*  g_pLUTBuilder;
   hr = CoCreateInstance( CLSID_DXLUTBuilder, NULL, CLSCTX_INPROC,
                             IID_IDXLUTBuilder, (void **)&amp;g_pLUTBuilder );
	...							 
						 
   IDXLookupTable* g_pLUT;
   hr = g_pLUTBuilder-&gt;QueryInterface( IID_IDXLookupTable,
                                          (void **)&amp;g_pLUT );
</PRE>

<P>When you implement this interface, the call to the <b>QueryInterface</b> method should return an <a href="idxlookuptable.htm">IDXLookupTable</a> pointer. Use this pointer as a parameter to the <a href="idxsurfacemodifier.htm#SetLookup">IDXSurfaceModifier::SetLookup</a> method to connect your lookup table to the <B>DXSurfaceModifier</B> object (Surface Modifier).


<P CLASS="ref">IDXLUTBuilder Methods</P>
<BLOCKQUOTE>
<TABLE CLASS="ref">
<TR><TD><A HREF="IDXLUTBuilder.htm#GetBrightness">GetBrightness</A></TD>
	<TD>Retrieves the current settings for the lookup table brightness curve.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#GetBuildOrder">GetBuildOrder</A></TD>
	<TD>Retrieves the order of operations used to build the lookup table.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#GetColorBalance">GetColorBalance</A></TD>
	<TD>Retrieves the tint curves used for color balance operations on the selected color.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#GetContrast">GetContrast</A></TD>
	<TD>Retrieves the current settings for the lookup table contrast curve.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#GetGamma">GetGamma</A></TD>
	<TD>Retrieves the value used for Gamma correction.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#GetInvert">GetInvert</A></TD>
	<TD>Retrieves the threshold value used for color inversion.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#GetLevelsPerChannel">GetLevelsPerChannel</A></TD>
	<TD>Retrieves the number of color levels to use for the posterizing operation.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#GetNumBuildSteps">GetNumBuildSteps</A></TD>
	<TD>Retrieves the number of lookup table operations to perform.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#GetOpacity">GetOpacity</A></TD>
	<TD>Retrieves the opacity adjustment used for the lookup table.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#GetThreshold">GetThreshold</A></TD>
	<TD>Retrieves the value used for threshold operations.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#SetBrightness">SetBrightness</A></TD>
	<TD>Sets the values for the lookup table brightness curve.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#SetBuildOrder">SetBuildOrder</A></TD>
	<TD>Sets the order of operations used to build the lookup table.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#SetColorBalance">SetColorBalance</A></TD>
	<TD>Sets the tint curves used for color balance operations on the selected color.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#SetContrast">SetContrast</A></TD>
	<TD>Sets the values for the lookup table contrast curve.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#SetGamma">SetGamma</A></TD>
	<TD>Sets the value used for Gamma correction.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#SetInvert">SetInvert</A></TD>
	<TD>Sets the threshold value used for color inversion.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#SetLevelsPerChannel">SetLevelsPerChannel</A></TD>
	<TD>Sets the number of color levels to use for the posterizing operation.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#SetOpacity">SetOpacity</A></TD>
	<TD>Sets the opacity adjustment used for the lookup table.
</TD></TR>
<TR><TD><A HREF="IDXLUTBuilder.htm#SetThreshold">SetThreshold</A></TD>
	<TD>Sets the value used for threshold operations.
</TD></TR>
</TABLE>
</BLOCKQUOTE>





<H1><A NAME="GetBrightness">IDXLUTBuilder::GetBrightness</A><HR size=1></H1>
<P>Retrieves the current settings for the lookup table brightness curve. 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetBrightness(
	ULONG *pulCount,
	float Weights[]
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pulCount</I> 


 </DT><DD>[out] Number of entries in the brightness curve. This value should be less than or equal to 256.
</DD></DL>
<DL><DT><I>Weights</I> 
 </DT><DD>[out] Array that holds the brightness curve values. These values should be greater than or equal to zero and are usually around 1.0.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>For brightness adjustments, each color channel value is multiplied by the <i>Weights</i> value. The adjustment is applied in <i>pulCount</i> steps over the 256 values of the lookup table.
</BLOCKQUOTE>



<H1><A NAME="GetBuildOrder">IDXLUTBuilder::GetBuildOrder</A><HR size=1></H1>
<P>Retrieves the order of operations used to build the lookup table.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetBuildOrder(
	OPIDDXLUTBUILDER OpOrder[],
	ULONG ulSize
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>OpOrder</I> 
 </DT><DD>[out] Array of lookup table operations listed in the <a href="../enums/OPIDDXLUTBUILDER_enum.htm">OPIDDXLUTBUILDER</a> enumeration.
</DD></DL>
<DL><DT><I>ulSize</I> 
 </DT><DD>[out] Number of lookup table operations in the returned array.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>




<H1><A NAME="GetColorBalance">IDXLUTBuilder::GetColorBalance</A><HR size=1></H1>
<P>Retrieves the tint curves used for color balance operations on the selected color.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetColorBalance(
	DXLUTCOLOR Color,
	ULONG *pulCount,
	float Weights[] 
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>Color</I> 
 </DT><DD>[in] Member of the <a href="../enums/dxlutcolor_enum.htm">DXLUTCOLOR</a> enumeration that selects the color channel for this tint curve.
</DD></DL>
<DL><DT><I>pulCount</I> 


 </DT><DD>[out] Number of values in the returned tint curve.
</DD></DL>
<DL><DT><I>Weights</I> 
 </DT><DD>[out] Array of values that is the tint curve used for color balancing.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>A tint curve is a separate brightness curve for each color channel. This gives you finer control over the output colors than the brightness adjustment alone.
</BLOCKQUOTE>



<H1><A NAME="GetContrast">IDXLUTBuilder::GetContrast</A><HR size=1></H1>
<P>Retrieves the current settings for the lookup table contrast curve.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetContrast(
	ULONG *pulCount,
	float Weights[]
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pulCount</I> 


 </DT><DD>[out] Number of entries in the contrast curve.
</DD></DL>
<DL><DT><I>Weights</I> 
 </DT><DD>[out] Array that holds the contrast curve values.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>Contrast adjustments shift the range of each color channel around a midpoint. The adjustment is applied in <i>pulCount</i> steps over the 256 values of the lookup table.
<p>
</BLOCKQUOTE>



<H1><A NAME="GetGamma">IDXLUTBuilder::GetGamma</A><HR size=1></H1>
<P>Retrieves the value used for Gamma correction.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetGamma(
	float *pVal
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pVal</I> 


 </DT><DD>[out] Value used for Gamma correction.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>This is a standard brightness adjustment. Gamma correction values of 1.0 produce no effect. 
</BLOCKQUOTE>



<H1><A NAME="GetInvert">IDXLUTBuilder::GetInvert</A><HR size=1></H1>
<P>Retrieves the threshold value used for color inversion.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetInvert(
	float *pThreshold
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pThreshold</I> 


 </DT><DD>[out] Threshold value to use for color inversion, which represents a fraction of a one-byte color channel.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>Color inversion produces new color values that are the old color values subtracted from 255. Only values above pThreshold*256


are inverted.
<p>
This value is used when the OPID_DXLUTBUILDER_Invert lookup table operation is used.


</BLOCKQUOTE>



<H1><A NAME="GetLevelsPerChannel">IDXLUTBuilder::GetLevelsPerChannel</A><HR size=1></H1>
<P>Retrieves the number of color levels to use for the posterizing operation.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetLevelsPerChannel(
	ULONG *pVal
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pVal</I> 


 </DT><DD>[out] Number of color levels that should remain after posterizing.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>Posterization is the process of reducing the number of color levels per color channel from 256 to some smaller number. 


</BLOCKQUOTE>



<H1><A NAME="GetNumBuildSteps">IDXLUTBuilder::GetNumBuildSteps</A><HR size=1></H1>
<P>Retrieves the number of lookup table operations to perform.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetNumBuildSteps(
	ULONG *pulNumSteps
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pulNumSteps</I> 


 </DT><DD>[out] Number of lookup table operations to perform.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>The number of operations <i>pulNumSteps</i> is set through <a href="#SetBuildOrder">SetBuildOrder</a>. 
</BLOCKQUOTE>



<H1><A NAME="GetOpacity">IDXLUTBuilder::GetOpacity</A><HR size=1></H1>
<P>Retrieves the opacity adjustment used for the lookup table.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetOpacity(
	float *pVal
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pVal</I> 


 </DT><DD>[out] Opacity adjustment for the lookup table.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>Each value of alpha in the lookup table is multiplied by this value for opacity.
</BLOCKQUOTE>



<H1><A NAME="GetThreshold">IDXLUTBuilder::GetThreshold</A><HR size=1></H1>
<P>Retrieves the value used for threshold operations.



<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetThreshold(
	float *pVal
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pVal</I> 


 </DT><DD>[in] Threshold value.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>For the threshold adjustment, each color channel value below <i>pVal</i>*255


is set to zero, and all others are set to 255. The result is a black and white image.
</BLOCKQUOTE>



<H1><A NAME="SetBrightness">IDXLUTBuilder::SetBrightness</A><HR size=1></H1>
<P>Sets the values for the lookup table brightness curve.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetBrightness(
	ULONG ulCount,
	const float Weights[]
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>ulCount</I> 
 </DT><DD>[in] Number of entries in the brightness curve. This value should be less than or equal to 256.
</DD></DL>
<DL><DT><I>Weights</I> 
 </DT><DD>[in] Array that holds the brightness curve values. These values should be greater than or equal to zero and are usually around 1.0.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>For brightness adjustment, each color channel value is multiplied by the <i>Weights</i> value. The adjustment is applied in <i>pulCount</i> steps over the 256 values of the lookup table.
</BLOCKQUOTE>



<H1><A NAME="SetBuildOrder">IDXLUTBuilder::SetBuildOrder</A><HR size=1></H1>
<P>Sets the order of operations used to build the lookup table.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetBuildOrder(
	const OPIDDXLUTBUILDER OpOrder[],
	ULONG ulNumSteps
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>OpOrder</I> 
 </DT><DD>[in] Array of lookup table operations listed in the <a href="../enums/OPIDDXLUTBUILDER_enum.htm">OPIDDXLUTBUILDER</a> enumeration.
</DD></DL>
<DL><DT><I>ulNumSteps</I> 
 </DT><DD>[in] Number of lookup table operations in the returned array.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>This method sets the number and order of lookup table operations. Keep in mind that the resulting lookup table depends on the order of the operations you specify. For example, a lookup table built by adjusting the brightness before the contrast will be different than one built by adjusting the contrast before the brightness.
<p>
The operations are performed in order, starting with the first element in the array <I>OpOrder[0]</I>.
</BLOCKQUOTE>



<H1><A NAME="SetColorBalance">IDXLUTBuilder::SetColorBalance</A><HR size=1></H1>
<P>Sets the tint curves used for color balance operations on the selected color.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetColorBalance(
	[in]DXLUTCOLOR Color,
	[in]ULONG ulCount,
	[in]const float Weights[]
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>Color</I> 
 </DT><DD>[in] Member of the <a href="../enums/dxlutcolor_enum.htm">DXLUTCOLOR</a> enumeration that selects the color channel for this tint curve.
</DD></DL>
<DL><DT><I>ulCount</I> 
 </DT><DD>[in] Number of values in the returned tint curve. This value should be less than or equal to 256.
</DD></DL>
<DL><DT><I>Weights</I> 
 </DT><DD>[in] Array of values that is the tint curve used for color balancing.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>A tint curve is a separate brightness curve for each color channel. This gives you finer control over the output colors than the brightness adjustment alone.
</BLOCKQUOTE>



<H1><A NAME="SetContrast">IDXLUTBuilder::SetContrast</A><HR size=1></H1>
<P>Sets the values for the lookup table contrast curve.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetContrast(
	ULONG ulCount,
	const float Weights[]
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>ulCount</I> 
 </DT><DD>[in] Number of entries in the contrast curve. This value should be less than or equal to 256.
</DD></DL>
<DL><DT><I>Weights</I> 
 </DT><DD>[in] Array that holds the contrast curve values. These values should be greater than or equal to zero and are usually around 1.0.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>Contrast adjustments shift the range of each color channel around a midpoint. The adjustment is applied in <i>pulCount</i> steps over the 256 values of the lookup table.
</BLOCKQUOTE>



<H1><A NAME="SetGamma">IDXLUTBuilder::SetGamma</A><HR size=1></H1>
<P>Sets the value used for Gamma correction.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetGamma(
	float newVal
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>newVal</I> 
 </DT><DD>[in] Value used for Gamma correction. This value must be greater than zero.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>This is a standard brightness adjustment. Gamma correction values of 1.0 produce no effect.
</BLOCKQUOTE>



<H1><A NAME="SetInvert">IDXLUTBuilder::SetInvert</A><HR size=1></H1>
<P>Sets the threshold value used for color inversion.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetInvert(
	float Threshold
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>Threshold</I> 
 </DT><DD>[in] Threshold value to use for color inversion, which represents a fraction of a one-byte color channel. This value should be between 0.0 and 1.0.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>Color inversion produces new color values that are the previous color values subtracted from 255. Only values above pThreshold*256


are inverted.
<p>
This value is used when the OPID_DXLUTBUILDER_Invert


lookup table operation is used.
</BLOCKQUOTE>



<H1><A NAME="SetLevelsPerChannel">IDXLUTBuilder::SetLevelsPerChannel</A><HR size=1></H1>
<P>Sets the number of color levels to use for the posterizing operation.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetLevelsPerChannel(
	ULONG newVal
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>newVal</I> 
 </DT><DD>[in] Number of color levels that should remain after posterizing.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>Posterization is the process of reducing the number of color levels per color channel from 256 to some smaller number.

 
</BLOCKQUOTE>



<H1><A NAME="SetOpacity">IDXLUTBuilder::SetOpacity</A><HR size=1></H1>
<P>Sets the opacity adjustment used for the lookup table.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetOpacity(
	float newVal
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>newVal</I> 
 </DT><DD>[in] Opacity adjustment for the lookup table. The value should range from 0.0 to 1.0.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>Each value of alpha in the lookup table is multiplied by this value for opacity.
</BLOCKQUOTE>



<H1><A NAME="SetThreshold">IDXLUTBuilder::SetThreshold</A><HR size=1></H1>
<P>Sets the value used for threshold operations.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetThreshold(
	float newVal
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>newVal</I> 
 </DT><DD>[in] Threshold value. This number should be between 0.0 and 1.0.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>For the threshold adjustment, each color channel value below <i>newVal</i>*255


is set to zero and all others are set to 255. The result is a black and white image.
</BLOCKQUOTE>

<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A CLASS="line" HREF="#pagetop"><IMG src="../../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A CLASS="line" HREF="../../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>
<!-- START POP-UP GLOSSARY -->

<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>
<!-- END POP-UP GLOSSARY -->


<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY></HTML>
