<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>IDXTConvolution Interface</TITLE>

<SCRIPT LANGUAGE="JavaScript"> var sRelPath = '../../' </SCRIPT>

<META NAME="Description" CONTENT="IDXTConvolution">

<META NAME="Description" CONTENT="SetFilterType (IDXTConvolution)">
<META NAME="Description" CONTENT="IDXTConvolution::SetFilterType">

<META NAME="Description" CONTENT="GetFilterType (IDXTConvolution)">
<META NAME="Description" CONTENT="IDXTConvolution::GetFilterType">

<META NAME="Description" CONTENT="SetCustomFilter (IDXTConvolution)">
<META NAME="Description" CONTENT="IDXTConvolution::SetCustomFilter">

<META NAME="Description" CONTENT="SetConvertToGray (IDXTConvolution)">
<META NAME="Description" CONTENT="IDXTConvolution::SetConvertToGray">

<META NAME="Description" CONTENT="GetConvertToGray (IDXTConvolution)">
<META NAME="Description" CONTENT="IDXTConvolution::GetConvertToGray">

<META NAME="Description" CONTENT="SetBias (IDXTConvolution)">
<META NAME="Description" CONTENT="IDXTConvolution::SetBias">

<META NAME="Description" CONTENT="GetBias (IDXTConvolution)">
<META NAME="Description" CONTENT="IDXTConvolution::GetBias">

<META NAME="Description" CONTENT="SetExcludeAlpha (IDXTConvolution)">
<META NAME="Description" CONTENT="IDXTConvolution::SetExcludeAlpha">

<META NAME="Description" CONTENT="GetExcludeAlpha (IDXTConvolution)">
<META NAME="Description" CONTENT="IDXTConvolution::GetExcludeAlpha">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../../ver.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>
<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- STYLE_START -->

<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
   var sVR = '../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicSDKIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicSDKIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicSDKNAV';
   }
   else
   {
	   sCSS += 'dxm_basicSDKIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>


<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="IDXTConvolution"></A>
<!--TOOLBAR_START-->

<!--TOOLBAR_EXEMPT-->

<!--TOOLBAR_END-->

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectX Transform Animated Header -- Microsoft DirectX Transform SDK"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../../art/hdrdtrns.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="Microsoft DirectX Transform SDK"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectX Transform Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectX Transform SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID=TOC HREF="../../contents.htm">Contents</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../../index.htm">Index</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="interface_intro.htm">Topic Contents</A>
</PRE></TD></TR>

<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A  STYLE="color:black" HREF="idxtaskmanager.htm">IDXTaskManager Interface</A>
<IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="IDXTransform.htm">IDXTransform Interface</A>
</PRE></TD></TR></TABLE>

<!-- NAV_LINKS_END -->


<BLOCKQUOTE class="body">

<!-- CONTENTS_START -->


<H1>IDXTConvolution Interface</H1>

<p>The <B>IDXTConvolution</B> transform interface performs image convolutions for <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#gloss_dxsurface')">DXSurface</A> objects. This is more commonly known as <I>filtering</I>. The convolution works by combining the colors of surrounding samples to determine the color of a sample on the destination surface. The way in which surrounding pixels are combined is determined by a filter, which is a rectangular matrix of numbers. Each number in the matrix is a weighting for the pixel at that position. The contributions from each weighting are added to produce the output color on the destination surface. Negative weighting values are subtracted from the total. Each filter matrix has a center pixel that is scanned over each sample of the input image to produce the output image.

<p>The filter matrix has a width and height that determine how many pixels of the source image will contribute to the color of the destination's center pixel. Most matrices are square and have an odd number of rows and columns, though you can define custom filters of arbitrary size. There are also number of predefined filters described in the <a href="../enums/DXCONVFILTERTYPE_enum.htm">DXCONVFILTERTYPE</a> enumeration. 

<p>Sometimes convolution can reduce or increase the brightness of an image. To compensate, you can define a bias that is added to the filtered result.

<P CLASS="ref">IDXTConvolution Methods</P>
<BLOCKQUOTE>
<TABLE CLASS="ref">
<TR><TD><A HREF="IDXTConvolution.htm#GetBias">GetBias</A></TD>
	<TD>Retrieves the bias value used for the convolution.
</TD></TR>
<TR><TD><A HREF="IDXTConvolution.htm#GetConvertToGray">GetConvertToGray</A></TD>
	<TD>Retrieves whether the filter output color will be converted to gray scale.
</TD></TR>
<TR><TD><A HREF="IDXTConvolution.htm#GetExcludeAlpha">GetExcludeAlpha</A></TD>
	<TD>Retrieves whether the alpha channel should be filtered along with the color data.
</TD></TR>
<TR><TD><A HREF="IDXTConvolution.htm#GetFilterType">GetFilterType</A></TD>
	<TD>Retrieves the currently selected filter type for the convolution.
</TD></TR>
<TR><TD><A HREF="IDXTConvolution.htm#SetBias">SetBias</A></TD>
	<TD>Sets the bias value used for the convolution.
</TD></TR>
<TR><TD><A HREF="IDXTConvolution.htm#SetConvertToGray">SetConvertToGray</A></TD>
	<TD>Sets whether the filter output color will be converted to gray scale.
</TD></TR>
<TR><TD><A HREF="IDXTConvolution.htm#SetCustomFilter">SetCustomFilter</A></TD>
	<TD>Sets the convolution to use a custom filter.
</TD></TR>
<TR><TD><A HREF="IDXTConvolution.htm#SetExcludeAlpha">SetExcludeAlpha</A></TD>
	<TD>Sets whether the alpha channel should be filtered along with the color data.
</TD></TR>
<TR><TD><A HREF="IDXTConvolution.htm#SetFilterType">SetFilterType</A></TD>
	<TD>Sets the currently selected filter type for the convolution.
</TD></TR>
</TABLE>
</BLOCKQUOTE>



<H1><A NAME="GetBias">IDXTConvolution::GetBias</A><HR size=1></H1>
<P>Retrieves the bias value used for the convolution.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetBias(
	float* pBias
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pBias</I> 
</DT><DD>[out] Pointer to a float value, from &shy;1.0 to 1.0, used for the filter bias.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>The bias is a percentage of a byte value added to each color component of the filtered result. Larger bias values lead to brighter filtered images.
</BLOCKQUOTE>



<H1><A NAME="GetConvertToGray">IDXTConvolution::GetConvertToGray</A><HR size=1></H1>
<P>Retrieves whether the filter output color will be converted to gray scale.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetConvertToGray(
	BOOL* pbConvertToGray
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pbConvertToGray</I> 






 </DT><DD>[out] Pointer to a Boolean value that indicates whether an image is converted to gray scale after a convolution.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>



<H1><A NAME="GetExcludeAlpha">IDXTConvolution::GetExcludeAlpha</A><HR size=1></H1>
<P>Retrieves whether the alpha channel should be filtered along with the color data.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetExcludeAlpha(
	BOOL* pbExcludeAlpha
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pbExcludeAlpha</I> 
 </DT><DD>[out] Pointer to a Boolean value that indicates whether the alpha channel of an image should be filtered. If TRUE, only the RGB color components are modified by the filter. If FALSE, the weighted alpha value is written to the output sample with the color value.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>



<H1><A NAME="GetFilterType">IDXTConvolution::GetFilterType</A><HR size=1></H1>
<P>Retrieves the currently selected filter type for the convolution.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT GetFilterType(
	DXCONVFILTERTYPE* peType
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>peType</I> 
 </DT><DD>[out] Pointer to a member of the <A HREF="../enums/DXCONVFILTERTYPE_enum.htm">DXCONVFILTERTYPE</A> enumeration that indicates the currently selected filter.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>




<H1><A NAME="SetBias">IDXTConvolution::SetBias</A><HR size=1></H1>
<P>Sets the bias value used for the convolution.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetBias(
	float Bias
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>Bias</I> 
 </DT><DD>[in] Float value, from &shy;1.0 to 1.0, to use for the filter bias.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>The bias is a percentage of a byte value added to each color component of the filtered result. Larger bias values lead to brighter filtered images.
</BLOCKQUOTE>




<H1><A NAME="SetConvertToGray">IDXTConvolution::SetConvertToGray</A><HR size=1></H1>
<P>Sets whether the filter output color will be converted to gray scale.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetConvertToGray(
	BOOL bConvertToGray
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>bConvertToGray</I> 






 </DT><DD>[in] Boolean that indicates whether an image is converted to gray scale after a convolution.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>



<H1><A NAME="SetCustomFilter">IDXTConvolution::SetCustomFilter</A><HR size=1></H1>
<P>Sets the convolution to use a custom filter.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetCustomFilter(
	float *pFilter,
	SIZE Size
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pFilter</I> 
 </DT><DD>[in] Pointer to an array of custom filter values.
</DD></DL>
<DL><DT><I>Size</I> 
 </DT><DD>[in] Size of the custom filter, in pixels.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>The height and width of the custom filter must be greater than or equal to 1. Most filters define a center pixel that is scanned over the input image to produce the output image. For even-sized dimensions, the center pixel for that dimension is the length divided by two. For example, a 5 &times; 4 custom filter has a center pixel at (2,2).
</BLOCKQUOTE>



<H1><A NAME="SetExcludeAlpha">IDXTConvolution::SetExcludeAlpha</A><HR size=1></H1>
<P>Sets whether the alpha channel should be filtered along with the color data.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetExcludeAlpha(
	BOOL bExcludeAlpha
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>bExcludeAlpha</I> 
 </DT><DD>[in] Boolean value that indicates whether the alpha channel of an image should be filtered. If TRUE, only the RGB color components are modified by the filter. If FALSE, the weighted alpha value is written to the output sample with the color value.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>



<H1><A NAME="SetFilterType">IDXTConvolution::SetFilterType</A><HR size=1></H1>
<P>Sets the currently selected filter type for the convolution.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE>
<PRE>HRESULT SetFilterType(
	DXCONVFILTERTYPE eType
);
</PRE>
</BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>eType</I> 
 </DT><DD>[in] Member of the <A HREF="../enums/DXCONVFILTERTYPE_enum.htm">DXCONVFILTERTYPE</A> enumeration that indicates the currently selected filter.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../errorandsuccess.htm">HRESULT</A> value that depends on the implementation of the interface. 
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<p>If you set the filter type to DXCFILTER_SRCCOPY, all other properties that were previously set, such as <a href="#setconverttogray">SetConvertToGray</a>, are ignored.
</BLOCKQUOTE>





<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A CLASS="line" HREF="#pagetop"><IMG src="../../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A CLASS="line" HREF="../../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>
<!-- START POP-UP GLOSSARY -->

<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>
<!-- END POP-UP GLOSSARY -->


<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY></HTML>
