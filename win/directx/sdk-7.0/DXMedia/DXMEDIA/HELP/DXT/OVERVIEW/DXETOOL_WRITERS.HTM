<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>DXETool for Transform Writers</TITLE>
<SCRIPT LANGUAGE="JavaScript"> var sRelPath = '../' </SCRIPT>


<META NAME="Description" CONTENT="DXETool for Transform Writers">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->


<SCRIPT LANGUAGE="JAVASCRIPT">

//<!--

var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";

// -->


</SCRIPT>

<SCRIPT SRC="../ver.js"></SCRIPT>
<SCRIPT SRC="../gloss.js"></SCRIPT>





<SCRIPT DEFER SRC="../common.js"></SCRIPT>

<SCRIPT DEFER>

//<!--

function InitPage()

{

	if (g_isIE && g_iMaj >= 4)	

	{



		SetTOC();

	}

}

//-->


</SCRIPT>



<!-- STYLE_START -->


<SCRIPT LANGUAGE="JAVASCRIPT">

//<!--

   var sVR = '../'	// Set root for the style sheet

   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;



   if(g_isIE)

   {

	   if (g_iMaj >= 4) // For MSIE 4.0 or later

	   {

		   sCSS += 'dxm_basicSDKIE4';

		   if (g_sPlat == "Win") // Windows only for now

		   {

			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');

		   }

	   }

	   else // For MSIE 3.0 or earlier

	   {

		   sCSS += 'dxm_basicSDKIE3';

	   }

   }

   else if (g_isNav) // For all Nav versions

   {

	   sCSS += 'dxm_basicSDKNAV';

   }

   else

   {

	   sCSS += 'dxm_basicSDKIE3'; // default to IE3 sheet

   }



   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');



   document.write(sCSS);

//-->


</SCRIPT>

<!-- STYLE_END -->




</HEAD>

<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="dxetool_users"></A>



<!-- HEADGRAPH_START -->



<!-- TOOLBAR_START -->

<!-- TOOLBAR_END -->


<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectX Transform Animated Header -- Microsoft DirectX Transform SDK"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../art/hdrdtrns.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="Microsoft DirectX Transform SDK"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="*">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectX Transform SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../contents.htm">Contents</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../index.htm">Index</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="usingtransforms.htm">Topic Contents</A>
</PRE></TD></TR>

<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="ripple_example.htm">Example: The Ripple Transform</A>
<IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="copyright.htm">Copyright Information</A>
</PRE></TD></TR></TABLE>

<!-- NAV_LINKS_END -->



<BLOCKQUOTE class="body">

<!-- CONTENTS_START -->


<H1>DXETool for Transform Writers</H1>

<P>You can use the DXETool application to test new transforms you have written. This application performs the following three key tasks.
<ul>
	<li>It searches your system registry for all properly registered transforms each time it executes.
	<li>It enables you to use and debug your transform without requiring you to write a separate application to do so.
	<li>It can access your transform's property page, so you can check that it is working properly.
</ul>

<P>DXETool also enables you to check that your transform is correctly implementing <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#gloss_dithering')">dithering</A>, <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_A.htm#gloss_alphablending')">alpha blending</A>, and <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_S.htm#gloss_surfacepicking')">surface picking</A>. 

<p>
Before using DXETool, it might be helpful to familiarize yourself with DXETool by running it and using several transforms. It is located in the Dxmedia/Bin/X86 folder of the Microsoft&reg; DirectX&reg; Media Software Development Kit (SDK). For information about the features of this application, see <A HREF="dxetool_users.htm">DXETool for Transform Users</A>.
<p>
You can configure Microsoft Visual Studio&#153; to register your transform dynamic-link library (DLL) after it has successfully linked. In the Workspace of your project, go to the <B>Project</B> menu and click <B>Settings</B>. Click the <B>Custom Build</B> tab, and type the following in the <B>Build Command(s)</B> list.

<BLOCKQUOTE>
<PRE>regsvr32 /s /c "$(TargetPath)"
</PRE>
</BLOCKQUOTE>
<P>Click <B>OK</B> and relink your DLL. Visual Studio should register your transform before finishing the build. If the build is successful but the transform still does not show up on DXETool's list of transforms, you can register the transform from an MS-DOS prompt. Use Regsvr32.exe in the C:/Windows/System directory, with the path to the DLL file as a parameter. The system will respond with a dialog box that indicates whether the registration was successful. 
<p>
The first few times you use your DLL code, you may want to be using a debugging application. Using DXETool as your debugger requires some special setup in Visual Studio. On the Visual Studio <B>Project</B> menu, click <B>Settings</B>. On the dialog box that appears, select the <B>Debug</B> tab. On the line &quot;Executable for debug session:&quot;, type the path to your copy of Dxetool.exe. You also can click the arrow button on that line which will enable you to browse for the path. Click <B>OK</B> to save the changes. 
Set breakpoints in your code and start a debug session by clicking <B>Build</B> from the Visual Studio menu, then <B>Start Debug</B> and <B>Go</b>. DXETool should start executing, and Visual Studio should enter its debugger mode. To check that all is working correctly, select a transform that has a breakpoint in its <b>OnExecute</b> method. Selecting the transform should cause control to jump from DXETool to the Visual Studio debugger.



<P>This article takes you through the following steps.
<ul>

<li><a href="#testing">Step 1: Testing the Transform</a>
<li><a href="#viewing">Step 2: Viewing the Property Page</a>
<li><a href="#surface_picking">Step 3: Surface Picking</a>
<li><a href="#performance">Step 4: Measuring Performance</a>
</ul>



<h2><a name="testing">Step 1: Testing the Transform</a></h2>

<P>After selecting your transform from the list and loading the required surfaces or meshes, you should see your transform effect in DXETool's graphics window. 



<p>

When the transform is selected, DXETool checks to see which interfaces and custom properties your transform supports. Within your code, this is determined by whether the transform derives from the <a href="../reference/ifaces/idxeffect.htm">IDXEffect</a> interface and which of the <a href="../reference/enums/dxtmiscflags_enum.htm">DXTMISCFLAGS</a> you have set. Any options that are not supported are unavailable in DXETool. Because all options are set within a given transform, you can check that they are properly supported by checking that all the correct controls are enabled.

<p>

If you have a one-step transform, you should see the resulting effect immediately. If your transform supports the <i>Progress</i> property, you can move the <B>Progress</B> slider and watch the effect. Clicking one of the <B>Progress</B> slider's arrows plays the transform either forward or backward in the <i>Duration</i> number of seconds. Only transforms that inherit from <a href="../reference/ifaces/idxeffect.htm">IDXEffect</a> will have these capabilities.

<h2><a name="viewing">Step 2: Viewing the Property Page</a></h2>

<P>If your transform supports some custom properties, you have probably built a property page for it. You can access this property page with the <B>Settings</B> button on the left side of the DXETool dialog box. If you didn't build a property page, this button is unavailable.
<p>
Make some changes to these properties to check that they produce the expected results on your output.

<h2><a name="surface_picking">Step 3: Surface Picking</a></h2>

<P>If your transform implements <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_S.htm#gloss_surfacepicking')">surface picking</A> through the <a href="../reference/ifaces/idxsurfacepick.htm">IDXSurfacePick</a> interface, you can test this with DXETool. Just click on the image window and watch the status bar at the bottom of your screen. 

<p>


For image transforms, there are four types of messages: &quot;Hit Input A at (x,y)&quot; and &quot;Hit Input B at (x,y)&quot; indicate that a surface was successfully hit. The coordinates these messages return are the x-coordinate and y-coordinate of the pixel that you clicked on the input surface. Even if the image is rotated or flipped, it should map properly to the source. A &quot;No Surface Hit&quot; message indicates that you clicked outside the bounds of any image. A &quot;Hit the output, but maps to no input&quot; message is often returned by <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#gloss_proceduralsurface')">procedural surfaces</A> because they have no input surface.

<p>
For three-dimensional (3-D) meshes, there are two possible messages. If you miss the object when you click in the image window, you will get a &quot;No pickable object found&quot; message. If your click hits the object, DXETool indicates which face of which <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#gloss_d3drmmeshbuilder')">mesh builder</A> object you hit.

<h2><a name="performance">Step 4: Measuring Performance</a></h2>
<P>After you get your transform working correctly, you may need to optimize it for speed. DXETool helps you optimize by calculating the frame rate of any animation. This is calculated by clicking the arrow buttons on the <B>Progress</B> slider.
<p>
When the <B>Perf Test</B> checkbox on the left side of the dialog box is selected for an animation, the transform calculates its output but does not render the output to the screen. This can help you to isolate the performance of your transform and to determine how different options, such as <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_A.htm#gloss_alphablending')">alpha blending</A>, contribute to the frame rate.
<p>
To get constant frame rate updates, you can use the <B>Repeat</B> and <B>Bounce</B> checkboxes.


<!-- CONTENTS_END -->


<!-- START_PAGE_FOOTER -->




<H5><HR size=1></H5>

<P><A ID=line HREF="#pagetop"><IMG src="../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>

<BR><A ID=line HREF="../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>

<!-- END_PAGE_FOOTER -->


</BLOCKQUOTE>




<!-- START POP-UP GLOSSARY -->

<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>
<!-- END POP-UP GLOSSARY -->


<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT LANGUAGE="JAVASCRIPT">if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY></HTML>

