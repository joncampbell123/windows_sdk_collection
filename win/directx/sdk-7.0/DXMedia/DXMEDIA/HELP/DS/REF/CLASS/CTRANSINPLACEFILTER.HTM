<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>CTransInPlaceFilter Class</TITLE>
<SCRIPT> var sRelPath = '../../' </SCRIPT>


<META NAME="Description" CONTENT="CTransInPlaceFilter Class">
<META NAME="Description" CONTENT="CheckTransform (CTransInPlaceFilter)">
<META NAME="Description" CONTENT="CTransInPlaceFilter::CheckTransform">
<META NAME="Description" CONTENT="CompleteConnect (CTransInPlaceFilter)">
<META NAME="Description" CONTENT="CTransInPlaceFilter::CompleteConnect">
<META NAME="Description" CONTENT="Copy (CTransInPlaceFilter)">
<META NAME="Description" CONTENT="CTransInPlaceFilter::Copy">
<META NAME="Description" CONTENT="CTransInPlaceFilter (CTransInPlaceFilter)">
<META NAME="Description" CONTENT="CTransInPlaceFilter::CTransInPlaceFilter">
<META NAME="Description" CONTENT="DecideBufferSize (CTransInPlaceFilter)">
<META NAME="Description" CONTENT="CTransInPlaceFilter::DecideBufferSize">
<META NAME="Description" CONTENT="GetMediaType (CTransInPlaceFilter)">
<META NAME="Description" CONTENT="CTransInPlaceFilter::GetMediaType">
<META NAME="Description" CONTENT="GetPin (CTransInPlaceFilter)">
<META NAME="Description" CONTENT="CTransInPlaceFilter::GetPin">
<META NAME="Description" CONTENT="InputPin (CTransInPlaceFilter)">
<META NAME="Description" CONTENT="CTransInPlaceFilter::InputPin">
<META NAME="Description" CONTENT="OutputPin (CTransInPlaceFilter)">
<META NAME="Description" CONTENT="CTransInPlaceFilter::OutputPin">
<META NAME="Description" CONTENT="Receive (CTransInPlaceFilter)">
<META NAME="Description" CONTENT="CTransInPlaceFilter::Receive">
<META NAME="Description" CONTENT="RegisterPerfId (CTransInPlaceFilter)">
<META NAME="Description" CONTENT="CTransInPlaceFilter::RegisterPerfId">
<META NAME="Description" CONTENT="Transform (CTransInPlaceFilter)">
<META NAME="Description" CONTENT="CTransInPlaceFilter::Transform">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../../ver.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="CTransInPlaceFilter"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CTransInPlaceFilter Class"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CTransInPlaceFilter Class"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../../contents.htm">Contents</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../../index.htm">Index</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="Classes_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="CTransformOutputPin.htm">CTransformOutputPin Class</A>
<IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="CTransInPlaceInputPin.htm">CTransInPlaceInputPin Class</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">


<!-- CONTENTS_START -->

<H1>CTransInPlaceFilter Class</H1>

<P><IMG SRC="../../art/tsip03.gif" WIDTH="323" HEIGHT="261" ALT="CTransInPlaceFilter class hierarchy">

<P><B>CTransInPlaceFilter</B> is an abstract base class that provides support for a simple <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_T.htm#transform_filter')">transform filter</A> with a single input and a single output. It is derived from the <A HREF="CUnknown.htm">CUnknown</A> class, and supports the <A HREF="../iface/IBaseFilter.htm">IBaseFilter</A> interface, the <A HREF="../iface/IMediaFilter.htm">IMediaFilter</A> interface, and two pins. Each <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#pin')">pin</A> supports the <A HREF="../iface/IPin.htm">IPin</A> interface and uses the shared memory <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_T.htm#transport')">transport</A> based on the <A HREF="../iface/IMemInputPin.htm">IMemInputPin</A> interface. The <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_f.htm#filter')">filter</A> uses classes derived from the <A HREF="CBaseMediaFilter.htm">CBaseMediaFilter</A> class to support <B>IBaseFilter</B> and <B>IMediaFilter</B>. The <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_I.htm#input_pin')">input pin</A> is derived from the 
<A HREF="CBaseInputPin.htm">CBaseInputPin</A> class, and the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_O.htm#output_pin')">output pin</A> is derived from the <A HREF="CBaseOutputPin.htm">CBaseOutputPin</A> class.

<P>For more information about using this class to create a transform filter, see <A HREF="../../filtdev/Creating_Transform_Filter.htm">Creating a Transform Filter</A>. 

<A NAME="Protected_Data_Membe"></A><P CLASS="ref">Protected Data Members</P>
<TABLE><TR><TD><B><A NAME="m_idTransInPlace">m_idTransInPlace</A></B> </TD><TD>Performance-measuring identifier.
</TD></TR></TABLE>
<A NAME="Member_Functions"></A><P CLASS="ref">Member Functions</P>

<TABLE><TR><TD><A HREF="CTransInPlaceFilter.htm#Copy">Copy</A> 
 </TD><TD>Retrieves a pointer to an identical copy of a media sample.
</TD></TR><TR><TD><A HREF="CTransInPlaceFilter.htm#CTransInPlaceFilter_CTransInPlaceFilter">CTransInPlaceFilter</A>
 </TD><TD>Constructs a <A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter</A> object.
</TD></TR><TR><TD><A HREF="CTransInPlaceFilter.htm#InputPin">InputPin</A>
 </TD><TD>Retrieves a pointer to the input pin associated with the filter.
</TD></TR><TR><TD><A HREF="CTransInPlaceFilter.htm#OutputPin">OutputPin</A>
 </TD><TD>Retrieves a pointer to the output pin associated with the filter.
</TD></TR></TABLE>
<A NAME="Overridable_Member_F"></A><P CLASS="ref">Overridable Member Functions</P>

<TABLE><TR><TD><A HREF="CTransInPlaceFilter.htm#CheckTransform">CheckTransform</A>
 </TD><TD>Verifies that the media type is supported by input and output pins. 
</TD></TR><TR><TD><A HREF="CTransInPlaceFilter.htm#CompleteConnect">CompleteConnect</A>
 </TD><TD>Reconnects the input or output pin if necessary.
</TD></TR><TR><TD><A HREF="CTransInPlaceFilter.htm#DecideBufferSize">DecideBufferSize</A>
 </TD><TD>Determines the size of the transport buffer.
</TD></TR><TR><TD><A HREF="CTransInPlaceFilter.htm#GetMediaType">GetMediaType</A>
 </TD><TD>Returns the media type to be used by the output pin. 
</TD></TR><TR><TD><A HREF="CTransInPlaceFilter.htm#GetPin">GetPin</A>
 </TD><TD>Returns a pin if an index is specified. 
</TD></TR><TR><TD><A HREF="CTransInPlaceFilter.htm#Receive">Receive</A>
 </TD><TD>Receives the sample, calls the derived class's <A HREF="CTransInPlaceFilter.htm#Transform">Transform</A> member function, and then 
delivers the sample. 
</TD></TR><TR><TD><A HREF="CTransInPlaceFilter.htm#RegisterPerfId">RegisterPerfId</A>
 </TD><TD>Registers a performance measurement identifier (if PERF is defined).
</TD></TR><TR><TD><A HREF="CTransInPlaceFilter.htm#Transform">Transform</A>
 </TD><TD>Performs transformation operations in place on the <A HREF="../iface/IMediaSample.htm">IMediaSample</A> interface (pure virtual).
</TD></TR></TABLE>



<H1><A NAME="CheckTransform">CTransInPlaceFilter::CheckTransform</A><HR size=1></H1>
<A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter Class</A>
<P>Verifies that the media is supported by input and output pins.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>CheckTransform</B><B>(</B><BR>&nbsp;&nbsp;<B>const</B> <B>CMediaType</B> <I>*mtIn</I><B>,</B><BR>&nbsp;&nbsp;<B>const</B> <B>CMediaType</B> <I>*mtOut</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>mtIn</I>
 </DT><DD>Input pin media type.
</DD><DT><I>mtOut</I>
 </DT><DD>Output pin media type.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns S_OK by default.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CTransformFilter.htm#CheckTransform">CTransformFilter::CheckTransform</A> member 
function. The base class functions that call this member function are overridden in this
class to call the <A HREF="CTransformFilter.htm#CheckInputType">CTransformFilter::CheckInputType</A> member function that is overridden
in the derived class, with the assumption that the type does not change. Usually there
is no reason for this member function to be called. In <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#debug_build')">debug builds</A> some calls will be made,
and returning S_OK ensures that these calls do not assert.
</BLOCKQUOTE>


<H1><A NAME="CompleteConnect">CTransInPlaceFilter::CompleteConnect</A><HR size=1></H1>
<A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter Class</A>
<P>Reconnects the input or output pin if necessary.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>CompleteConnect</B><B>(</B><BR>&nbsp;&nbsp;<B>PIN_DIRECTION</B> <I>direction</I><B>,</B><BR>&nbsp;&nbsp;<B>IPin</B> <I>*pReceivePin</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>direction</I>
 </DT><DD>Pin direction.
</DD><DT><I>pReceivePin</I>
 </DT><DD>Pointer to the output pin to which to connect.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR if successful; otherwise, returns <A HREF="../Error_Success_Codes.htm#VFW_E_NOT_IN_GRAPH">VFW_E_NOT_IN_GRAPH</A> if the filter is not part of a graph, or returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> that indicates the error. <B>HRESULT</B> can be one of the following standard constants, or other values not listed.
<TABLE><TR><TD>E_FAIL </TD><TD>Failure.
</TD></TR><TR><TD>E_POINTER </TD><TD>Null pointer argument.
</TD></TR><TR><TD>E_INVALIDARG </TD><TD>Invalid argument.
</TD></TR><TR><TD>E_NOTIMPL </TD><TD>Method isn't supported.
</TD></TR></TABLE>

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CTransformFilter.htm#CompleteConnect">CTransformFilter::CompleteConnect</A> member
function. It is called by one of the pin classes at the end of a successful connection. Because the 
input and output pins must both use the same allocator, this member function reconnects the 
opposite pin if necessary.

<P>When the input pin is first connected, the output pin has not yet been connected and the 
<A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#downstream_filter')">downstream filter's</A> allocator is unknown, so the allocator for the input pin is chosen to be the 
upstream pin's allocator. When the transform filter's output pin is connected, however, it has access 
to the downstream filter's allocator and should force a reconnect on the input pin and offer that 
allocator. When the input pin is reconnected, it forces a reconnect on the output pin if the allocator 
chosen for the input pin's connection differs from the output pin's connection.
This member function supplies the reconnection for either output or input pins.
</BLOCKQUOTE>


<H1><A NAME="Copy">CTransInPlaceFilter::Copy</A><HR size=1></H1>
<A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter Class</A>
<P>Creates a copy of the specified media sample.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>IMediaSample</B> <B>*</B> <B>CTransInPlaceFilter::Copy</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pSource</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pSource</I>
</DT><DD>Pointer to an object that implements the <A HREF="../iface/IMediaSample.htm">IMediaSample</A> interface.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns a pointer to the new sample.

</BLOCKQUOTE>


<H1><A NAME="CTransInPlaceFilter_CTransInPlaceFilter">CTransInPlaceFilter::CTransInPlaceFilter</A><HR size=1></H1>
<A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter Class</A>
<P>Constructs a <A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter</A> object.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>CTransInPlaceFilter</B><B>(</B><BR>&nbsp;&nbsp;<B>TCHAR</B> <B>*</B> <I>pObjectName</I><B>,</B><BR>&nbsp;&nbsp;<B>LPUNKNOWN</B> <I>lpUnk</I><B>,</B><BR>&nbsp;&nbsp;<B>REFCLSID</B> <I>clsid</I><B>,</B><BR>&nbsp;&nbsp;<B>HRESULT</B> <B>*</B> <I>phr</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pObjectName</I>
</DT><DD>Name given to the <A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter</A> object.
</DD><DT><I>lpUnk</I>
</DT><DD>Pointer to LPUNKNOWN.
</DD><DT><I>clsid</I>
</DT><DD>Class identifier of the <A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter</A> class.
</DD><DT><I>phr</I>
</DT><DD>Pointer to the <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value for resulting information.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>


<H1><A NAME="DecideBufferSize">CTransInPlaceFilter::DecideBufferSize</A><HR size=1></H1>
<A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter Class</A>
<P>Determines the size of the transport buffer.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>DecideBufferSize</B><B>(</B><BR>&nbsp;&nbsp;<B>IMemAllocator</B> <B>*</B> <I>pAlloc</I><B>,</B><BR>&nbsp;&nbsp;<B>ALLOCATOR_PROPERTIES</B> <B>*</B> <I>pProperties</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pAlloc</I>
</DT><DD>Pointer to the <A HREF="../iface/IMemAllocator.htm">IMemAllocator</A> object used by the output pin.

</DD><DT><I>pProperties</I>
</DT><DD>Requested allocator properties for count, size, and alignment,
as specified by the <A HREF="../structs.htm#ALLOCATOR_PROPERTIES">ALLOCATOR_PROPERTIES</A> structure.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR if successful; otherwise, returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value indicating the error. <B>HRESULT</B> can be one of the following standard constants, or other values not listed.
<TABLE><TR><TD>E_FAIL </TD><TD>Failure.
</TD></TR><TR><TD>E_POINTER </TD><TD>Null pointer argument.
</TD></TR><TR><TD>E_INVALIDARG </TD><TD>Invalid argument.
</TD></TR><TR><TD>E_NOTIMPL </TD><TD>Method isn't supported.
</TD></TR></TABLE>

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CTransformFilter.htm#DecideBufferSize">CTransformFilter::DecideBufferSize</A> member 
function. It is called when the filter must provide its own allocator. Allocator 
requirements are obtained from the filter's input pin and passed to the output pin. 
</BLOCKQUOTE>


<H1><A NAME="GetMediaType">CTransInPlaceFilter::GetMediaType</A><HR size=1></H1>
<A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter Class</A>
<P>Retrieves the media type to be used by the output pin.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>GetMediaType</B><B>(</B><BR>&nbsp;&nbsp;<B>int</B> <I>iPosition</I><B>,</B><BR>&nbsp;&nbsp;<B>CMediaType</B> <I>*pMediaType</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>iPosition</I>
 </DT><DD>Position of the media type in the media type list.
</DD><DT><I>pMediaType</I>
 </DT><DD>Returned media type object.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns E_UNEXPECTED because it is not expected to be called.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>In the <A HREF="CTransformFilter.htm">CTransformFilter</A> class, this member function is called by the associated 
input or output pin class's <A HREF="CTransformOutputPin.htm#GetMediaType">GetMediaType</A> 
member function to retrieve the next media type in the list and return it to the pin's 
<A HREF="CBasePin.htm#EnumMediaTypes">CBasePin::EnumMediaTypes</A> member function. 

<P>However, in the <A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter</A> class, the pin classes override the 
<A HREF="CBasePin.htm#EnumMediaTypes">CBasePin::EnumMediaTypes</A> member function so that it bypasses the filter and calls the 
enumerator of the opposite connected pin. (For example, the output pin enumerator uses the
<A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_U.htm#upstream_filter')">upstream filter's</A> enumerator, and the input pin uses the connected downstream
filter's enumerator.) Therefore, this member function should never be called
by the inplace pin classes. It is implemented to prevent "undefined pure virtual" compiler warnings.
</BLOCKQUOTE>


<H1><A NAME="GetPin">CTransInPlaceFilter::GetPin</A><HR size=1></H1>
<A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter Class</A>
<P>Retrieves a pin if an index is specified.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>CBasePin</B> <B>*</B> <B>GetPin</B><B>(</B><BR>&nbsp;&nbsp;<B>int</B> <I>n</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>n</I>
</DT><DD>Index of the pin to return.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns a pointer to a <A HREF="CBasePin.htm">CBasePin</A> object.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is implemented and need not be overridden unless one or more of the
transform pin classes (<A HREF="CTransInPlaceInputPin.htm">CTransInPlaceInputPin</A> or <A HREF="CTransInPlaceOutputPin.htm">CTransInPlaceOutputPin</A>) are 
being overridden. 
</BLOCKQUOTE>


<H1><A NAME="InputPin">CTransInPlaceFilter::InputPin</A><HR size=1></H1>
<A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter Class</A>
<P>Retrieves a pointer to the input pin associated with the filter.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>CTransInPlaceInputPin</B> <B>*InputPin</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns a pointer to a <A HREF="CTransInPlaceInputPin.htm">CTransInPlaceInputPin</A> object.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is protected.
</BLOCKQUOTE>


<H1><A NAME="OutputPin">CTransInPlaceFilter::OutputPin</A><HR size=1></H1>
<A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter Class</A>
<P>Retrieves a pointer to the output pin associated with the filter.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>CTransInPlaceOutputPin</B> <B>*OutputPin</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns a pointer to a <A HREF="CTransInPlaceOutputPin.htm">CTransInPlaceOutputPin</A> object.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is protected.
</BLOCKQUOTE>


<H1><A NAME="Receive">CTransInPlaceFilter::Receive</A><HR size=1></H1>
<A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter Class</A>
<P>Receives the media sample, calls the <A HREF="CTransInPlaceFilter.htm#Transform">CTransInPlaceFilter::Transform</A>
member function, and then delivers the media sample.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>Receive</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pSample</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pSample</I>
</DT><DD>Sample to deliver.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value that depends on the implementation of the derived class' <A HREF="CTransInPlaceFilter.htm#Transform">Transform function</A>. <B>HRESULT</B> can be one of the following standard constants, or other values not listed.
<TABLE><TR><TD>E_FAIL </TD><TD>Failure.
</TD></TR><TR><TD>E_POINTER </TD><TD>Null pointer argument.
</TD></TR><TR><TD>E_INVALIDARG </TD><TD>Invalid argument.
</TD></TR><TR><TD>E_NOTIMPL </TD><TD>Method isn't supported.
</TD></TR><TR><TD>S_OK or NOERROR </TD><TD>Success.
</TD></TR></TABLE>

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CTransformFilter.htm#Receive">CTransformFilter::Receive</A> member function.
Override it only if you need more control of the process. 
</BLOCKQUOTE>


<H1><A NAME="RegisterPerfId">CTransInPlaceFilter::RegisterPerfId</A><HR size=1></H1>
<A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter Class</A>
<P>Registers a performance measurement identifier.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>void</B> <B>RegisterPerfId</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>By default, this member function registers the performance identifier 
(<A HREF="CTransformFilter.htm#CTransformFilter::m_idTransform">m_idTransform</A>) with the string "TransinPlace". Override this member function to register 
a performance measurement with a less generic string. This should be done to avoid confusion with 
other filters. This member function is enabled only when PERF is defined. 
</BLOCKQUOTE>


<H1><A NAME="Transform">CTransInPlaceFilter::Transform</A><HR size=1></H1>
<A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter Class</A>
<P>Transforms the data in <I>pSample</I> in place. 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>Transform</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pSample</I><BR>&nbsp;&nbsp;<B>)</B> <B>PURE;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pSample</I>
 </DT><DD>Pointer to the input <A HREF="../iface/IMediaSample.htm">IMediaSample</A> interface.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value that depends on the implementation. <B>HRESULT</B> can be one of the following standard constants, or other values not listed.
<TABLE><TR><TD>E_FAIL </TD><TD>Failure.
</TD></TR><TR><TD>E_POINTER </TD><TD>Null pointer argument.
</TD></TR><TR><TD>E_INVALIDARG </TD><TD>Invalid argument.
</TD></TR><TR><TD>E_NOTIMPL </TD><TD>Method isn't supported.
</TD></TR><TR><TD>S_OK or NOERROR </TD><TD>Success.
</TD></TR></TABLE>

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>You must supply this member function in the derived class to perform the actual work of 
your filter. This member function is called by <A HREF="CTransInPlaceFilter.htm#Receive">CTransInPlaceFilter::Receive</A> before passing 
the sample on to the downstream filter. <B>Transform</B> can return S_FALSE to indicate that the 
sample should not be delivered downstream.

</BLOCKQUOTE>
<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A Class="line" HREF="../../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
