<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>DVD Subpicture Property Set</TITLE>
<SCRIPT> var sRelPath = '../' </SCRIPT>


<META NAME="Description" CONTENT="DVD Subpicture Property Set">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../ver.js"></SCRIPT>
<SCRIPT SRC="../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="Propset_1"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../contents.htm">Contents</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../index.htm">Index</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="cref_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="propset.htm">Property Sets</A>
<IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="propset_DVD_Copy_Protection.htm">DVD Copy Protection Property Set</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">


<!-- CONTENTS_START -->

<H1>DVD Subpicture Property Set</H1>

<P>DVD Subpicture properties control the color, contrast, and output of the subpicture display.

<P>The following information presents the necessary constants and data types to use for this property set in calls to <A HREF="iface/IKsPropertySet.htm">IKsPropertySet</A> methods. It provides values for the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_G.htm#GUID')">GUID</A> (<I>guidPropSet</I>), property ID (<I>dwPropID</I>), and property data type (<I>pPropData</I>) parameters.

<P><B>Property Set GUID:</B> <B><A NAME="AM_KSPROPSETID_DvdSu">AM_KSPROPSETID_DvdSubPic</A></B></P>

<TABLE>
<TR><TH>Property ID</TH><TH>Data type used by the specified property</TH></TR>

<TR><TD><A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_DVDSUBPI">AM_PROPERTY_DVDSUBPIC_COMPOSIT_ON</A> </TD><TD><A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_COMPOSIT">AM_PROPERTY_COMPOSIT_ON</A>
 </TD></TR><TR><TD><A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_DVDSUBPI">AM_PROPERTY_DVDSUBPIC_HLI</A> </TD><TD><A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_SPHLI">AM_PROPERTY_SPHLI</A>
 </TD></TR><TR><TD><A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_DVDSUBPI">AM_PROPERTY_DVDSUBPIC_PALETTE</A> </TD><TD><A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_SPPAL">AM_PROPERTY_SPPAL</A>
 </TD></TR></TABLE>
 
<P>The following list provides the Subpicture property IDs and descriptions.
<DL>
<DT><B><A NAME="AM_PROPERTY_DVDSUBPI">AM_PROPERTY_DVDSUBPIC_COMPOSIT_ON</A></B>
 </DT><DD>Set-only property that enables or disables subpicture display. DirectShow defines the <B><A NAME="AM_PROPERTY_COMPOSIT">AM_PROPERTY_COMPOSIT_ON</A></B> Boolean data type for this property, as well as PAM_PROPERTY_COMPOSIT_ON as a pointer to this data type. TRUE indicates display the subpicture, FALSE indicates disable it. See the WDM portion of the Windows 98 DDK for more information.
</DD><DT><B><A NAME="AM_PROPERTY_DVDSUBPI">AM_PROPERTY_DVDSUBPIC_HLI</A></B>
 </DT><DD>Set-only property that specifies a rectangle of subpicture or screen whose color or contrast will be changed. Data type is <A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_SPHLI">AM_PROPERTY_SPHLI</A>.

<P>The <B>AM_PROPERTY_DVDSUBPIC_HLI</B> property is set-only. It specifies a rectangle of subpicture or screen whose color or contrast will be changed. This differs from the <A HREF="iface/IDvdControl.htm#DVD_Video_specificat">DVD-Video specification</A>, in that the Microsoft DVD navigator parses all button and keyboard information and passes only one highlight rectangle to the subpicture decoder at any given time. As a result, highlight information is sent to the decoder more often than it is present in the DVD stream.

<P>The highlight information arrives asynchronously to the data stream. The decoder uses the highlight Start and End <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_T.htm#time_stamp')">time stamps</A> to correlate the highlight information to the relevant subpicture information, if any. If the decoder has not received any subpicture stream information for the requested time stamps, the decoder assumes that the highlight information is stand-alone and does not apply to a subpicture. In this case, the decoder assumes the color and contrast information is all the same color.

<P>The data is not entirely in DVD disc format. Microsoft provides an additional structure of type <A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_SPHLI">AM_PROPERTY_SPHLI</A> that is passed as the parameter to this property. This structure describes the currently selected button from the DVD highlight information.

<P>The DVD navigator processes all keystroke information and sends new highlight information each time a button state changes. The information describes only one mode of one button at a time. It includes a display rectangle in pixel coordinates of the screen, or a display of the subpicture, if present. The structure also contains color and contrast information, but only for the present state of the currently selected button. The format is defined in the DVD specification.

<P>Highlight information contains Start and End time stamps. These are in the same units as other time stamps, with two exceptions: A Start time stamp of 0xFFFFFFFF means the highlight property is effective upon receipt, and an End time stamp of 0xFFFFFFFF means the 
highlight property is valid until next highlight received.

<P>The HLISS <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_f.htm#field')">field</A> is as defined in the DVD specification. A value of zero indicates that all highlights are invalid and the decoder should disable all highlights.

</DD><DT><B><A NAME="AM_PROPERTY_DVDSUBPI">AM_PROPERTY_DVDSUBPIC_PALETTE</A></B>
 </DT><DD>Sets the palette for a subpicture. Data type is <A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_SPPAL">AM_PROPERTY_SPPAL</A>.
</DD></DL>
<P>Use the <A HREF="iface/IKsPropertySet.htm">IKsPropertySet</A> interface to set, retrieve, and query for support of these properties.

<P>This property set uses the following data types.</P>
<TABLE>
<TR><TH>Data type</TH><TH>Description</TH></TR>

<TR><TD><A HREF="propset_DVD_Subpicture.htm#AM_COLCON">AM_COLCON</A> </TD><TD>Specifies the color contrast. Substructure of the <A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_SPHLI">AM_PROPERTY_SPHLI</A> structure.
 </TD></TR><TR><TD><A HREF="propset_DVD_Subpicture.htm#AM_DVD_YUV">AM_DVD_YUV</A> </TD><TD>Specifies DVD YUV subpicture data. Substructure of the <A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_SPPAL">AM_PROPERTY_SPPAL</A> structure.
</TD></TR><TR><TD><A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_COMPOSIT">AM_PROPERTY_COMPOSIT_ON</A> </TD><TD>Boolean data used by the <A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_DVDSUBPI">AM_PROPERTY_DVDSUBPIC_COMPOSIT_ON</A> property. 
 </TD></TR><TR><TD><A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_SPHLI">AM_PROPERTY_SPHLI</A> </TD><TD>Describes the currently selected button from the DVD highlight information.
 </TD></TR><TR><TD><A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_SPPAL">AM_PROPERTY_SPPAL</A> </TD><TD>Specifies the DVD subpicture palette.
 </TD></TR></TABLE>

<H1><A NAME="AM_COLCON">AM_COLCON</A><HR size=1></H1>
<A HREF="propset_DVD_Subpicture.htm">DVD Subpicture Property Set</A>
<P>Indicates the color contrast description from the DVD highlight (HLI) structure.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE> typedef struct _AM_COLCON {
    UCHAR emph1col:4;
    UCHAR emph2col:4;
    UCHAR backcol:4;
    UCHAR patcol:4;
    UCHAR emph1con:4;
    UCHAR emph2con:4;
    UCHAR backcon:4;
    UCHAR patcon:4;
} AM_COLCON, *PAM_COLCON;
</PRE></BLOCKQUOTE>

<P CLASS="ref">Members</P>
<BLOCKQUOTE><DL><DT><B><A NAME="emph1col">emph1col</A></B>
 </DT><DD>Emphasis color 1.
</DD><DT><B><A NAME="emph2col">emph2col</A></B>
 </DT><DD>Emphasis color 2. 
</DD><DT><B><A NAME="backcol">backcol</A></B>
 </DT><DD>Background color. 
</DD><DT><B><A NAME="patcol">patcol</A></B>
 </DT><DD>Pattern color. 
</DD><DT><B><A NAME="emph1con">emph1con</A></B>
 </DT><DD>Emphasis contrast 1. 
</DD><DT><B><A NAME="emph2con">emph2con</A></B>
 </DT><DD>Emphasis contrast 2. 
</DD><DT><B><A NAME="backcon">backcon</A></B>
 </DT><DD>Background contrast. 
</DD><DT><B><A NAME="patcon">patcon</A></B>
 </DT><DD>Pattern contrast. 
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This structure is contained within the <A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_SPHLI">AM_PROPERTY_SPHLI</A> structure.</BLOCKQUOTE>

<H1><A NAME="AM_DVD_YUV">AM_DVD_YUV</A><HR size=1></H1>
<A HREF="propset_DVD_Subpicture.htm">DVD Subpicture Property Set</A>
<P>DVD YUV subpicture data.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE> typedef struct _AM_DVD_YUV {
    UCHAR   Reserved;
    UCHAR   Y;
    UCHAR   U;
    UCHAR   V;
} AM_DVD_YUV, *PAM_DVD_YUV;
</PRE></BLOCKQUOTE>

<P CLASS="ref">Members</P>
<BLOCKQUOTE><DL><DT><B>Reserved</B>
 </DT><DD>Reserved.
</DD><DT><B><A NAME="Y">Y</A></B>
 </DT><DD>Y color data.
</DD><DT><B><A NAME="U">U</A></B>
 </DT><DD>U color data.
</DD><DT><B><A NAME="V">V</A></B>
 </DT><DD>V color data.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This structure is contained within the <A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_SPPAL">AM_PROPERTY_SPPAL</A> structure.</BLOCKQUOTE>

<H1><A NAME="AM_PROPERTY_SPHLI">AM_PROPERTY_SPHLI</A><HR size=1></H1>
<A HREF="propset_DVD_Subpicture.htm">DVD Subpicture Property Set</A>
<P>Describes the currently selected button from the DVD highlight information.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE> typedef struct _AM_PROPERTY_SPHLI {
    USHORT  HLISS;      
    USHORT  Reserved;
    ULONG   StartPTM; 
    ULONG   EndPTM;  
    USHORT  StartX;
    USHORT  StartY;
    USHORT  StopX;
    USHORT  StopY;
    AM_COLCON  ColCon; 
} AM_PROPERTY_SPHLI, *PAM_PROPERTY_SPHLI;
</PRE></BLOCKQUOTE>

<P CLASS="ref">Members</P>
<BLOCKQUOTE><DL><DT><B><A NAME="HLISS">HLISS</A></B>
 </DT><DD>Highlight status of current selection.
</DD><DT><B>Reserved</B>
 </DT><DD>Reserved for internal use. Do not use or set.
</DD><DT><B><A NAME="StartPTM">StartPTM</A></B>
 </DT><DD>Start <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#presentation_time')">presentation time</A> divided by 90,000.
</DD><DT><B><A NAME="EndPTM">EndPTM</A></B>
 </DT><DD>End presentation time divided by 90,000.
</DD><DT><B><A NAME="StartX">StartX</A></B>
 </DT><DD>Start x-coordinate pixel of the current highlight button.
</DD><DT><B><A NAME="StartY">StartY</A></B>
 </DT><DD>Start y-coordinate pixel of the current highlight button.
</DD><DT><B><A NAME="StopX">StopX</A></B>
 </DT><DD>Ending x-coordinate pixel of the current highlight button.
</DD><DT><B><A NAME="StopY">StopY</A></B>
 </DT><DD>Ending y-coordinate pixel of the current highlight button.
</DD><DT><B><A NAME="ColCon">ColCon</A></B>
 </DT><DD>Color contrast description of type <A HREF="propset_DVD_Subpicture.htm#AM_COLCON">AM_COLCON</A>.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>The <A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_DVDSUBPI">AM_PROPERTY_DVDSUBPIC_HLI</A> property uses this structure.</BLOCKQUOTE>

<H1><A NAME="AM_PROPERTY_SPPAL">AM_PROPERTY_SPPAL</A><HR size=1></H1>
<A HREF="propset_DVD_Subpicture.htm">DVD Subpicture Property Set</A>
<P>Specifies the DVD subpicture palette.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE> typedef struct _AM_PROPERTY_SPPAL {
    AM_DVD_YUV sppal[16];
} AM_PROPERTY_SPPAL, *PAM_PROPERTY_SPPAL;
</PRE></BLOCKQUOTE>

<P CLASS="ref">Members</P>
<BLOCKQUOTE><DL><DT><B><A NAME="sppal">sppal</A></B>
 </DT><DD>Array of 16 YUV elements that correspond to the 4-bit color numbers requested within the subpicture command stream. The YUV elements are of type <A HREF="propset_DVD_Subpicture.htm#AM_DVD_YUV">AM_DVD_YUV</A>.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>The <A HREF="propset_DVD_Subpicture.htm#AM_PROPERTY_DVDSUBPI">AM_PROPERTY_DVDSUBPIC_PALETTE</A> property uses this structure.</BLOCKQUOTE>

<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A HREF="../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
