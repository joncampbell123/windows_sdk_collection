<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>CBaseRenderer Class</TITLE>
<SCRIPT> var sRelPath = '../../' </SCRIPT>


<META NAME="Description" CONTENT="CBaseRenderer Class">
<META NAME="Description" CONTENT="Active (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::Active">
<META NAME="Description" CONTENT="BeginFlush (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::BeginFlush">
<META NAME="Description" CONTENT="BreakConnect (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::BreakConnect">
<META NAME="Description" CONTENT="CancelNotification (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::CancelNotification">
<META NAME="Description" CONTENT="CBaseRenderer (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::CBaseRenderer">
<META NAME="Description" CONTENT="CheckMediaType (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::CheckMediaType">
<META NAME="Description" CONTENT="CheckReady (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::CheckReady">
<META NAME="Description" CONTENT="ClearPendingSample (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::ClearPendingSample">
<META NAME="Description" CONTENT="CompleteConnect (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::CompleteConnect">
<META NAME="Description" CONTENT="CompleteStateChange (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::CompleteStateChange">
<META NAME="Description" CONTENT="DisplayRendererState (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::DisplayRendererState">
<META NAME="Description" CONTENT="DoRenderSample (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::DoRenderSample">
<META NAME="Description" CONTENT="EndFlush (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::EndFlush">
<META NAME="Description" CONTENT="EndOfStream (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::EndOfStream">
<META NAME="Description" CONTENT="FindPin (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::FindPin">
<META NAME="Description" CONTENT="GetCurrentSample (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::GetCurrentSample">
<META NAME="Description" CONTENT="GetMediaPositionInterface (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::GetMediaPositionInterface">
<META NAME="Description" CONTENT="GetPin (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::GetPin">
<META NAME="Description" CONTENT="GetPinCount (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::GetPinCount">
<META NAME="Description" CONTENT="GetRealState (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::GetRealState">
<META NAME="Description" CONTENT="GetRenderEvent (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::GetRenderEvent">
<META NAME="Description" CONTENT="GetSampleTimes (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::GetSampleTimes">
<META NAME="Description" CONTENT="GetState (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::GetState">
<META NAME="Description" CONTENT="HaveCurrentSample (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::HaveCurrentSample">
<META NAME="Description" CONTENT="Inactive (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::Inactive">
<META NAME="Description" CONTENT="IsEndOfStream (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::IsEndOfStream">
<META NAME="Description" CONTENT="IsEndOfStreamDelivered (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::IsEndOfStreamDelivered">
<META NAME="Description" CONTENT="IsStreaming (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::IsStreaming">
<META NAME="Description" CONTENT="NonDelegatingQueryInterface (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::NonDelegatingQueryInterface">
<META NAME="Description" CONTENT="NotReady (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::NotReady">
<META NAME="Description" CONTENT="NotifyEndOfStream (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::NotifyEndOfStream">
<META NAME="Description" CONTENT="OnReceiveFirstSample (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::OnReceiveFirstSample">
<META NAME="Description" CONTENT="OnRenderEnd (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::OnRenderEnd">
<META NAME="Description" CONTENT="OnRenderStart (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::OnRenderStart">
<META NAME="Description" CONTENT="OnStartStreaming (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::OnStartStreaming">
<META NAME="Description" CONTENT="OnStopStreaming (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::OnStopStreaming">
<META NAME="Description" CONTENT="OnWaitEnd (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::OnWaitEnd">
<META NAME="Description" CONTENT="OnWaitStart (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::OnWaitStart">
<META NAME="Description" CONTENT="Pause (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::Pause">
<META NAME="Description" CONTENT="PrepareReceive (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::PrepareReceive">
<META NAME="Description" CONTENT="PrepareRender (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::PrepareRender">
<META NAME="Description" CONTENT="Ready (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::Ready">
<META NAME="Description" CONTENT="Receive (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::Receive">
<META NAME="Description" CONTENT="Render (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::Render">
<META NAME="Description" CONTENT="ResetEndOfStream (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::ResetEndOfStream">
<META NAME="Description" CONTENT="ResetEndOfStreamTimer (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::ResetEndOfStreamTimer">
<META NAME="Description" CONTENT="Run (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::Run">
<META NAME="Description" CONTENT="ScheduleSample (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::ScheduleSample">
<META NAME="Description" CONTENT="SendEndOfStream (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::SendEndOfStream">
<META NAME="Description" CONTENT="SendNotifyWindow (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::SendNotifyWindow">
<META NAME="Description" CONTENT="SendRepaint (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::SendRepaint">
<META NAME="Description" CONTENT="SetAbortSignal (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::SetAbortSignal">
<META NAME="Description" CONTENT="SetMediaType (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::SetMediaType">
<META NAME="Description" CONTENT="SetRepaintStatus (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::SetRepaintStatus">
<META NAME="Description" CONTENT="ShouldDrawSampleNow (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::ShouldDrawSampleNow">
<META NAME="Description" CONTENT="SignalTimerFired (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::SignalTimerFired">
<META NAME="Description" CONTENT="SourceThreadCanWait (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::SourceThreadCanWait">
<META NAME="Description" CONTENT="StartStreaming (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::StartStreaming">
<META NAME="Description" CONTENT="Stop (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::Stop">
<META NAME="Description" CONTENT="StopStreaming (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::StopStreaming">
<META NAME="Description" CONTENT="TimerCallback (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::TimerCallback">
<META NAME="Description" CONTENT="WaitForReceiveToComplete (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::WaitForReceiveToComplete">
<META NAME="Description" CONTENT="WaitForRenderTime (CBaseRenderer)">
<META NAME="Description" CONTENT="CBaseRenderer::WaitForRenderTime">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../../ver.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="CBaseRenderer"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CBaseRenderer Class"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CBaseRenderer Class"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../../contents.htm">Contents</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../../index.htm">Index</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="Classes_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="CBaseReferenceClock.htm">CBaseReferenceClock Class</A>
<IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="CBaseStreamControl.htm">CBaseStreamControl Class</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">


<!-- CONTENTS_START -->

<H1>CBaseRenderer Class</H1>

<P><IMG SRC="../../art/rbase02.gif" WIDTH="299" HEIGHT="229" ALT="CBaseRenderer class hierarchy">

<P><B>CBaseRenderer</B> is the base <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_R.htm#renderer')">renderer</A> class for writing renderers.
This class handles a single <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_I.htm#input_pin')">input pin</A>, all state changes, and synchronization.

<A NAME="Protected_Data_Membe"></A><P CLASS="ref">Protected Data Members</P>
<TABLE><TR><TD><B><A NAME="m_bAbort">m_bAbort</A></B>
 </TD><TD>Stop rendering data.
</TD></TR><TR><TD><B><A NAME="m_bEOS">m_bEOS</A></B>
 </TD><TD>Indicator for whether there are more samples in the stream.
</TD></TR><TR><TD><B><A NAME="CBaseRenderer::m_bEOSDelivered">m_bEOSDelivered</A></B>
 </TD><TD>Indicator for whether an EC_COMPLETE event has been delivered.
</TD></TR><TR><TD><B><A NAME="m_bRepaintStatus">m_bRepaintStatus</A></B>
 </TD><TD>Flag to determine if an EC_REPAINT message can be signaled.
</TD></TR><TR><TD><B><A NAME="m_bStreaming">m_bStreaming</A></B>
 </TD><TD>Indicator for whether the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_F.htm#filter_graph')">filter graph</A> is currently streaming.
</TD></TR><TR><TD><B><A NAME="m_dwAdvise">m_dwAdvise</A></B>
 </TD><TD>Timer <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_A.htm#advise')">advise</A> token returned by the clock. 
</TD></TR><TR><TD><B><A NAME="m_EndOfStreamTimer">m_EndOfStreamTimer</A></B>
 </TD><TD>Time that specifies the end of the stream.
</TD></TR><TR><TD><B><A NAME="m_evComplete">m_evComplete</A></B>
 </TD><TD>Event signaled when the pause state is complete.
</TD></TR><TR><TD><B><A NAME="m_InterfaceLock">m_InterfaceLock</A></B>
 </TD><TD>Critical section for interfaces.
</TD></TR><TR><TD><B><A NAME="m_pInputPin">m_pInputPin</A></B>
 </TD><TD>Renderer input <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#pin')">pin</A> object.
</TD></TR><TR><TD><B><A NAME="m_pMediaSample">m_pMediaSample</A></B>
 </TD><TD>Current media sample about to be, or being rendered.
</TD></TR><TR><TD><B><A NAME="m_pPosition">m_pPosition</A></B>
 </TD><TD><A HREF="CRendererPosPassThru.htm">CRendererPosPassThru</A> object for passing positioning data upstream.
</TD></TR><TR><TD><B><A NAME="m_pQSink">m_pQSink</A></B>
 </TD><TD>Quality control sink.
</TD></TR><TR><TD><B><A NAME="m_RendererLock">m_RendererLock</A></B>
 </TD><TD>Controller for access to current media sample.
</TD></TR><TR><TD><B><A NAME="m_RenderEvent">m_RenderEvent</A></B>
 </TD><TD>Used to signal timer events.
</TD></TR><TR><TD><B><A NAME="m_SignalTime">m_SignalTime</A></B>
 </TD><TD>Amount of time that must elapse before <A HREF="CBaseRenderer.htm">CBaseRenderer</A> returns EC_COMPLETE.
</TD></TR><TR><TD><B><A NAME="CBaseRenderer::m_ThreadSignal">m_ThreadSignal</A></B>
 </TD><TD>Event signaled to release the source <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_f.htm#filter')">filter</A> thread.
</TD></TR></TABLE>
<A NAME="Member_Functions"></A><P CLASS="ref">Member Functions</P>

<TABLE><TR><TD><A HREF="CBaseRenderer.htm#Active">Active</A>
 </TD><TD>Called when the state is switched to paused or running.
 Override to add functionality.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#CBaseRenderer_CBaseRenderer">CBaseRenderer</A>
 </TD><TD>Constructs a <A HREF="CBaseRenderer.htm">CBaseRenderer</A> object.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#CheckReady">CheckReady</A>
 </TD><TD>Determines if the event is set.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#DisplayRendererState">DisplayRendererState</A>
 </TD><TD>Displays the status of the video renderer. This function is available only in debug mode.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#GetRealState">GetRealState</A>
 </TD><TD>Retrieves the actual state of the renderer.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#GetRenderEvent">GetRenderEvent</A>
 </TD><TD>Retrieves the event to render.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#IsEndOfStream">IsEndOfStream</A>
 </TD><TD>Determines if the end of the stream has been reached.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#IsEndOfStreamDelivered">IsEndOfStreamDelivered</A>
 </TD><TD>Determines if the end of the stream has been delivered to the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_F.htm#filter_graph_manager')">filter graph manager</A>.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#IsStreaming">IsStreaming</A>
 </TD><TD>Determines if the filter is currently rendering data.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#NotifyEndOfStream">NotifyEndOfStream</A>
 </TD><TD>Sends an EC_COMPLETE event to the filter graph manager.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#NotReady">NotReady</A>
 </TD><TD>Forces the <A HREF="CBaseRenderer.htm#m_evComplete">m_evComplete</A> event into a nonsignaled state.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#Ready">Ready</A>
 </TD><TD>Puts the <A HREF="CBaseRenderer.htm#m_evComplete">m_evComplete</A> event into a signaled state.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#ResetEndOfStream">ResetEndOfStreamTimer</A>
 </TD><TD>Sets the end of stream timer to zero.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#ScheduleSample">ScheduleSample</A>
 </TD><TD>Sets up an advise link with the clock.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#SendNotifyWindow">SendNotifyWindow</A>
 </TD><TD>Passes the notification window handle to the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_U.htm#upstream_filter')">upstream filter</A>. 
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#SendRepaint">SendRepaint</A>
 </TD><TD>Conditionally signals an EC_REPAINT message to the filter graph.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#SetAbortSignal">SetAbortSignal</A>
 </TD><TD>Sets the abort signal flag.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#SetRepaintStatus">SetRepaintStatus</A>
 </TD><TD>Resets the repaint status flag.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#SignalTimerFired">SignalTimerFired</A>
 </TD><TD>Resets the current advise time to zero after a timer fires.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#TimerCallback">TimerCallback</A>
 </TD><TD>Checks if it is time to signal the end of the current data stream.
</TD></TR></TABLE>
<A NAME="Overridable_Member_F"></A><P CLASS="ref">Overridable Member Functions</P>

<TABLE><TR><TD><A HREF="CBaseRenderer.htm#BeginFlush">BeginFlush</A>
 </TD><TD>Signals the start of flushing on the input pin.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#BreakConnect">BreakConnect</A>
 </TD><TD>Breaks the input pin connection and resets the end-of-stream flags.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#CancelNotification">CancelNotification</A>
 </TD><TD>Cancels any currently scheduled notification with the clock.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#CheckMediaType">CheckMediaType</A>
 </TD><TD>Determines if the renderer will accept a given media type.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#ClearPendingSample">ClearPendingSample</A>
 </TD><TD>Called to release the pending sample after it has been rendered.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#CompleteConnect">CompleteConnect</A>
 </TD><TD>Called as part of the connection protocol. Override to add functionality.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#CompleteStateChange">CompleteStateChange</A>
 </TD><TD>Ensures that a sample is waiting before allowing a pause.



</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#DoRenderSample">DoRenderSample</A>
 </TD><TD>Called when a sample is ready to render.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#EndFlush">EndFlush</A>
 </TD><TD>Called when the input pin receives an end-flush notification.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#EndOfStream">EndOfStream</A>
 </TD><TD>Called when the input pin receives an end-of-stream notification.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#GetCurrentSample">GetCurrentSample</A>
 </TD><TD>Retrieves the current sample waiting at the video renderer.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#GetPin">GetPin</A>
 </TD><TD>Returns a <A HREF="CBasePin.htm">CBasePin</A> object to the renderer.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#GetPinCount">GetPinCount</A>
 </TD><TD>Returns the number of input pins supported.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#GetMediaPositionInterface">GetMediaPositionInterface</A>
 </TD><TD>Retrieves <A HREF="../iface/IMediaPosition.htm">IMediaPosition</A> and <A HREF="../iface/IMediaSeeking.htm">IMediaSeeking</A> interfaces for the video renderer.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#GetSampleTimes">GetSampleTimes</A>
 </TD><TD>Retrieves sample time information for this sample.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#HaveCurrentSample">HaveCurrentSample</A>
 </TD><TD>Determines if a sample is waiting at the renderer.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#Inactive">Inactive</A>
 </TD><TD>Called when going into a stopped state. Override to add functionality.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#NonDelegatingQueryInterface">NonDelegatingQueryInterface</A>
 </TD><TD>Returns an interface and increments the reference count.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#OnReceiveFirstSample">OnReceiveFirstSample</A>
 </TD><TD>Provides derived classes with an opportunity to render static data.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#OnRenderEnd">OnRenderEnd</A>
 </TD><TD>Notifies the derived class that a sample has just finished rendering.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#OnRenderStart">OnRenderStart</A>
 </TD><TD>Notifies the derived class that a sample is about to be rendered.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#OnStartStreaming">OnStartStreaming</A>
 </TD><TD>Notifies the derived class that rendering has started.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#OnStopStreaming">OnStopStreaming</A>
 </TD><TD>Notifies the derived class that rendering has stopped.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#OnWaitEnd">OnWaitEnd</A>
 </TD><TD>Notifies the derived class that a wait for a rendering time has just ended.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#OnWaitStart">OnWaitStart</A>
 </TD><TD>Notifies the derived class that a wait for a rendering time is about to start.

</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#Pause">Pause</A>
 </TD><TD>Tells the renderer to transition to the new (paused) state.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#PrepareReceive">PrepareReceive</A>
 </TD><TD>Called to schedule a clock time when the renderer receives a sample.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#PrepareRender">PrepareRender</A>
 </TD><TD>Allows derived classes to set themselves just before a sample is rendered.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#Receive">Receive</A>
 </TD><TD>Called by the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_S.htm#source_filter')">source filter</A> when a sample is available to render.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#Render">Render</A>
 </TD><TD>Asks the derived class to render the sample.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#ResetEndOfStream">ResetEndOfStream</A>
 </TD><TD>Resets the end-of-stream flag.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#Run">Run</A>
 </TD><TD>Transitions the renderer to State_Running if it is not already in this
state.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#SendEndOfStream">SendEndOfStream</A>
 </TD><TD>Sets the end-of-stream flag.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#SetMediaType">SetMediaType</A>
 </TD><TD>Informs the derived class of the selected media type.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#ShouldDrawSampleNow">ShouldDrawSampleNow</A>
 </TD><TD>Determines if the sample should be drawn between the start and stop times given.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#SourceThreadCanWait">SourceThreadCanWait</A>
 </TD><TD>Sets or resets the thread event.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#StartStreaming">StartStreaming</A>
 </TD><TD>Called to schedule any pending sample with the clock, and to display any timing information.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#Stop">Stop</A>
 </TD><TD>Tells the renderer to transition to the new (stopped) state.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#StopStreaming">StopStreaming</A>
 </TD><TD>Sets an internal flag to indicate not to schedule arrival of any more samples.
</TD></TR><TR><TD><A HREF="CBaseRenderer.htm#WaitForRenderTime">WaitForRenderTime</A>
 </TD><TD>Waits for either the time to arrive or for rendering to be stopped.
</TD></TR></TABLE>
<P CLASS="ref"><A NAME="Implemented_IMediaFi"></A>Implemented IMediaFilter Methods</P>
<TABLE><TR><TD><A HREF="CBaseRenderer.htm#GetState">GetState</A>
 </TD><TD>Determines the state of the renderer.
</TD></TR></TABLE>
<P CLASS="ref"><A NAME="Implemented_IBaseFil"></A>Implemented IBaseFilter Methods</P>
<TABLE><TR><TD><A HREF="CBaseRenderer.htm#FindPin">FindPin</A>
 </TD><TD>Retrieves a pointer to the pin with the specified identifier. (There is only one pin.)
</TD></TR></TABLE>
<P CLASS="ref"><A NAME="Helper_Function"></A>Helper Function</P>
<TABLE><TR><TD><A HREF="CBaseRenderer.htm#WaitForReceiveToComplete">WaitForReceiveToComplete</A>
 </TD><TD>Waits for the <A HREF="CBaseRenderer.htm#Receive">CBaseRenderer::Receive</A> method to complete.
</TD></TR></TABLE>


<H1><A NAME="Active">CBaseRenderer::Active</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Called when the state is switched to paused or running.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>Active</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value. Returns NOERROR by default.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function does nothing by default. Derived classes can
optionally override this member function to add functionality.
</BLOCKQUOTE>


<H1><A NAME="BeginFlush">CBaseRenderer::BeginFlush</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Informs the renderer that flushing has started.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>BeginFlush</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called by <A HREF="CRendererInputPin.htm#BeginFlush">CRendererInputPin::BeginFlush</A>
when informed of a flush from the upstream filter. It releases the source
thread and signals the start of flushing on the input pin. Any samples received 
by the renderer when it is in a flushing state will be rejected.
</BLOCKQUOTE>


<H1><A NAME="BreakConnect">CBaseRenderer::BreakConnect</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Called when a connection is broken.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>BreakConnect</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function resets the end-of-stream flag and
checks for a valid connection, or that the filter is in a stopped state.
Override to customize.
</BLOCKQUOTE>


<H1><A NAME="CancelNotification">CBaseRenderer::CancelNotification</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Cancels any currently scheduled notification.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>CancelNotification</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called when the renderer is told to stop streaming. If there is no
timer link outstanding, calling this member function does nothing;
otherwise, this function stops the advise link and resets the render event. The normal process
when running is to receive a sample, wait until it is time to render it and then render it. The
clock is given an event to signal when the desired time arrives.
</BLOCKQUOTE>


<H1><A NAME="CBaseRenderer_CBaseRenderer">CBaseRenderer::CBaseRenderer</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Constructs a <A HREF="CBaseRenderer.htm">CBaseRenderer</A> object.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>CBaseRenderer</B><B>(</B><BR>&nbsp;&nbsp;<B>REFCLSID</B> <I>RenderClass</I><B>,</B><BR>&nbsp;&nbsp;<B>TCHAR</B> <I>*pName</I><B>,</B><BR>&nbsp;&nbsp;<B>LPUNKNOWN</B> <I>pUnk</I><B>,</B><BR>&nbsp;&nbsp;<B>HRESULT</B> <I>*phr</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>RenderClass</I>
</DT><DD>Class identifier for this renderer.
</DD><DT><I>pName</I>
</DT><DD>Name used for debugging purposes.
</DD><DT><I>pUnk</I>
</DT><DD>Owner object.
</DD><DT><I>phr</I>
</DT><DD>Pointer to the <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> return code.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>


<H1><A NAME="CheckMediaType">CBaseRenderer::CheckMediaType</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Determines if the renderer will accept a given media type.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>CheckMediaType</B><B>(</B><BR>&nbsp;&nbsp;<B>const</B> <B>CMediaType</B> <B>*</B> <I>pmt</I><BR>&nbsp;&nbsp;<B>)</B> <B>PURE;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pmt</I>
</DT><DD>Pointer to a media type object that contains the proposed media type.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function must be overridden and implemented, typically to
return the media type of the display. It is called from the
<A HREF="CRendererInputPin.htm#CheckMediaType">CRendererInputPin::CheckMediaType</A> member function during the connection process.
</BLOCKQUOTE>


<H1><A NAME="CheckReady">CBaseRenderer::CheckReady</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Determines if the renderer is ready to process the next sample.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>BOOL</B> <B>CheckReady</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns TRUE if the <A HREF="CBaseRenderer.htm#m_evComplete">m_evComplete</A> event is currently set, but does not block.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function calls the <A HREF="CAMEvent.htm#Check">CAMEvent::Check</A> member function. This
is mainly used in transitioning to paused states. When a renderer is paused, it
should not complete the state change until it has received some data. So although
the call to <A HREF="../iface/IMediaFilter.htm#Pause">IMediaFilter::Pause</A> completes immediately, if the application
calls <A HREF="../iface/IMediaFilter.htm#GetState">IMediaFilter::GetState</A> it will return VFW_S_STATE_INTERMEDIATE. When a
sample arrives at the renderer, the event that is initially reset during the
pause call will be signaled. At this point, an application calling <B>IMediaFilter::GetState</B>
will return NOERROR. This process allows an application to pause a filter graph and
then wait until data is actually queued and ready to be rendered.
</BLOCKQUOTE>


<H1><A NAME="ClearPendingSample">CBaseRenderer::ClearPendingSample</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Called to clear the pending sample when in a stopped or inactivated state.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>ClearPendingSample</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function releases the <A HREF="../iface/IMediaSample.htm">IMediaSample</A> interface.
This allows the allocator to reuse it and allocate it to the upstream filter again.
If the state is being changed to inactive, <A HREF="../iface/IMemAllocator.htm#GetBuffer">IMemAllocator::GetBuffer</A> will
return an error. This function also resets the current
media sample to NULL to indicate that no data is now available.
</BLOCKQUOTE>


<H1><A NAME="CompleteConnect">CBaseRenderer::CompleteConnect</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Called as part of the connection protocol.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>CompleteConnect</B><B>(</B><BR>&nbsp;&nbsp;<B>IPin</B> <I>*pReceivePin</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pReceivePin</I>
</DT><DD>Connecting pin.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value (NOERROR by default).


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function calls the <A HREF="CBaseRenderer.htm#SetRepaintStatus">SetRepaintStatus</A> member function
to set the <A HREF="CBaseRenderer.htm#m_bRepaintStatus">m_bRepaintStatus</A> data member to TRUE so that EC_REPAINT
notifications can be sent in the future. (To prevent
unnecessary EC_REPAINT notifications from being sent, <B>m_bRepaintStatus</B> is
set to FALSE when an end-of-stream notification arrives.)
</BLOCKQUOTE>


<H1><A NAME="CompleteStateChange">CBaseRenderer::CompleteStateChange</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Ensures that a sample is waiting before allowing a pause.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>CompleteStateChange</B><B>(</B><BR>&nbsp;&nbsp;<B>FILTER_STATE</B> <I>OldState</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>OldState</I>
</DT><DD>State prior to the transition.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns S_OK if the filter can be paused; otherwise, returns S_FALSE.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called from the <A HREF="CBaseRenderer.htm#Pause">CBaseRenderer::Pause</A> member
function. If the filter is being paused and there is no sample waiting, the transition is
not completed and the function returns S_FALSE until the first sample arrives.
However, if the <A HREF="CBaseRenderer.htm#m_bAbort">m_bAbort</A> flag has been set, all samples are rejected so there
is no point waiting for one. If a sample is available, this member function returns
NOERROR.
</BLOCKQUOTE>


<H1><A NAME="DisplayRendererState">CBaseRenderer::DisplayRendererState</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Displays the status of the video renderer. This function is available only in debug mode.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>void</B> <B>CBaseRenderer::DisplayRendererState</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>Use this function to monitor the activity of the video renderer. The following is a sample output of this function.
<PRE>
Timed out in WaitForRenderTime
Signal sanity check 0
Filter state 1
Abort flag 0
Streaming flag 0
Clock advise link 0
Current media sample 0
EOS signalled 0
EOS delivered 0
Repaint status 1
End of stream timer 0
Deliver time 0x000000000
Flushing sanity check 0
Last run time 0x000000000
Clock time 0x22C2CD23430
Time difference 238875379ms
</PRE>
</BLOCKQUOTE>


<H1><A NAME="DoRenderSample">CBaseRenderer::DoRenderSample</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Called when a sample is ready to render.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>DoRenderSample</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pMediaSample</I><BR>&nbsp;&nbsp;<B>)</B> <B>PURE;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pMediaSample</I>
</DT><DD>Media sample.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function must be overridden in the derived class.
It is called by <A HREF="CBaseRenderer.htm#Render">CBaseRenderer::Render</A>.

<P>The derived class should render the object at this time. For example,
the sample video renderer (SAMPVID) calls its drawing object
(a <A HREF="CDrawImage.htm">CDrawImage</A> object):

<PRE>
// Have the drawing object render the current image.

HRESULT CVideoRenderer::DoRenderSample(IMediaSample *pMediaSample)
{
    return m_DrawImage.DrawImage(pMediaSample);
}
</PRE>
</BLOCKQUOTE>


<H1><A NAME="EndFlush">CBaseRenderer::EndFlush</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Called when the input pin receives an end-flush notification.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>EndFlush</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called from the <A HREF="CRendererInputPin.htm#EndFlush">CRendererInputPin::EndFlush</A>
member function. It calls <A HREF="CBaseRenderer.htm#SourceThreadCanWait">CBaseRenderer::SourceThreadCanWait</A>
with a TRUE value to allow the upstream filter's thread to wait in
<A HREF="CBaseRenderer.htm#Receive">CBaseRenderer::Receive</A> again.
</BLOCKQUOTE>


<H1><A NAME="EndOfStream">CBaseRenderer::EndOfStream</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Called when the input pin receives an end-of-stream notification.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>EndOfStream</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>If all received samples have been rendered, this member function notifies EC_COMPLETE.
If samples have been received and not yet rendered, this function sets <A HREF="CBaseRenderer.htm#m_bEOS">m_bEOS</A> and checks
for it on completing samples. If the filter is waiting to be paused, this function completes the
transition to paused state by setting the state event.
</BLOCKQUOTE>


<H1><A NAME="FindPin">CBaseRenderer::FindPin</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Retrieves a pointer to the pin with the specified identifier.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>FindPin</B><B>(</B><BR>&nbsp;&nbsp;<B>LPCWSTR</B> <I>Id</I><B>,</B><BR>&nbsp;&nbsp;<B>IPin</B> <I>**ppPin</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>Id</I>
</DT><DD>Identifier of the pin.
</DD><DT><I>ppPin</I>
</DT><DD>Pointer to the <A HREF="../iface/IPin.htm">IPin</A> interface for this pin after the renderer has been restored.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR if successful; otherwise, returns VFW_E_NOT_FOUND.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IBaseFilter.htm#FindPin">IBaseFilter::FindPin</A> method.
It assumes that the default pin name is &quot;In&quot; and checks for this.
If the pin is found, its reference count is incremented.
The <I>ppPin</I> parameter is set to NULL if the identifier cannot be matched.
</BLOCKQUOTE>


<H1><A NAME="GetCurrentSample">CBaseRenderer::GetCurrentSample</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Retrieves the current sample waiting at the video renderer, or NULL if there is not one.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>IMediaSample</B> <B>*GetCurrentSample</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns a pointer to the sample.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The reference count for the sample is incremented before returning. This
is so that if the sample comes due for rendering, it is not added back to the
allocator free list until the caller of this member function releases it.
</BLOCKQUOTE>


<H1><A NAME="GetMediaPositionInterface">CBaseRenderer::GetMediaPositionInterface</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Retrieves <A HREF="../iface/IMediaPosition.htm">IMediaPosition</A> and <A HREF="../iface/IMediaSeeking.htm">IMediaSeeking</A> interfaces for the video renderer.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>GetMediaPositionInterface</B><B>(</B><BR>&nbsp;&nbsp;<B>REFIID</B> <I>riid</I><B>,</B><BR>&nbsp;&nbsp;<B>void</B> <I>**ppv</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>riid</I>
 </DT><DD>Reference identifier.
</DD><DT><I>ppv</I>
 </DT><DD>Pointer to the interface.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>A <A HREF="CRendererPosPassThru.htm">CRendererPosPassThru</A> helper object is created dynamically when this is called
to support passing the <A HREF="../iface/IMediaPosition.htm">IMediaPosition</A> or <A HREF="../iface/IMediaSeeking.htm">IMediaSeeking</A> interface
calls from the filter graph manager to the upstream filter.
</BLOCKQUOTE>


<H1><A NAME="GetPin">CBaseRenderer::GetPin</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Returns a <A HREF="CBasePin.htm">CBasePin</A> object on the renderer.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>CBasePin</B> <B>*GetPin</B><B>(</B><BR>&nbsp;&nbsp;<B>int</B> <I>n</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>n</I>
</DT><DD>Number of the specified pin, which is always zero in the case of the renderer.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns a pointer to the pin specified by the <I>n</I> parameter.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides <A HREF="CBaseFilter.htm#GetPin">CBaseFilter::GetPin</A>.
Only one pin is supported on the renderer; it is numbered zero.

A call to this member function with <I>n</I> equal to zero will result in an
input pin of type <A HREF="CRendererInputPin.htm">CRendererInputPin</A> being returned. It will be
created if it does not yet exist.
</BLOCKQUOTE>


<H1><A NAME="GetPinCount">CBaseRenderer::GetPinCount</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Retrieves the number of input pins supported.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>int</B> <B>GetPinCount</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>The default implementation returns one, since only one pin is supported. Override to
support more than one pin. Because the base renderer class is specifically designed for
single-pin operation, considerably more of the base class functionality would have to be
changed to make a multipin renderer.
Future versions of the SDK might provide this functionality.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides <A HREF="CBaseFilter.htm#GetPinCount">CBaseFilter::GetPinCount</A>.
</BLOCKQUOTE>


<H1><A NAME="GetRealState">CBaseRenderer::GetRealState</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Retrieves the actual state of the renderer.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>FILTER_STATE</B> <B>GetRealState</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns <A HREF="CBaseFilter.htm#CBaseFilter::m_State">m_State</A>, the state flag for the renderer.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function provides an internal way of getting the real state.
Calling through the <A HREF="../iface/IBaseFilter.htm">IBaseFilter</A> interface to get the state would require the
main filter critical section to be taken; this internal method does not do this.
</BLOCKQUOTE>


<H1><A NAME="GetRenderEvent">CBaseRenderer::GetRenderEvent</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Retrieves the event to render.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>CAMEvent</B> <B>*GetRenderEvent</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns the value of <A HREF="CBaseRenderer.htm#m_RenderEvent">m_RenderEvent</A>.
</BLOCKQUOTE>


<H1><A NAME="GetSampleTimes">CBaseRenderer::GetSampleTimes</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Retrieves sample time information for this sample.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>GetSampleTimes</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pMediaSample</I><B>,</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <I>*pStartTime</I><B>,</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <I>*pEndTime</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pMediaSample</I>
</DT><DD>Media sample.
</DD><DT><I>pStartTime</I>
</DT><DD>Start time.
</DD><DT><I>pEndTime</I>
</DT><DD>End time.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns S_FALSE if the sample should be scheduled according to the times specified
in the sample; returns S_OK to indicate that the sample should be rendered
immediately.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>Note that the sample times are passed in by reference, not value.
</BLOCKQUOTE>


<H1><A NAME="GetState">CBaseRenderer::GetState</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Determines the state of the renderer.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>GetState</B><B>(</B><BR>&nbsp;&nbsp;<B>DWORD</B> <I>dwMilliSecsTimeout</I><B>,</B><BR>&nbsp;&nbsp;<B>FILTER_STATE</B> <B>*</B> <I>State</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>dwMilliSecsTimeout</I>
</DT><DD>Duration of the time-out, in milliseconds.
</DD><DT><I>State</I>
</DT><DD>Returned state of the renderer.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value. Returns <A HREF="../Error_Success_Codes.htm#VFW_S_STATE_INTERMED">VFW_S_STATE_INTERMEDIATE</A> if
paused and waiting for a sample; otherwise, returns NOERROR.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CBaseFilter.htm#GetState">CBaseFilter::GetState</A>
member function. It returns the value of <A HREF="CBaseFilter.htm#CBaseFilter::m_State">m_State</A>.
Because the renderer does not complete the full transition to the paused
state until it has a sample to render, if the state is requested while it
is waiting for a sample, it will return <A HREF="../Error_Success_Codes.htm#VFW_S_STATE_INTERMED">VFW_S_STATE_INTERMEDIATE</A> along with
the state.
</BLOCKQUOTE>

<H1><A NAME="HaveCurrentSample">CBaseRenderer::HaveCurrentSample</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Determines if a sample is waiting at the renderer.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>BOOL</B> <B>HaveCurrentSample</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns TRUE if a sample is ready to be rendered, or FALSE if no data is available.

</BLOCKQUOTE>

<H1><A NAME="Inactive">CBaseRenderer::Inactive</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Called when going into a stopped state.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>Inactive</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR by default; overriding member function should return
a valid <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is a placeholder that derived classes can
optionally override to add functionality when the filter is stopped.
</BLOCKQUOTE>

<H1><A NAME="IsEndOfStream">CBaseRenderer::IsEndOfStream</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Determines if the end of the stream has been reached.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>BOOL</B> <B>IsEndOfStream</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns TRUE if the stream's end has been reached, or FALSE if it hasn't.



</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The default implementation returns <A HREF="CBaseRenderer.htm#m_bEOS">m_bEOS</A>.
</BLOCKQUOTE>

<H1><A NAME="IsEndOfStreamDelivered">CBaseRenderer::IsEndOfStreamDelivered</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Determines if the end of the stream has been delivered to the filter graph manager.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>BOOL</B> <B>IsEndOfStreamDelivered</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns TRUE if the stream's end has been delivered, or FALSE if it hasn't.



</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The default implementation returns <A HREF="CBaseRenderer.htm#CBaseRenderer::m_bEOSDelivered">m_bEOSDelivered</A>.
This is used by the base renderer class so that only one <A HREF="../Event_Notification_Codes.htm#EC_COMPLETE">EC_COMPLETE</A> message is sent to the filter graph
manager each time it is run, regardless of the number of times <A HREF="../iface/IPin.htm#EndOfStream">EndOfStream</A> is called.
</BLOCKQUOTE>

<H1><A NAME="IsStreaming">CBaseRenderer::IsStreaming</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Determines if the filter is streaming data.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>BOOL</B> <B>IsStreaming</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns TRUE if the renderer is rendering, or FALSE if it isn't.




</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The default implementation returns <A HREF="CBaseRenderer.htm#m_bStreaming">m_bStreaming</A>. In the base renderer class, "streaming" and "rendering" are used in the same context as &quot;running&quot;.
</BLOCKQUOTE>

<H1><A NAME="NonDelegatingQueryInterface">CBaseRenderer::NonDelegatingQueryInterface</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Retrieves an interface and increments the reference count.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>NonDelegatingQueryInterface</B><B>(</B><BR>&nbsp;&nbsp;<B>REFIID</B> <I>riid</I><B>,</B><BR>&nbsp;&nbsp;<B>void</B> <B>**</B> <I>ppv</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>riid</I>
 </DT><DD>Reference identifier.
</DD><DT><I>ppv</I>
 </DT><DD>Pointer to the interface.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns E_POINTER if <I>ppv</I> is invalid. Returns NOERROR if the query is successful or E_NOINTERFACE if it is not. 

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides <A HREF="CBaseFilter.htm#NonDelegatingQueryInterface">CBaseFilter::NonDelegatingQueryInterface</A>. It exposes the <A HREF="../iface/IMediaPosition.htm">IMediaPosition</A> and <A HREF="../iface/IMediaSeeking.htm">IMediaSeeking</A> interfaces and then calls <B>CBaseFilter::NonDelegatingQueryInterface</B> for interfaces implemented in the base classes.
</BLOCKQUOTE>

<H1><A NAME="NotReady">CBaseRenderer::NotReady</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Forces the <A HREF="CBaseRenderer.htm#m_evComplete">m_evComplete</A> event into a nonsignaled state.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>void</B> <B>NotReady</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function calls the <A HREF="CAMEvent.htm#Reset">CAMEvent::Reset</A> member function of the <A HREF="CBaseRenderer.htm#m_evComplete">m_evComplete</A> event object.
</BLOCKQUOTE>

<H1><A NAME="NotifyEndOfStream">CBaseRenderer::NotifyEndOfStream</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Sends an <A HREF="../Event_Notification_Codes.htm#EC_COMPLETE">EC_COMPLETE</A> event to the filter graph manager.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>void</B> <B>NotifyEndOfStream</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<H1><A NAME="OnReceiveFirstSample">CBaseRenderer::OnReceiveFirstSample</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Provides derived classes with an opportunity to render static data.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>void</B> <B>OnReceiveFirstSample</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pMediaSample</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pMediaSample</I>
</DT><DD>Media sample.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is unimplemented. It is primarily used by video renderers. When they receive their first sample while paused, they typically draw the frame as a poster image. This virtual method is called by the base classes when the first sample arrives.
</BLOCKQUOTE>

<H1><A NAME="OnRenderEnd">CBaseRenderer::OnRenderEnd</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Notifies the derived class that rendering has finished.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>void</B> <B>OnRenderEnd</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pMediaSample</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pMediaSample</I>
</DT><DD>Media sample.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is available for quality management and performance measuring. It is called immediately after the sample is rendered.

<P>Quality management implementations typically need to know how long it takes the renderer to render the data.

</BLOCKQUOTE>

<H1><A NAME="OnRenderStart">CBaseRenderer::OnRenderStart</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Notifies the derived class that rendering is about to start.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>void</B> <B>OnRenderStart</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pMediaSample</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pMediaSample</I>
</DT><DD>Media sample.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is available for quality management and
performance measuring. It is called immediately before the sample is rendered.

<P>Quality management implementations
typically need to know how long it takes the renderer to render the data.
</BLOCKQUOTE>

<H1><A NAME="OnStartStreaming">CBaseRenderer::OnStartStreaming</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Notifies the derived class that streaming has started.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>OnStartStreaming</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR in the default implementation.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called from <A HREF="CBaseRenderer.htm#StartStreaming">CBaseRenderer::StartStreaming</A>.
Override this in your derived class to provide special handling when streaming
starts.
</BLOCKQUOTE>

<H1><A NAME="OnStopStreaming">CBaseRenderer::OnStopStreaming</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Notifies the derived class that streaming has stopped.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>OnStopStreaming</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR in the default implementation.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called from <A HREF="CBaseRenderer.htm#StopStreaming">CBaseRenderer::StopStreaming</A>.
Override this in your derived class to provide special handling when streaming
stops.
</BLOCKQUOTE>

<H1><A NAME="OnWaitEnd">CBaseRenderer::OnWaitEnd</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Notifies the derived class that a wait for a rendering time has just ended.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>void</B> <B>OnWaitEnd</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is available for quality control and is called from
<A HREF="CBaseRenderer.htm#WaitForRenderTime">CBaseRenderer::WaitForRenderTime</A> just after waiting for the
<A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#presentation_time')">presentation time</A> for a sample. Override this
member function to obtain performance measurements in a derived class.
</BLOCKQUOTE>

<H1><A NAME="OnWaitStart">CBaseRenderer::OnWaitStart</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Notifies the derived class that a wait for a rendering time is about to start.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>void</B> <B>OnWaitStart</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is available for quality control and is called from
<A HREF="CBaseRenderer.htm#WaitForRenderTime">CBaseRenderer::WaitForRenderTime</A> just before waiting for the
presentation time for a sample. Override this
member function to obtain performance measurements in a derived class.
</BLOCKQUOTE>

<H1><A NAME="Pause">CBaseRenderer::Pause</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Changes the renderer to State_Paused if it isn't already.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>Pause</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The following steps comprise a pause operation.
<OL><LI>Commit the allocator used for the connection.
<LI>Allow the thread for the upstream filter to wait in <A HREF="../iface/IMemInputPin.htm#Receive">Receive</A>.
<LI>Cancel any outstanding clock advise links.
<LI>Check to see if the renderer is connected and allow a state change.
<LI>If a sample is available, complete the state change to State_Paused.
</OL>
<P>If the member function succeeds, DirectShow sets the filter's <A HREF="CBaseFilter.htm#CBaseFilter::m_State">m_State</A> member variable to State_Paused. If the renderer is in the State_Stopped state, DirectShow calls the <A HREF="CBasePin.htm#Active">CBasePin::Active</A> member function for each of the renderer's connected pins.

<P>This member function overrides <A HREF="CBaseFilter.htm#Pause">CBaseFilter::Pause</A>.
</BLOCKQUOTE>

<H1><A NAME="PrepareReceive">CBaseRenderer::PrepareReceive</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Ensures that a sample can be rendered.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>PrepareReceive</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pMediaSample</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pMediaSample</I>
</DT><DD>Media sample.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR if successful, VFW_E_SAMPLE_REJECTED if the delivered sample is later than the sample's timestamp, or E_UNEXPECTED if a renderable sample is already available.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called when the upstream filter delivers a sample. If the upstream filter is running (streaming), the sample is scheduled with the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_R.htm#reference_clock')">reference clock</A>. If the upstream filter is not streaming, a sample in paused mode has been received, so any state transition can be completed. On leaving this function, everything will be unlocked so an application thread can get in and change the state to stopped. In this case, it will also signal the thread event so that the wait call is stopped.

<P>This function is typically called from the <A HREF="../iface/IMemInputPin.htm#Receive">IMemInputPin::Receive</A> method on the renderer's input pin. Although <B>PrepareReceive</B> returns VFW_E_SAMPLE_REJECTED if the sample was delivered too late to be useful, the 
<B>IMemInputPin::Receive</B> method should not pass the VFW_E_SAMPLE_REJECTED error on to the upstream filter in this case. Instead, <B>IMemInputPin::Receive</B> should return NOERROR, because no error occurred. 

</BLOCKQUOTE>

<H1><A NAME="PrepareRender">CBaseRenderer::PrepareRender</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Provides an opportunity for the derived class to prepare itself for rendering a sample.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>void</B> <B>PrepareRender</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called from <A HREF="CBaseRenderer.htm#Receive">CBaseRenderer::Receive</A> before rendering each frame. A derived class can take this opportunity to prepare itself for rendering. For example, a video renderer might realize its palette. This is not implemented in the base class.
</BLOCKQUOTE>

<H1><A NAME="Ready">CBaseRenderer::Ready</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Puts the <A HREF="CBaseRenderer.htm#m_evComplete">m_evComplete</A> event into a signaled state.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>void</B> <B>Ready</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function calls the <A HREF="CBaseRenderer.htm#m_evComplete">m_evComplete</A> <A HREF="CAMEvent.htm">CAMEvent</A> object's
<A HREF="CAMEvent.htm#Set">Set</A> member function.
</BLOCKQUOTE>

<H1><A NAME="Receive">CBaseRenderer::Receive</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Called by the upstream filter when a sample is available to render.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>Receive</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pMediaSample</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pMediaSample</I>
 </DT><DD>Media sample.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function sets an advise link with the clock, waits for the time to arrive, and then renders the data by calling the pure virtual <A HREF="CBaseRenderer.htm#DoRenderSample">DoRenderSample</A> member function that the derived class will have overridden. After rendering the sample, the end of stream can also be signaled if it was the last one sent before <A HREF="CBaseRenderer.htm#EndOfStream">EndOfStream</A> was called.
</BLOCKQUOTE>

<H1><A NAME="Render">CBaseRenderer::Render</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Asks the derived class to render the sample.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>Render</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pMediaSample</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pMediaSample</I>
 </DT><DD>Media sample.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called when the derived class should render the sample.
The action taken is dependent on the nature of the renderer; a video
renderer will typically draw the image in a window. This class calls the pure
virtual <A HREF="CBaseRenderer.htm#DoRenderSample">DoRenderSample</A> to be implemented by the derived class.
</BLOCKQUOTE>

<H1><A NAME="ResetEndOfStream">CBaseRenderer::ResetEndOfStream</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Resets the end-of-stream flag.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>ResetEndOfStream</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is typically called when changing to stopped states.
A renderer must keep track of when it gets told that no more data is going
to arrive (this is done when the sourcing filter calls <A HREF="../iface/IPin.htm#EndOfStream">IPin::EndOfStream</A>).
At this point the renderer finishes rendering any data it has and then
sends an EC_COMPLETE event to the filter graph manager.

<P>However, when the filter is stopped, the whole state is cleared. When the
filter is subsequently run, the source filter will signal the
end of stream again if it has no data to send. In this case, the renderer
should signal another EC_COMPLETE event to the filter graph manager. This member function
resets the state so that when next requested it will send an EC_COMPLETE event.
</BLOCKQUOTE>

<H1><A NAME="ResetEndOfStream">CBaseRenderer::ResetEndOfStreamTimer</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>If the end-of-stream timer is nonzero, this function sets it to zero.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>void</B> <B>ResetEndOfStreamTimer</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<H1><A NAME="Run">CBaseRenderer::Run</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Transitions the renderer to State_Running if it is not in this state already.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>Run</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>If the renderer is in the State_Stopped state,
the <A HREF="CBaseRenderer.htm#Pause">CBaseRenderer::Pause</A> member function is called first to transition the renderer to the
State_Paused state, which has the effect of activating any of the filter's connected pins. If this
member function succeeds, the renderer's <A HREF="CBaseFilter.htm#CBaseFilter::m_State">m_State</A> member
variable is set to State_Running.


<P>This member function overrides <A HREF="CBaseFilter.htm#Run">CBaseFilter::Run</A>.
</BLOCKQUOTE>

<H1><A NAME="ScheduleSample">CBaseRenderer::ScheduleSample</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Schedules the sample for rendering.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>BOOL</B> <B>ScheduleSample</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pMediaSample</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pMediaSample</I>
</DT><DD>Media sample.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>One of the main purposes of the renderer base class is to manage the timing and synchronization of the samples it is sent; that is,
the timely presentation of data. It also must look after quality management, which might involve dropping samples or rendering them earlier than indicated in the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_T.htm#time_stamp')">time stamps</A> on the sample. This method and its overrides in derived classes manage the setting up of advise links with the clock, so that the samples can be rendered at the appropriate time.
</BLOCKQUOTE>

<H1><A NAME="SendEndOfStream">CBaseRenderer::SendEndOfStream</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Signals an EC_COMPLETE event to the filter graph manager.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>SendEndOfStream</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>When the renderer receives an end-of-stream notification, it will finish rendering
any data it currently has and then send an EC_COMPLETE event to the filter graph
manager.
</BLOCKQUOTE>

<H1><A NAME="SendNotifyWindow">CBaseRenderer::SendNotifyWindow</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Passes the notification window handle to the upstream filter. 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>void</B> <B>SendNotifyWindow</B><B>(</B><BR>&nbsp;&nbsp;<B>IPin</B> <I>*pPin</I><B>,</B><BR>&nbsp;&nbsp;<B>HWND</B> <I>hwnd</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pPin</I>
 </DT><DD><A HREF="../iface/IPin.htm">IPin</A> interface of the upstream pin.
</DD><DT><I>hwnd</I>
 </DT><DD>Handle of the notification window.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>If the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_O.htm#output_pin')">output pin</A> of the upstream filter supports the <A HREF="../iface/IMediaEventSink.htm">IMediaEventSink</A> interface, 
this member function sends it the EC_NOTIFY_WINDOW event code with the window handle
in <I>hwnd</I>. 
</BLOCKQUOTE>

<H1><A NAME="SendRepaint">CBaseRenderer::SendRepaint</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Signals an <A HREF="../Event_Notification_Codes.htm#EC_REPAINT">EC_REPAINT</A> message to the filter graph.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>void</B> <B>SendRepaint</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This should be used with some care. <A HREF="../Event_Notification_Codes.htm#EC_REPAINT">EC_REPAINT</A> events are processed by the filter
graph manager by setting the current position to the same position that the graph is
currently in. This has the effect of sending the same data through the graph again,
which is an expensive operation. Video renderers are the main users of this event, because
they sometimes need the same image sent again to refresh the display.
</BLOCKQUOTE>

<H1><A NAME="SetAbortSignal">CBaseRenderer::SetAbortSignal</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Sets the <A HREF="CBaseRenderer.htm#m_bAbort">m_bAbort</A> abort signal flag.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>void</B> <B>SetAbortSignal</B><B>(</B><BR>&nbsp;&nbsp;<B>BOOL</B> <I>bAbort</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>bAbort</I>
</DT><DD>Abort value to be set.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<H1><A NAME="SetMediaType">CBaseRenderer::SetMediaType</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Informs the derived class of the selected media type.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>SetMediaType</B><B>(</B><BR>&nbsp;&nbsp;<B>const</B> <B>CMediaType</B> <I>*pmt</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pmt</I>
</DT><DD>Media type to be set.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR by default; the overriding member function should return
a valid <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called by the <A HREF="CRendererInputPin.htm#SetMediaType">CRendererInputPin::SetMediaType</A>
member function and has no implementation in this class. Derived classes can
optionally override to add functionality.
</BLOCKQUOTE>

<H1><A NAME="SetRepaintStatus">CBaseRenderer::SetRepaintStatus</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Resets the <A HREF="CBaseRenderer.htm#m_bRepaintStatus">m_bRepaintStatus</A> flag when <A HREF="../Event_Notification_Codes.htm#EC_REPAINT">EC_REPAINT</A> has been signaled to the filter graph.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>void</B> <B>SetRepaintStatus</B><B>(</B><BR>&nbsp;&nbsp;<B>BOOL</B> <I>bRepaint</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>bRepaint</I>
 </DT><DD>Boolean value assigned to the <A HREF="CBaseRenderer.htm#m_bRepaintStatus">m_bRepaintStatus</A> flag.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The <A HREF="CBaseRenderer.htm#m_bRepaintStatus">m_bRepaintStatus</A> flag ensures that the filter graph
is not flooded with redundant calls. Once one <A HREF="../Event_Notification_Codes.htm#EC_REPAINT">EC_REPAINT</A> message has been
sent, no more will be sent until the renderer receives some data.
</BLOCKQUOTE>

<H1><A NAME="ShouldDrawSampleNow">CBaseRenderer::ShouldDrawSampleNow</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Determines if the sample should be drawn between the start and stop times given.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>ShouldDrawSampleNow</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pMediaSample</I><B>,</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <I>*pStartTime</I><B>,</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <I>*pEndTime</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pMediaSample</I>
 </DT><DD>Media sample.
</DD><DT><I>pStartTime</I>
 </DT><DD>Start time in question.
</DD><DT><I>pEndTime</I>
 </DT><DD>End time in question.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns S_FALSE by default. The overriding member function can return S_OK
to indicate that the sample should be drawn immediately instead of waiting for its
scheduled time.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is used by the derived video renderer class for quality management.
</BLOCKQUOTE>

<H1><A NAME="SignalTimerFired">CBaseRenderer::SignalTimerFired</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Resets the current advise time to zero after a timer fires.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>void</B> <B>SignalTimerFired</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<H1><A NAME="SourceThreadCanWait">CBaseRenderer::SourceThreadCanWait</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Sets or resets the thread event.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>SourceThreadCanWait</B><B>(</B><BR>&nbsp;&nbsp;<B>BOOL</B> <I>bCanWait</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>bCanWait</I>
 </DT><DD>TRUE or FALSE, depending on intent.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>In some states, such as paused or running, it is expected that the
upstream filter's thread will be blocked in the call to the renderer's input pin
<A HREF="../iface/IMemInputPin.htm#Receive">Receive</A> method. In other cases, such as when the
renderer is stopped, the upstream filter should not be required to wait.
This member function represents a manual
reset event that sets this TRUE to wait, or FALSE to keep the thread from waiting.
</BLOCKQUOTE>

<H1><A NAME="StartStreaming">CBaseRenderer::StartStreaming</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Called to schedule any pending sample with the clock, and to display
timing information.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>StartStreaming</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>If no sample is available but an end-of-stream flag is queued, this member function sends
an EC_COMPLETE message to the filter graph manager. If a sample is available, the 
EC_COMPLETE message will not be sent until it has been rendered.
</BLOCKQUOTE>

<H1><A NAME="Stop">CBaseRenderer::Stop</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Transitions the renderer to State_Stopped if it is not in this state already.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>Stop</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>If the renderer is not in the State_Stopped
state, the <A HREF="CRendererInputPin.htm#Inactive">CRendererInputPin::Inactive</A> member function is called for each of the renderer's
connected pins.
If this member function succeeds, the filter's <A HREF="CBaseFilter.htm#CBaseFilter::m_State">m_State</A> member variable is set to
State_Stopped.

<P>This member function overrides <A HREF="CBaseFilter.htm#Stop">CBaseFilter::Stop</A>.
</BLOCKQUOTE>

<H1><A NAME="StopStreaming">CBaseRenderer::StopStreaming</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Sets the internal flag to indicate not to schedule arrival of any more samples.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>StopStreaming</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>Call this member function when streaming stops. The state change methods in the filter
implementation take care of canceling any clock advise link that has been set up and
clearing any pending sample.
</BLOCKQUOTE>

<H1><A NAME="TimerCallback">CBaseRenderer::TimerCallback</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Checks if it is time to signal the end of the current data stream.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>void</B> <B>TimerCallback</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>If the <A HREF="CBaseRenderer.htm#m_EndOfStreamTimer">m_EndOfStreamTimer</A> data member is nonzero, this function sets it to zero and calls <A HREF="CBaseRenderer.htm#SendEndOfStream">CBaseRenderer::SendEndOfStream</A> to signal the end of the current data stream.

</BLOCKQUOTE>

<H1><A NAME="WaitForReceiveToComplete">CBaseRenderer::WaitForReceiveToComplete</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Waits for the <A HREF="CBaseRenderer.htm#Receive">CBaseRenderer::Receive</A> method to complete.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>void</B> <B>WaitForReceiveToComplete</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>Use this method when you wish to avoid deadlock which occurs when <A HREF="CBaseRenderer.htm#Stop">CBaseRenderer::Stop</A> is called and the <A HREF="CBaseRenderer.htm#Receive">CBaseRenderer::Receive</A> hasn't completed. 

</BLOCKQUOTE>

<H1><A NAME="WaitForRenderTime">CBaseRenderer::WaitForRenderTime</A><HR size=1></H1>
<A HREF="CBaseRenderer.htm">CBaseRenderer Class</A>
<P>Waits for either the due time for the current sample to arrive or for rendering to be stopped.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>WaitForRenderTime</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The member function is virtual because derived classes might have more events that they
also want to wait on, which might interrupt the waiting process. The base class
has two events: <A HREF="CBaseRenderer.htm#m_RenderEvent">m_RenderEvent</A> and <A HREF="CBaseRenderer.htm#CBaseRenderer::m_ThreadSignal">m_ThreadSignal</A>.
The former is signaled by the clock when the sample is due for rendering.
The latter is signaled by the filter when it should
give up waiting and abort (making the assumption that the filter was stopped).

</BLOCKQUOTE>
<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A Class="line" HREF="../../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
