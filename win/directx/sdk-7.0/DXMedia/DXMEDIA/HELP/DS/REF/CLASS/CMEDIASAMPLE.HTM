<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>CMediaSample Class</TITLE>
<SCRIPT> var sRelPath = '../../' </SCRIPT>


<META NAME="Description" CONTENT="CMediaSample Class">
<META NAME="Description" CONTENT="AddRef (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::AddRef">
<META NAME="Description" CONTENT="CMediaSample (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::CMediaSample">
<META NAME="Description" CONTENT="GetActualDataLength (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::GetActualDataLength">
<META NAME="Description" CONTENT="GetMediaTime (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::GetMediaTime">
<META NAME="Description" CONTENT="GetMediaType (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::GetMediaType">
<META NAME="Description" CONTENT="GetPointer (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::GetPointer">
<META NAME="Description" CONTENT="GetSize (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::GetSize">
<META NAME="Description" CONTENT="GetTime (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::GetTime">
<META NAME="Description" CONTENT="IsDiscontinuity (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::IsDiscontinuity">
<META NAME="Description" CONTENT="IsPreroll (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::IsPreroll">
<META NAME="Description" CONTENT="IsSyncPoint (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::IsSyncPoint">
<META NAME="Description" CONTENT="NonDelegatingQueryInterface (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::NonDelegatingQueryInterface">
<META NAME="Description" CONTENT="QueryInterface (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::QueryInterface">
<META NAME="Description" CONTENT="Release (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::Release">
<META NAME="Description" CONTENT="SetActualDataLength (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::SetActualDataLength">
<META NAME="Description" CONTENT="SetDiscontinuity (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::SetDiscontinuity">
<META NAME="Description" CONTENT="SetMediaTime (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::SetMediaTime">
<META NAME="Description" CONTENT="SetMediaType (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::SetMediaType">
<META NAME="Description" CONTENT="SetPointer (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::SetPointer">
<META NAME="Description" CONTENT="SetPreroll (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::SetPreroll">
<META NAME="Description" CONTENT="SetSyncPoint (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::SetSyncPoint">
<META NAME="Description" CONTENT="SetTime (CMediaSample)">
<META NAME="Description" CONTENT="CMediaSample::SetTime">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../../ver.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="CMediaSample"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CMediaSample Class"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CMediaSample Class"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../../contents.htm">Contents</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../../index.htm">Index</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="Classes_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="CMediaPosition.htm">CMediaPosition Class</A>
<IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="CMediaType.htm">CMediaType Class</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">


<!-- CONTENTS_START -->

<H1>CMediaSample Class</H1>

<P><IMG SRC="../../art/filter08.gif" WIDTH="195" HEIGHT="52" ALT="CMediaSample class hierarchy">

<P>This class represents a buffer object that supports the <A HREF="../iface/IMediaSample.htm">IMediaSample</A> interface. It represents a buffer in memory, together with some associated properties stored as protected data members.

<P>The constructor is passed as a pointer to the buffer with its length in bytes; other properties are
normally set and accessed through implemented <A HREF="../iface/IMediaSample.htm">IMediaSample</A> interface methods. These
properties describe various attributes of the media sample, such as the sample's media type, 
start and end time, and options. The options can include whether the media sample is a sync point, 
a <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#preroll')">preroll</A> sample, or discontinuous with other samples.

<P>All member functions in this class that return <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> and accept a pointer as a 
parameter return E_POINTER when passed a null pointer. 


<A NAME="Protected_Data_Membe"></A><P CLASS="ref">Protected Data Members</P>
<TABLE><TR><TD><B><A NAME="CMediaSample::m_cbBuffer">m_cbBuffer</A></B> </TD><TD>Size of the buffer.
</TD></TR><TR><TD><B><A NAME="CMediaSample::m_dwFlags">m_dwFlags</A></B>
 </TD><TD>Sample property flags as follows:
 </TD></TR><TR><TD></TD><TD>Sample_Discontinuity: Set if start of a new segment. 
 </TD></TR><TR><TD></TD><TD>Sample_MediaTimeValid: Set if the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_M.htm#media_time')">media time</A> is valid.
 </TD></TR><TR><TD></TD><TD>Sample_Preroll: Set if sample is a preroll sample.
 </TD></TR><TR><TD></TD><TD>Sample_StopValid: Set if the stop time is valid.
 </TD></TR><TR><TD></TD><TD>Sample_SyncPoint: Set if sample is a synchronization point.
 </TD></TR><TR><TD></TD><TD>Sample_TimeValid: Set if the time is valid.
 </TD></TR><TR><TD></TD><TD>Sample_TypeChanged: Set if the type has changed.
</TD></TR><TR><TD><B><A NAME="CMediaSample::m_End">m_End</A></B> </TD><TD>Sample end time.
</TD></TR><TR><TD><B><A NAME="CMediaSample::m_lActual">m_lActual</A></B>
 </TD><TD>Actual length of data in this sample.
</TD></TR><TR><TD><B><A NAME="CMediaSample::m_MediaEnd">m_MediaEnd</A></B> </TD><TD>Media end (offset from <A HREF="CMediaSample.htm#CMediaSample::m_MediaStart">m_MediaStart</A>).
</TD></TR><TR><TD><B><A NAME="CMediaSample::m_MediaStart">m_MediaStart</A></B> </TD><TD>Media start position.
</TD></TR><TR><TD><B><A NAME="CMediaSample::m_pAllocator">m_pAllocator</A></B>
 </TD><TD>Pointer to the <A HREF="../iface/IMemAllocator.htm">IMemAllocator</A> object associated with this object.
</TD></TR><TR><TD><B><A NAME="CMediaSample::m_pBuffer">m_pBuffer</A></B> </TD><TD>Pointer to the complete buffer.
</TD></TR><TR><TD><B><A NAME="CMediaSample::m_pMediaType">m_pMediaType</A></B>
 </TD><TD>Pointer to a structure containing the media type of the sample.
</TD></TR><TR><TD><B><A NAME="CMediaSample::m_pNext">m_pNext</A></B>
 </TD><TD>Pointer to the next <A HREF="CMediaSample.htm">CMediaSample</A> object in the free list.
</TD></TR><TR><TD><B><A NAME="CMediaSample::m_Start">m_Start</A></B> </TD><TD>Sample start time.
</TD></TR></TABLE>
<A NAME="Member_Functions"></A><P CLASS="ref">Member Functions</P>

<TABLE><TR><TD><A HREF="CMediaSample.htm#CMediaSample_CMediaSample">CMediaSample</A>
 </TD><TD>Constructs a <A HREF="CMediaSample.htm">CMediaSample</A> object.
</TD></TR><TR><TD><A HREF="CMediaSample.htm#SetPointer">SetPointer</A>
 </TD><TD>Sets the buffer pointer and length.
</TD></TR></TABLE>
<P CLASS="ref"><A NAME="Implemented_IUnknown"></A>Implemented IUnknown Methods</P>
<TABLE><TR><TD><A HREF="CMediaSample.htm#CMediaSample_QueryInterface">QueryInterface</A> 
 </TD><TD>Retrieves pointers to supported interfaces.
</TD></TR><TR><TD><A HREF="CMediaSample.htm#CMediaSample_AddRef">AddRef</A> 
 </TD><TD>Increments the reference count.
</TD></TR><TR><TD><A HREF="CMediaSample.htm#CMediaSample_Release">Release</A> 
 </TD><TD>Decrements the reference count.
</TD></TR></TABLE>
<P CLASS="ref"><A NAME="Implemented_IMediaSa"></A>Implemented IMediaSample Methods</P>
<TABLE><TR><TD><A HREF="CMediaSample.htm#GetActualDataLength">GetActualDataLength</A>
 </TD><TD>Retrieves the data length of the sample.

</TD></TR><TR><TD><A HREF="CMediaSample.htm#GetMediaTime">GetMediaTime</A>
 </TD><TD>Retrieves the media time extents of the sample.

</TD></TR><TR><TD><A HREF="CMediaSample.htm#GetMediaType">GetMediaType</A>
 </TD><TD>Retrieves the media type of the <A HREF="CMediaSample.htm">CMediaSample</A> object.

</TD></TR><TR><TD><A HREF="CMediaSample.htm#GetPointer">GetPointer</A>
 </TD><TD>Retrieves a read/write pointer to the memory of this buffer.

</TD></TR><TR><TD><A HREF="CMediaSample.htm#GetSize">GetSize</A>
 </TD><TD>Returns the size, in bytes, of the buffer data area.

</TD></TR><TR><TD><A HREF="CMediaSample.htm#GetTime">GetTime</A>
 </TD><TD>Sets the media time extents for this sample.

</TD></TR><TR><TD><A HREF="CMediaSample.htm#IsDiscontinuity">IsDiscontinuity</A>
 </TD><TD>Determines if there is discontinuity in the data stream.

</TD></TR><TR><TD><A HREF="CMediaSample.htm#IsPreroll">IsPreroll</A>
 </TD><TD>Indicates a preroll property. If TRUE, this sample is for preroll only and should not be displayed.

</TD></TR><TR><TD><A HREF="CMediaSample.htm#IsSyncPoint">IsSyncPoint</A>
 </TD><TD>Determines if the beginning of a sample is a synchronization point.

</TD></TR><TR><TD><A HREF="CMediaSample.htm#SetActualDataLength">SetActualDataLength</A>
 </TD><TD>Sets the data length of the sample.

</TD></TR><TR><TD><A HREF="CMediaSample.htm#SetDiscontinuity">SetDiscontinuity</A>
 </TD><TD>Sets the discontinuity property.

</TD></TR><TR><TD><A HREF="CMediaSample.htm#SetMediaTime">SetMediaTime</A>
 </TD><TD>Sets the media time of the <A HREF="CMediaSample.htm">CMediaSample</A> object.

</TD></TR><TR><TD><A HREF="CMediaSample.htm#SetMediaType">SetMediaType</A>
 </TD><TD>Sets the media type of the <A HREF="CMediaSample.htm">CMediaSample</A> object.

</TD></TR><TR><TD><A HREF="CMediaSample.htm#SetPreroll">SetPreroll</A>
 </TD><TD>Sets preroll property. If TRUE, this sample is for preroll only and should not be displayed.

</TD></TR><TR><TD><A HREF="CMediaSample.htm#SetSyncPoint">SetSyncPoint</A>
 </TD><TD>Sets sync-point property.

</TD></TR><TR><TD><A HREF="CMediaSample.htm#SetTime">SetTime</A>
 </TD><TD>Sets the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_S.htm#stream_time')">stream time</A> at which this sample should start and finish.
</TD></TR></TABLE>
<P CLASS="ref"><A NAME="Implemented_INonDele"></A>Implemented INonDelegatingUnknown Methods</P>

<TABLE><TR><TD><A HREF="CMediaSample.htm#NonDelegatingQueryInterface">NonDelegatingQueryInterface</A>
</TD><TD>Passes out pointers to any interfaces added to the derived <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_f.htm#filter')">filter</A> class.
</TD></TR></TABLE>



<H1><A NAME="CMediaSample_AddRef">CMediaSample::AddRef</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Increments the reference count for the calling interface on an object.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>ULONG</B> <B>AddRef</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an integer from 1 to <I>n</I>, the value of the new reference count.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IUnknown.htm#AddRef">IUnknown::AddRef</A> method.
</BLOCKQUOTE>


<H1><A NAME="CMediaSample_CMediaSample">CMediaSample::CMediaSample</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Constructs a <A HREF="CMediaSample.htm">CMediaSample</A> object.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>CMediaSample</B><B>(</B><BR>&nbsp;&nbsp;<B>TCHAR</B> <I>*pName</I><B>,</B><BR>&nbsp;&nbsp;<B>CBaseAllocator</B> <I>*pAllocator</I><B>,</B><BR>&nbsp;&nbsp;<B>HRESULT</B> <I>*phr</I><B>,</B><BR>&nbsp;&nbsp;<B>LPBYTE</B> <I>pBuffer</I> <B>=</B> <B>NULL</B><B>,</B><BR>&nbsp;&nbsp;<B>LONG</B> <I>length</I> <B>=</B> <B>0</B><BR>&nbsp;&nbsp;<B>)</B><B>;</B> 
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pName</I>
</DT><DD>Name of the media sample.
</DD><DT><I>pAllocator</I>
</DT><DD>Pointer to the <A HREF="CBaseAllocator.htm">CBaseAllocator</A> object used for memory allocation.
</DD><DT><I>phr</I>
</DT><DD>Pointer to the general COM return value. Note that this value is changed only if this function fails.
</DD><DT><I>pBuffer</I>
</DT><DD>Pointer to a memory buffer (to be allocated by the <I>pAllocator</I> parameter).
</DD><DT><I>length</I>
</DT><DD>Length of the allocated memory buffer.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The constructor creates an object with the buffer and buffer length set to that of the <A HREF="CBaseAllocator.htm">CBaseAllocator</A> object to which it points.
</BLOCKQUOTE>


<H1><A NAME="GetActualDataLength">CMediaSample::GetActualDataLength</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Retrieves the data length of the sample.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>GetActualDataLength</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns the value of <A HREF="CMediaSample.htm#CMediaSample::m_lActual">m_lActual</A> by default.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#GetActualDataLength">IMediaSample::GetActualDataLength</A> method. 
</BLOCKQUOTE>


<H1><A NAME="GetMediaTime">CMediaSample::GetMediaTime</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Retrieves the starting and ending media time.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>GetMediaTime</B><B>(</B><BR>&nbsp;&nbsp;<B>LONGLONG</B> <B>*</B> <I>pStart</I><B>,</B><BR>&nbsp;&nbsp;<B>LONGLONG</B> <B>*</B> <I>pEnd</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pStart</I>
</DT><DD>Retrieved beginning media time.
</DD><DT><I>pEnd</I>
</DT><DD>Retrieved ending media time.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#GetMediaTime">IMediaSample::GetMediaTime</A> method.
It sets <I>pStart</I> to the current value of <A HREF="CMediaSample.htm#CMediaSample::m_MediaStart">m_MediaStart</A>
and <I>pEnd</I> to the sum of <B>m_MediaStart</B> and <A HREF="CMediaSample.htm#CMediaSample::m_MediaEnd">m_MediaEnd</A>. 
If the sample has not been set, this member function returns <A HREF="../Error_Success_Codes.htm#VFW_E_MEDIA_TIME_NOT">VFW_E_MEDIA_TIME_NOT_SET</A>.
</BLOCKQUOTE>


<H1><A NAME="GetMediaType">CMediaSample::GetMediaType</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Retrieves the media type of the <A HREF="CMediaSample.htm">CMediaSample</A> object.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>GetMediaType</B><B>(</B><BR>&nbsp;&nbsp;<B>AM_MEDIA_TYPE</B> <B>**</B> <I>ppMediaType</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>ppMediaType</I>
</DT><DD>Pointer to a pointer to the retrieved media type.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value. When a sample is received and there is no format 
change, this method returns S_FALSE.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#GetMediaType">IMediaSample::GetMediaType</A> method.
The member function makes a copy of the <A HREF="../structs.htm#AM_MEDIA_TYPE">AM_MEDIA_TYPE</A> structure and creates a task 
memory block to maintain the reference. When you are done with the media type, free the memory block 
with the <A HREF="../utilfunct/Media_Type_functs.htm#FreeMediaType">FreeMediaType</A> utility function, and then free the 
entire media type with the Microsoft&#174; Win32&#174; <A HREF="../../appendixes/Further_Reading.htm#CoTaskMemFree">CoTaskMemFree</A> function.
</BLOCKQUOTE>


<H1><A NAME="GetPointer">CMediaSample::GetPointer</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Retrieves a read/write pointer to the buffer's memory.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>GetPointer</B><B>(</B><BR>&nbsp;&nbsp;<B>BYTE</B> <B>**</B> <I>ppBuffer</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>ppBuffer</I>
</DT><DD>Retrieved pointer to the buffer.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns <A HREF="../Error_Success_Codes.htm#VFW_E_BUFFER_NOTSET">VFW_E_BUFFER_NOTSET</A> if <A HREF="CMediaSample.htm#SetPointer">CMediaSample::SetPointer</A> was not
called before calling this function, or NOERROR otherwise.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#GetPointer">IMediaSample::GetPointer</A> method.
<B>GetPointer</B> returns the value of <A HREF="CMediaSample.htm#CMediaSample::m_pBuffer">m_pBuffer</A>, set using <A HREF="CMediaSample.htm#SetPointer">CMediaSample::SetPointer</A>. 
</BLOCKQUOTE>


<H1><A NAME="GetSize">CMediaSample::GetSize</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Retrieves the size, in bytes, of the buffer data area.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>GetSize</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns the value of <A HREF="CMediaSample.htm#CMediaSample::m_cbBuffer">m_cbBuffer</A> by default.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#GetSize">IMediaSample::GetSize</A> method.
</BLOCKQUOTE>


<H1><A NAME="GetTime">CMediaSample::GetTime</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Retrieves the stream time at which this sample should begin and finish.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>GetTime</B><B>(</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <B>*</B> <I>pTimeStart</I><B>,</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <B>*</B> <I>pTimeEnd</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pTimeStart</I>
</DT><DD>Retrieved beginning stream time.
</DD><DT><I>pTimeEnd</I>
</DT><DD>Retrieved ending stream time.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns <A HREF="../Error_Success_Codes.htm#VFW_E_SAMPLE_TIME_NO">VFW_E_SAMPLE_TIME_NOT_SET</A> if this sample doesn't have valid timestamps, or NOERROR otherwise.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#GetTime">IMediaSample::GetTime</A> method. It sets <I>pTimeStart</I> to the current value of <A HREF="CMediaSample.htm#CMediaSample::m_Start">m_Start</A> and <I>pTimeEnd</I> to the current value of <A HREF="CMediaSample.htm#CMediaSample::m_End">m_End</A>.
</BLOCKQUOTE>


<H1><A NAME="IsDiscontinuity">CMediaSample::IsDiscontinuity</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Determines if there is discontinuity in the data stream.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>IsDiscontinuity</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns S_OK if the sample is a discontinuous sample and S_FALSE if not;
otherwise, returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> error value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#IsDiscontinuity">IMediaSample::IsDiscontinuity</A> method.
It returns the value of the <A HREF="CMediaSample.htm#CMediaSample::m_dwFlags">m_dwFlags</A> Sample_Discontinuity property flag.
Discontinuity occurs when a <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_S.htm#source_filter')">source filter</A> seeks 
to a different place in the stream or when a filter drops samples for quality control. 
</BLOCKQUOTE>


<H1><A NAME="IsPreroll">CMediaSample::IsPreroll</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Preroll property. If TRUE, this sample is for preroll only and should not be displayed.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>IsPreroll</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns S_OK if the sample is a preroll sample and S_FALSE if not;
otherwise, returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> error value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#IsPreroll">IMediaSample::IsPreroll</A> method.
It returns the value of the <A HREF="CMediaSample.htm#CMediaSample::m_dwFlags">m_dwFlags</A> Sample_Preroll property flag.
Preroll samples are not meant to be rendered.
</BLOCKQUOTE>


<H1><A NAME="IsSyncPoint">CMediaSample::IsSyncPoint</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Determines if the beginning of a sample is a synchronization point.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>IsSyncPoint</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns S_OK if the sample is a synchronization point and S_FALSE if not;
otherwise, returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> error value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#IsSyncPoint">IMediaSample::IsSyncPoint</A> method.
It returns the value of the <A HREF="CMediaSample.htm#CMediaSample::m_dwFlags">m_dwFlags</A> Sample_SyncPoint property flag.
If the <A HREF="../structs.htm#bTemporalCompression">bTemporalCompression</A> member 
of the <A HREF="../structs.htm#AM_MEDIA_TYPE">AM_MEDIA_TYPE</A> structure is FALSE, all samples are synchronization points. 
A filter can begin a stream at any synchronization point.
</BLOCKQUOTE>


<H1><A NAME="NonDelegatingQueryInterface">CMediaSample::NonDelegatingQueryInterface</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Retrieves an interface and increments the reference count.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>NonDelegatingQueryInterface</B><B>(</B><BR>&nbsp;&nbsp;<B>REFIID</B> <I>riid</I><B>,</B><BR>&nbsp;&nbsp;<B>void</B> <B>**</B> <I>ppv</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>riid</I>
 </DT><DD>Reference identifier.
</DD><DT><I>ppv</I>
 </DT><DD>Pointer to the interface.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns E_POINTER if <I>ppv</I> is invalid. Returns NOERROR if the query is successful or E_NOINTERFACE if it is not. 

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../utilfunct/INonDelegatingUnknown_iface.htm#INonDelegatingUnknow">INonDelegatingUnknown::NonDelegatingQueryInterface</A> method and passes out 
references to the <A HREF="../iface/IMediaSample.htm">IMediaSample</A> and <A HREF="../iface/IUnknown.htm">IUnknown</A> interfaces. Override this class to return other interfaces on the object in the derived class.
</BLOCKQUOTE>


<H1><A NAME="CMediaSample_QueryInterface">CMediaSample::QueryInterface</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Retrieves a pointer to a specified interface on a component to which a
client currently holds an interface pointer. This method must call
<A HREF="../iface/IUnknown.htm#AddRef">IUnknown::AddRef</A> on the pointer it returns.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>QueryInterface</B><B>(</B><BR>&nbsp;&nbsp;<B>REFIID</B> <I>iid</I><B>,</B><BR>&nbsp;&nbsp;<B>void</B> <B>**</B> <I>ppvObject</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>iid</I>
 </DT><DD>Specifies the IID of the interface being requested.
</DD><DT><I>ppvObject</I>
 </DT><DD>Receives a pointer to an interface pointer to the object on return.
 If the interface specified in <I>iid</I> is not supported
 by the object, <I>ppvObject</I> is set to NULL.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns S_OK if the interface is supported, S_FALSE if not.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IUnknown.htm#QueryInterface">IUnknown::QueryInterface</A> method.
</BLOCKQUOTE>


<H1><A NAME="CMediaSample_Release">CMediaSample::Release</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Decrements the reference count for the calling interface on an object.
If the reference count on the object falls to zero, the object is freed from memory.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>ULONG</B> <B>Release</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns the resulting value of the reference count, which is used for
diagnostic/testing purposes only. If you need to know that resources have been freed,
use an interface with higher-level semantics.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IUnknown.htm#Release">IUnknown::Release</A> method.</BLOCKQUOTE>


<H1><A NAME="SetActualDataLength">CMediaSample::SetActualDataLength</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Sets the data length of the sample.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>SetActualDataLength</B><B>(</B><BR>&nbsp;&nbsp;<B>long</B> <I>lLen</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>lLen</I>
 </DT><DD>Length of the data in the media sample, in bytes.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#SetActualDataLength">IMediaSample::SetActualDataLength</A> method. 
It sets the value of <A HREF="CMediaSample.htm#CMediaSample::m_lActual">m_lActual</A> to the value of <I>lLen</I>.
</BLOCKQUOTE>


<H1><A NAME="SetDiscontinuity">CMediaSample::SetDiscontinuity</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Sets the discontinuity property.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>SetDiscontinuity</B><B>(</B><BR>&nbsp;&nbsp;<B>BOOL</B> <I>bDiscont</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>bDiscont</I>
 </DT><DD>Set to TRUE to specify the media sample as discontinuous with the previous sample.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#SetDiscontinuity">IMediaSample::SetDiscontinuity</A> method.
It sets the value of the <A HREF="CMediaSample.htm#CMediaSample::m_dwFlags">m_dwFlags</A> Sample_Discontinuity flag 
to the value of <I>bDiscont</I>.
Discontinuous samples occur when a source filter seeks to a different place
in the media stream or when a filter drops samples for quality control. 
</BLOCKQUOTE>


<H1><A NAME="SetMediaTime">CMediaSample::SetMediaTime</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Sets the starting and ending media times.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>SetMediaTime</B><B>(</B><BR>&nbsp;&nbsp;<B>LONGLONG</B> <B>*</B> <I>pStart</I><B>,</B><BR>&nbsp;&nbsp;<B>LONGLONG</B> <B>*</B> <I>pEnd</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pStart</I>
</DT><DD>Beginning media time.
</DD><DT><I>pEnd</I>
</DT><DD>Ending media time.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#SetMediaTime">IMediaSample::SetMediaTime</A> method.
It sets the <A HREF="CMediaSample.htm#CMediaSample::m_MediaStart">m_MediaStart</A> data member to the value of <I>pStart</I> 
and the <A HREF="CMediaSample.htm#CMediaSample::m_MediaEnd">m_MediaEnd</A> data member to the value of <I>pEnd</I> minus <I>pStart</I>. 
</BLOCKQUOTE>


<H1><A NAME="SetMediaType">CMediaSample::SetMediaType</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Sets the media type for the <A HREF="CMediaSample.htm">CMediaSample</A> object.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>SetMediaType</B><B>(</B><BR>&nbsp;&nbsp;<B>AM_MEDIA_TYPE</B> <B>*</B> <I>pMediaType</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pMediaType</I>
</DT><DD>Pointer to a pointer to a media type structure to be set.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#SetMediaType">IMediaSample::SetMediaType</A> method. 
It deletes the previous media type if one exists, makes a copy of the media type passed 
in, sets <A HREF="CMediaSample.htm#CMediaSample::m_pMediaType">m_pMediaType</A> to the copy of the media type, 
and sets the value of the <A HREF="CMediaSample.htm#CMediaSample::m_dwFlags">m_dwFlags</A> Sample_TypeChanged flag to TRUE.
</BLOCKQUOTE>


<H1><A NAME="SetPointer">CMediaSample::SetPointer</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Sets the buffer pointer and length.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>SetPointer</B><B>(</B><BR>&nbsp;&nbsp;<B>BYTE</B> <B>*</B> <I>ptr</I><B>,</B><BR>&nbsp;&nbsp;<B>LONG</B> <I>cBytes</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B> 
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>ptr</I>
</DT><DD>Pointer to a buffer.
</DD><DT><I>cBytes</I>
</DT><DD>Length of the buffer, in bytes.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>Allocators that require variable-sized pointers or pointers into data that has already been read use this member function. This is available only through a <A HREF="CMediaSample.htm">CMediaSample</A> class, not an <A HREF="../iface/IMediaSample.htm">IMediaSample</A> interface, so only the filter that owns the allocator knows how to access this member function (not any filter or <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#pin')">pin</A> that is passed the object's <B>IMediaSample</B> interface pointer).
</BLOCKQUOTE>


<H1><A NAME="SetPreroll">CMediaSample::SetPreroll</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Sets the preroll property. If TRUE, this sample is for preroll only
and should not be displayed.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>SetPreroll</B><B>(</B><BR>&nbsp;&nbsp;<B>BOOL</B> <I>bIsPreroll</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>bIsPreroll</I>
 </DT><DD>Set to TRUE to specify the media sample as a preroll sample, or FALSE otherwise.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#SetPreroll">IMediaSample::SetPreroll</A> method.
It sets the value of the <A HREF="CMediaSample.htm#CMediaSample::m_dwFlags">m_dwFlags</A> Sample_Preroll flag 
to the value of <I>bIsPreroll</I>.
Preroll samples are samples that are processed but not displayed, and are
located in the media stream before the displayable samples.
</BLOCKQUOTE>


<H1><A NAME="SetSyncPoint">CMediaSample::SetSyncPoint</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Property of a synchronization point.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>SetSyncPoint</B><B>(</B><BR>&nbsp;&nbsp;<B>BOOL</B> <I>bIsSyncPoint</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>bIsSyncPoint</I>
 </DT><DD>Value specifying whether the synchronization point was set.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns S_OK.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#SetSyncPoint">IMediaSample::SetSyncPoint</A> method.
It sets the value of the <A HREF="CMediaSample.htm#CMediaSample::m_dwFlags">m_dwFlags</A> Sample_SyncPoint flag 
to the value of <I>bIsSyncPoint</I>.
A filter can begin a stream at any synchronization point.
</BLOCKQUOTE>


<H1><A NAME="SetTime">CMediaSample::SetTime</A><HR size=1></H1>
<A HREF="CMediaSample.htm">CMediaSample Class</A>
<P>Sets the media time extents for this sample.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>SetTime</B><B>(</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <B>*</B> <I>pTimeStart</I><B>,</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <B>*</B> <I>pTimeEnd</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pTimeStart</I>
</DT><DD>Stream time at which the sample begins.
</DD><DT><I>pTimeEnd</I>
</DT><DD>Stream time at which the sample ends.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR or an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMediaSample.htm#SetTime">IMediaSample::SetTime</A> method. It sets the <A HREF="CMediaSample.htm#CMediaSample::m_Start">m_Start</A> data member to the value of <I>pTimeStart</I> and the <A HREF="CMediaSample.htm#CMediaSample::m_End">m_End</A> data member to the value of <I>pTimeEnd</I>.
<P>If <I>pTimeStart</I> and <I>pTimeEnd</I> are null, DirectShow turns off the <A HREF="CMediaSample.htm#CMediaSample::m_dwFlags">m_dwFlags</A> data member's Sample_TimeValid and Sample_StopValid bits.

</BLOCKQUOTE>
<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A Class="line" HREF="../../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
