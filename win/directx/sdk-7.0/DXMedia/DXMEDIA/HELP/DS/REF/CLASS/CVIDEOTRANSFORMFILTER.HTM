<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>CVideoTransformFilter Class</TITLE>
<SCRIPT> var sRelPath = '../../' </SCRIPT>


<META NAME="Description" CONTENT="CVideoTransformFilter Class">
<META NAME="Description" CONTENT="AlterQuality (CVideoTransformFilter)">
<META NAME="Description" CONTENT="CVideoTransformFilter::AlterQuality">
<META NAME="Description" CONTENT="CVideoTransformFilter (CVideoTransformFilter)">
<META NAME="Description" CONTENT="CVideoTransformFilter::CVideoTransformFilter">
<META NAME="Description" CONTENT="EndFlush (CVideoTransformFilter)">
<META NAME="Description" CONTENT="CVideoTransformFilter::EndFlush">
<META NAME="Description" CONTENT="Receive (CVideoTransformFilter)">
<META NAME="Description" CONTENT="CVideoTransformFilter::Receive">
<META NAME="Description" CONTENT="RegisterPerfId (CVideoTransformFilter)">
<META NAME="Description" CONTENT="CVideoTransformFilter::RegisterPerfId">
<META NAME="Description" CONTENT="ShouldSkipFrame (CVideoTransformFilter)">
<META NAME="Description" CONTENT="CVideoTransformFilter::ShouldSkipFrame">
<META NAME="Description" CONTENT="StartStreaming (CVideoTransformFilter)">
<META NAME="Description" CONTENT="CVideoTransformFilter::StartStreaming">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../../ver.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="CVideoTransformFilter"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CVideoTransformFilter Class"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CVideoTransformFilter Class"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../../contents.htm">Contents</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../../index.htm">Index</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="Classes_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="CUnknown.htm">CUnknown Class</A>
<IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="FOURCCMap.htm">FOURCCMap Class</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">


<!-- CONTENTS_START -->

<H1>CVideoTransformFilter Class</H1>

<P><IMG SRC="../../art/vtsip01.gif" WIDTH="323" HEIGHT="261" ALT="CVideoTransformFilter class hierarchy">

<P>The <B>CVideoTransformFilter</B> class is designed primarily as a base class for AVI decompressor <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_f.htm#filter')">filters</A>. It is based on a "copying" transform class and assumes that the output buffer will likely be a video buffer or Microsoft&#174; DirectDraw&#174; buffer, although this could be used as a base class for other types of <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_T.htm#transform_filter')">transform filters</A>. The main feature of this class is that it enables quality-control management in a transform filter. This means that it decides to drop frames based on receiving a quality notification from the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_R.htm#renderer')">renderer</A>, and taking into account other factors about the media stream it is processing and the filter's own behavior.

<P>Every time the <A HREF="CVideoTransformFilter.htm#Receive">CVideoTransformFilter::Receive</A> member function is called, it calls
<A HREF="CVideoTransformFilter.htm#ShouldSkipFrame">CVideoTransformFilter::ShouldSkipFrame</A> to determine whether to start, continue, or 
stop skipping frames. This member function starts skipping samples 
only if all the following conditions are true.
<UL><LI>The average time to decode is more than one fourth of the frame time.
 <LI>The filter is running at least one frame late.
 <LI>The next anticipated key frame is estimated to be no more than one frame early. 
 <LI>The occurrence of key frames is sufficiently frequent. 
</UL>
<P>Once the class starts to skip frames, it will skip all frames until a key frame
appears, at which time it resets the <A HREF="CVideoTransformFilter.htm#CVideoTransformFilter::m_bSkipping">m_bSkipping</A> flag and processes
the sample. 


<P>Key frames are defined as AVI key frames or MPEG I frames. These require no
history to decode and, if they are skipped, no other frames can be decoded 
until the next key frame. Non-key frames include AVI non-key frames, MPEG P frames,
and MPEG B frames. MPEG B frames are treated the same as other non-key frames by 
this class. (MPEG B frames can be dropped without the need to skip further frames;
however, because this class is aimed primarily at AVI decompressors, it does not
allow for this. Once any frame is skipped, all frames are skipped up to the next
key frame.)

<A NAME="Protected_Data_Membe"></A><P CLASS="ref">Protected Data Members</P>
<TABLE><TR><TD><B><A NAME="CVideoTransformFilter::m_bNoSkip">m_bNoSkip</A></B>
 </TD><TD>Set to TRUE to prevent skipping to the next key frame (for debugging the filter).
</TD></TR><TR><TD><B><A NAME="CVideoTransformFilter::m_bQualityChanged">m_bQualityChanged</A></B>
 </TD><TD>Status flag that indicates if the stream has degraded. This is set to TRUE in 
<A HREF="CVideoTransformFilter.htm#Receive">CVideoTransformFilter::Receive</A> if the call to the derived class 
<A HREF="CTransformFilter.htm#Transform">Transform</A> member function fails. 
(<A HREF="CVideoTransformFilter.htm#Receive">Receive</A> returns NOERROR in this case 
because returning S_FALSE indicates that end-of-stream has arrived.) 
</TD></TR><TR><TD><B><A NAME="CVideoTransformFilter::m_bSkipping">m_bSkipping</A></B>
 </TD><TD>Set to TRUE if the filter is skipping to the next key frame.
</TD></TR><TR><TD><B><A NAME="CVideoTransformFilter::m_idFrameType">m_idFrameType</A></B> 
 </TD><TD>Performance-measuring frame type identifier (available if <A HREF="../../appendixes/Reserved_Identifiers.htm#PERF">PERF</A> is defined).
Logs 1 for key frames; logs 2 for nonkey frames.
</TD></TR><TR><TD><B><A NAME="CVideoTransformFilter::m_idLate">m_idLate</A></B> 
 </TD><TD>Performance identifier for measuring lateness (available if PERF is defined).
</TD></TR><TR><TD><B><A NAME="CVideoTransformFilter::m_idSkip">m_idSkip</A></B> 
 </TD><TD>Performance identifier for measuring frame skipping (available if <A HREF="../../appendixes/Reserved_Identifiers.htm#PERF">PERF</A> is defined).
</TD></TR><TR><TD><B><A NAME="CVideoTransformFilter::m_idTimeTillKey">m_idTimeTillKey</A></B> 
 </TD><TD>Performance identifier that represents an estimate of the 
time in milliseconds until the next key frame arrives 
(available if <A HREF="../../appendixes/Reserved_Identifiers.htm#PERF">PERF</A> is defined). 
</TD></TR><TR><TD><B><A NAME="CVideoTransformFilter::m_itrAvgDecode">m_itrAvgDecode</A></B> 
 </TD><TD>Average time required to decode (transform) the sample. If this is less than
one-fourth of the frame time, it is assumed the quality problems are not
being generated by this filter and no frames are dropped. 

</TD></TR><TR><TD><B><A NAME="CVideoTransformFilter::m_itrLate">m_itrLate</A></B> 
 </TD><TD>Amount of time that the current frame is late. This is originally set to the
value of the <A HREF="../structs.htm#Quality">Quality</A> structure's <A HREF="../structs.htm#Late">Late</A> member passed in the quality
control message from the renderer filter. It is decremented by the frame time 
of each frame that is skipped.
</TD></TR><TR><TD><B><A NAME="CVideoTransformFilter::m_nFramesSinceKeyFrame">m_nFramesSinceKeyFrame</A></B> 
 </TD><TD>Used to count frames since the last key frame. 
</TD></TR><TR><TD><B><A NAME="CVideoTransformFilter::m_nKeyFramePeriod">m_nKeyFramePeriod</A></B> 
 </TD><TD>The largest observed interval between key frames. 
</TD></TR><TR><TD><B><A NAME="CVideoTransformFilter::m_nWaitForKey">m_nWaitForKey</A></B> 
 </TD><TD>Used to ensure output after a format change before getting the first key frame. 
When nonzero, frames are not passed to the renderer. Set to 30 when format is 
changed and decremented on each non-key frame. 
</TD></TR><TR><TD><B><A NAME="CVideoTransformFilter::m_tDecodeStart">m_tDecodeStart</A></B> 
 </TD><TD>Time since the start of the decoding.
</TD></TR></TABLE>
<A NAME="Member_Functions"></A><P CLASS="ref">Member Functions</P>

<TABLE><TR><TD><A HREF="CVideoTransformFilter.htm#AlterQuality">AlterQuality</A>
 </TD><TD>Receives a quality-control notification from the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_O.htm#output_pin')">output pin</A> and provides 
an opportunity to alter the quality of the media stream. 
</TD></TR><TR><TD><A HREF="CVideoTransformFilter.htm#CVideoTransformFilter_CVideoTransformFilter">CVideoTransformFilter</A>
 </TD><TD>Constructs a <A HREF="CVideoTransformFilter.htm">CVideoTransformFilter</A> object.
</TD></TR><TR><TD><A HREF="CVideoTransformFilter.htm#ShouldSkipFrame">ShouldSkipFrame</A>
 </TD><TD>Determines if the filter should start, continue, or stop skipping frames.
</TD></TR></TABLE>
<A NAME="Overridable_Member_F"></A><P CLASS="ref">Overridable Member Functions</P>

<TABLE><TR><TD><A HREF="CVideoTransformFilter.htm#EndFlush">EndFlush</A>
 </TD><TD>Receives notification of leaving the flushing state and passes it downstream.
</TD></TR><TR><TD><A HREF="CVideoTransformFilter.htm#Receive">Receive</A>
 </TD><TD>Receives the media sample and either skips the sample or 
transforms and delivers the media sample.
</TD></TR><TR><TD><A HREF="CVideoTransformFilter.htm#RegisterPerfId">RegisterPerfId</A>
 </TD><TD>Registers a performance measurement identifier.
</TD></TR><TR><TD><A HREF="CVideoTransformFilter.htm#StartStreaming">StartStreaming</A>
 </TD><TD>Overrides <A HREF="CTransformFilter.htm#StartStreaming">CTransformFilter::StartStreaming</A> to reset the quality control 
information when streaming starts or flushing starts.
</TD></TR></TABLE>



<H1><A NAME="AlterQuality">CVideoTransformFilter::AlterQuality</A><HR size=1></H1>
<A HREF="CVideoTransformFilter.htm">CVideoTransformFilter Class</A>
<P>Receives a quality-control notification and provides an opportunity to alter the quality 
of the media stream. 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>AlterQuality</B><B>(</B><BR>&nbsp;&nbsp;<B>Quality</B> <I>q</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>q</I>
</DT><DD>Quality-control notification message.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>This member function returns E_FAIL by default. 


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CTransformFilter.htm#AlterQuality">CTransformFilter::AlterQuality</A> member function. 
It is called by the <A HREF="CTransformOutputPin.htm#Notify">CTransformOutputPin::Notify</A> member function before calling the 
<A HREF="CBaseInputPin.htm#PassNotify">CBaseInputPin::PassNotify</A> member function to pass the quality control message 
upstream. This function sets the <A HREF="CVideoTransformFilter.htm#CVideoTransformFilter::m_itrLate">CVideoTransformFilter::m_itrLate</A> data member to the 
value <A HREF="../structs.htm#Quality">Quality</A> structure's <A HREF="../structs.htm#Late">Late</A> member so that the filter can determine whether 
to skip frames. It returns E_FAIL so that the renderer downstream will continue to handle 
quality control.
</BLOCKQUOTE>


<H1><A NAME="CVideoTransformFilter_CVideoTransformFilter">CVideoTransformFilter::CVideoTransformFilter</A><HR size=1></H1>
<A HREF="CVideoTransformFilter.htm">CVideoTransformFilter Class</A>
<P>Constructs a <A HREF="CVideoTransformFilter.htm">CVideoTransformFilter</A> object.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>CVideoTransformFilter</B><B>(</B><BR>&nbsp;&nbsp;<B>TCHAR</B> <I>*pName</I><B>,</B><BR>&nbsp;&nbsp;<B>LPUNKNOWN</B> <I>pUnk</I><B>,</B><BR>&nbsp;&nbsp;<B>REFCLSID</B> <I>clsid</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pName</I>
</DT><DD>Name given to the <A HREF="CVideoTransformFilter.htm">CVideoTransformFilter</A> object.
</DD><DT><I>pUnk</I>
</DT><DD>Pointer to LPUNKNOWN.
</DD><DT><I>clsid</I>
</DT><DD>Class identifier of the <A HREF="CVideoTransformFilter.htm">CVideoTransformFilter</A> class.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>


<H1><A NAME="EndFlush">CVideoTransformFilter::EndFlush</A><HR size=1></H1>
<A HREF="CVideoTransformFilter.htm">CVideoTransformFilter Class</A>
<P>Receives notification that the filter is leaving the flushing state and passes it downstream.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>EndFlush</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns <A HREF="../Error_Success_Codes.htm#VFW_E_NOT_CONNECTED">VFW_E_NOT_CONNECTED</A> if the filter finds no <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_I.htm#input_pin')">input pin</A>; otherwise, returns the value that the <A HREF="../iface/IPin.htm#EndFlush">IPin::EndFlush</A> method returns.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CTransformFilter.htm#EndFlush">CTransformFilter::EndFlush</A> member function to reset quality management information. 
</BLOCKQUOTE>


<H1><A NAME="Receive">CVideoTransformFilter::Receive</A><HR size=1></H1>
<A HREF="CVideoTransformFilter.htm">CVideoTransformFilter Class</A>
<P>Receives the media sample and either skips the sample or 
transforms and delivers the media sample.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>Receive</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pSample</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pSample</I>
</DT><DD>Sample to deliver.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CTransformFilter.htm#Receive">CTransformFilter::Receive</A> member function.
Override only if you need more control of the process. 
</BLOCKQUOTE>


<H1><A NAME="RegisterPerfId">CVideoTransformFilter::RegisterPerfId</A><HR size=1></H1>
<A HREF="CVideoTransformFilter.htm">CVideoTransformFilter Class</A>
<P>Registers performance measurement identifiers.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>void</B> <B>RegisterPerfId</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>By default, this member function registers the following performance identifiers.

<TABLE>
<TR><TH>Performance identifier</TH><TH>Registered string</TH></TR>
<TR><TD><A HREF="CVideoTransformFilter.htm#CVideoTransformFilter::m_idSkip">m_idSkip</A> </TD><TD>Video transform skip frame
</TD></TR><TR><TD><A HREF="CVideoTransformFilter.htm#CVideoTransformFilter::m_idFrameType">m_idFrameType</A> </TD><TD>Video transform frame type
</TD></TR><TR><TD><A HREF="CVideoTransformFilter.htm#CVideoTransformFilter::m_idLate">m_idLate</A> </TD><TD>Video transform lateness
</TD></TR><TR><TD><A HREF="CVideoTransformFilter.htm#CVideoTransformFilter::m_idTimeTillKey">m_idTimeTillKey</A> </TD><TD>Video transform estd. time to next key
</TD></TR></TABLE>
<P>This member function also calls <A HREF="CTransformFilter.htm#RegisterPerfId">CTransformFilter::RegisterPerfId</A> for its
performance identifier.

<P>Override this member function if you want to register performance measurement identifiers
in the derived class. If you do this, be sure to register these as well. 
This member function is enabled only when <A HREF="../../appendixes/Reserved_Identifiers.htm#PERF">PERF</A> is defined. 
</BLOCKQUOTE>


<H1><A NAME="ShouldSkipFrame">CVideoTransformFilter::ShouldSkipFrame</A><HR size=1></H1>
<A HREF="CVideoTransformFilter.htm">CVideoTransformFilter Class</A>
<P>Determines if the filter should start, continue, or stop skipping frames.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>BOOL</B> <B>ShouldSkipFrame</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <B>*</B> <I>pIn</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pIn</I>
</DT><DD>Received sample to be transformed or skipped.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns TRUE if the filter should skip this sample; otherwise, returns FALSE.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function sets the <A HREF="CVideoTransformFilter.htm#CVideoTransformFilter::m_bSkipping">m_bSkipping</A> member variable to FALSE if
the sample is a key frame (sync point) and returns FALSE. This stops any skipping 
that has started. This member function starts skipping samples (sets <B>m_bSkipping</B>
to TRUE and returns TRUE) only if all of the following conditions are true.
<UL><LI>The average time to decode is more than one-fourth of the frame time.
 <LI>The filter is running at least one frame late.
 <LI>The next anticipated key frame is estimated to be no more than one frame early. 
 <LI>The occurrence of key frames is sufficiently frequent. 
</UL>
<P>This member function sends an <A HREF="../Event_Notification_Codes.htm#EC_QUALITY_CHANGE">EC_QUALITY_CHANGE</A> notification when sample skipping
starts. Once skipping starts, all samples are skipped until the next key frame arrives.
</BLOCKQUOTE>


<H1><A NAME="StartStreaming">CVideoTransformFilter::StartStreaming</A><HR size=1></H1>
<A HREF="CVideoTransformFilter.htm">CVideoTransformFilter Class</A>
<P>Overrides <A HREF="CTransformFilter.htm#StartStreaming">CTransformFilter::StartStreaming</A> to reset the quality control 
 information when streaming starts or flushing starts.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>StartStreaming</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR. 


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function sets several quality control member variables to 0,
including <A HREF="CVideoTransformFilter.htm#CVideoTransformFilter::m_itrLate">m_itrLate</A>, <A HREF="CVideoTransformFilter.htm#CVideoTransformFilter::m_nKeyFramePeriod">m_nKeyFramePeriod</A>, <A HREF="CVideoTransformFilter.htm#CVideoTransformFilter::m_nFramesSinceKeyFrame">m_nFramesSinceKeyFrame</A>,
<A HREF="CVideoTransformFilter.htm#CVideoTransformFilter::m_bSkipping">m_bSkipping</A>, and <A HREF="CVideoTransformFilter.htm#CVideoTransformFilter::m_tDecodeStart">m_tDecodeStart</A>. It sets <A HREF="CVideoTransformFilter.htm#CVideoTransformFilter::m_itrAvgDecode">m_itrAvgDecode</A>
to 3000, and sets <A HREF="CVideoTransformFilter.htm#CVideoTransformFilter::m_bQualityChanged">m_bQualityChanged</A> and 
<A HREF="CTransformFilter.htm#CTransformFilter::m_bSampleSkipped">m_bSampleSkipped</A> to FALSE. 

</BLOCKQUOTE>
<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A Class="line" HREF="../../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
