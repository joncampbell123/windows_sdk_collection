<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>CCritSec Debug Functions</TITLE>
<SCRIPT> var sRelPath = '../../' </SCRIPT>


<META NAME="Description" CONTENT="CCritSec Debug Functions">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<META NAME="KEYWORDS" CONTENT="CCritSec Debug Functions">
<META NAME="DESCRIPTION" CONTENT="CCritSec Debug Functions">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../../ver.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="CCritSecDebug"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CCritSec Debug Functions"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CCritSec Debug Functions"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../../contents.htm">Contents</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../../index.htm">Index</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="UtilFunct_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="CBaseRenderer_Callback.htm">CBaseRenderer Callback Function</A>
<IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="Conversion_functs.htm">Conversion Functions</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">


<!-- CONTENTS_START -->

<H1>CCritSec Debug Functions</H1>

<P>The Wxutil.h header file in the DirectShow base classes provides functions to make deadlocks easier to track. It is useful to insert an assertion in the code that says whether a critical section is owned or not. The routines that do the checking are global functions to avoid having different numbers of member functions in the debug and retail class implementations of <A HREF="../class/CCritSec.htm">CCritSec</A>. In addition, Wxutil.h provides a routine that enables you to trace usage of specific critical sections. Because of the large number of critical sections, this assertion defaults to off.</P>

<BLOCKQUOTE><TABLE CLASS="ref">
<TR><TD><A HREF="CCritSec_Debug.htm#CritCheckIn">CritCheckIn</A>
 </TD><TD>Checks that the current thread is the owner of the given critical section.
</TD></TR><TR><TD><A HREF="CCritSec_Debug.htm#CritCheckOut">CritCheckOut</A>
 </TD><TD>Checks that the current thread is not the owner of the given critical section.
</TD></TR><TR><TD><A HREF="CCritSec_Debug.htm#DbgLockTrace">DbgLockTrace</A>
 </TD><TD>Enables or disables debug logging of a given critical section.
</TD></TR></TABLE></BLOCKQUOTE>

<H1><A NAME="CritCheckIn">CritCheckIn</A><HR size=1></H1>
<A HREF="CCritSec_Debug.htm">CCritSec Debug Functions</A>
<P>Checks that the owner of <I>pcCrit</I> is the current thread.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE><B>BOOL</B> <B>WINAPI</B> <B>CritCheckIn</B><B>(</B><BR>&nbsp;&nbsp;<B>CCritSec</B> <B>*</B> <I>pcCrit</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR></PRE></BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pcCrit</I>
 </DT><DD>Pointer to a <A HREF="../class/CCritSec.htm">CCritSec</A> critical section.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns TRUE if the current thread is the owner of this critical section, or FALSE otherwise.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>If you call this function when DEBUG is not defined and you've included the DirectShow headers, it will always return TRUE.
</BLOCKQUOTE>

<H1><A NAME="CritCheckOut">CritCheckOut</A><HR size=1></H1>
<A HREF="CCritSec_Debug.htm">CCritSec Debug Functions</A>
<P>Checks that the owner of <I>pcCrit</I> is not the current thread.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE><B>BOOL</B> <B>WINAPI</B> <B>CritCheckOut</B><B>(</B><BR>&nbsp;&nbsp;<B>CCritSec</B> <B>*</B> <I>pcCrit</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR></PRE></BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pcCrit</I>
 </DT><DD>Pointer to a <A HREF="../class/CCritSec.htm">CCritSec</A> critical section.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns TRUE if the current thread is not the owner of this critical section, or FALSE otherwise.

</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>If you call this function when DEBUG is not defined and you've included the DirectShow headers, it will always return TRUE.
</BLOCKQUOTE>

<H1><A NAME="DbgLockTrace">DbgLockTrace</A><HR size=1></H1>
<A HREF="CCritSec_Debug.htm">CCritSec Debug Functions</A>
<P>Enables or disables debug logging of a given critical section.
<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE><B>void</B> <B>WINAPI</B> <B>DbgLockTrace</B><B>(</B><BR>&nbsp;&nbsp;<B>CCritSec</B> <B>*</B> <I>pcCrit</I><B>,</B><BR>&nbsp;&nbsp;<B>BOOL</B> <I>fTrace</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR></PRE></BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pcCrit</I>
 </DT><DD>Pointer to a <A HREF="../class/CCritSec.htm">CCritSec</A> critical section.
</DD><DT><I>fTrace</I>
 </DT><DD>Set to TRUE to enable logging or FALSE to disable it.
</DD></DL>
</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This function does nothing unless DEBUG is defined when the DirectShow headers are included.
</BLOCKQUOTE>
<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A Class="line" HREF="../../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
