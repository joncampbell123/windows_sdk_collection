<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>IDistributorNotify Interface</TITLE>
<SCRIPT> var sRelPath = '../../' </SCRIPT>


<META NAME="Description" CONTENT="IDistributorNotify Interface">
<META NAME="Description" CONTENT="IDistributorNotify::NotifyGraphChange">
<META NAME="Description" CONTENT="IDistributorNotify::Pause">
<META NAME="Description" CONTENT="IDistributorNotify::Run">
<META NAME="Description" CONTENT="IDistributorNotify::SetSyncSource">
<META NAME="Description" CONTENT="IDistributorNotify::Stop">
<META NAME="Description" CONTENT="NotifyGraphChange (IDistributorNotify)">
<META NAME="Description" CONTENT="Pause (IDistributorNotify)">
<META NAME="Description" CONTENT="Run (IDistributorNotify)">
<META NAME="Description" CONTENT="SetSyncSource (IDistributorNotify)">
<META NAME="Description" CONTENT="Stop (IDistributorNotify)">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../../ver.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="IDistributorNotify"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../../contents.htm">Contents</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../../index.htm">Index</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="ifaces_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="IDirectSound3DListener.htm">IDirectSound3DListener Interface</A>
<IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="IDvdControl.htm">IDvdControl Interface</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">


<!-- CONTENTS_START -->

<H1>IDistributorNotify Interface</H1>
<P>The <B>IDistributorNotify</B> interface is an optional interface for use by <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#plug_in_distributor')">plug-in distributors</A>
to notify them of changes in the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_F.htm#filter_graph')">filter graph</A> state.

<P CLASS="ref"><A NAME="When_to_Implement">When to Implement</A></P>
<P>Implement this interface when writing a plug-in distributor (PID) that is aggregated with the filter graph
manager if you want the PID to receive notifications of control and changes in the composition
of filter graphs.

<P>PIDs may often use methods on the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_F.htm#filter_graph_manager')">filter graph manager</A>. During a call to an <A HREF="IDistributorNotify.htm">IDistributorNotify</A>
method, do not take any lock that may be held by another code path that calls the filter graph manager.
To do so could result in a deadlock.

<P CLASS="ref"><A NAME="When_to_Use">When to Use</A></P>
<P>The filter graph manager queries for this interface on any plug-in distributors that it aggregates.
If found, it calls the appropriate <A HREF="IDistributorNotify.htm#Run">Run</A>,
<A HREF="IDistributorNotify.htm#Pause">Pause</A>, or <A HREF="IDistributorNotify.htm#SetSyncSource">SetSyncSource</A>
method before calling them on the <A HREF="IBaseFilter.htm">IBaseFilter</A> interface of each <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_f.htm#filter')">filter</A>. It calls the
<A HREF="IDistributorNotify.htm#NotifyGraphChange">NotifyGraphChange</A> method whenever a
filter is added or removed, or connections are changed.

<P CLASS="ref"><A NAME="Methods_in_Vtable_Or">Methods in Vtable Order</A></P>
<TABLE>
<TR><TH>IUnknown methods</TH><TH>Description</TH></TR><TR><TD><A HREF="IUnknown.htm#QueryInterface">QueryInterface</A> </TD><TD>Returns pointers to supported interfaces.
</TD></TR><TR><TD><A HREF="IUnknown.htm#AddRef">AddRef</A> </TD><TD>Increments the reference count.
</TD></TR><TR><TD><A HREF="IUnknown.htm#Release">Release</A> </TD><TD>Decrements the reference count.
</TD></TR><TR></TR>
<TR><TH>IDistributorNotify methods</TH><TH>Description</TH></TR><TR><TD><A HREF="IDistributorNotify.htm#Stop">Stop</A>
</TD><TD>Called when the filter graph is entering a stopped state.
</TD></TR><TR><TD><A HREF="IDistributorNotify.htm#Pause">Pause</A>
</TD><TD>Called when the filter graph is entering a paused state.
</TD></TR><TR><TD><A HREF="IDistributorNotify.htm#Run">Run</A>
</TD><TD>Called when the filter graph is entering a running state.
</TD></TR><TR><TD><A HREF="IDistributorNotify.htm#SetSyncSource">SetSyncSource</A>
</TD><TD>Called when a new clock is registered.

</TD></TR><TR><TD><A HREF="IDistributorNotify.htm#NotifyGraphChange">NotifyGraphChange</A>
</TD><TD>Called when the set of filters in the filter graph change or their connections change.
</TD></TR></TABLE>



<H1><A NAME="NotifyGraphChange">IDistributorNotify::NotifyGraphChange</A><HR size=1></H1>
<A HREF="IDistributorNotify.htm">IDistributorNotify Interface</A>
<P>Called when the set of filters in the filter graph change or their connections change.

<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE><P><B>HRESULT</B> <B>NotifyGraphChange</B><B>(</B><B>void</B><B>)</B><B>;</B><BR></PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value that depends on the implementation. <B>HRESULT</B> can be one of the following standard constants, or other values not listed:
<TABLE>
<TR><TD>E_FAIL </TD><TD>Failure.
</TD></TR><TR><TD>E_POINTER </TD><TD>Null pointer argument.
</TD></TR><TR><TD>E_INVALIDARG </TD><TD>Invalid argument.
</TD></TR><TR><TD>E_NOTIMPL </TD><TD>Method isn't supported.
</TD></TR><TR><TD>S_OK or NOERROR </TD><TD>Success.
</TD></TR></TABLE>


</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>


<BLOCKQUOTE>

<P>This method is called whenever an <A HREF="IFilterGraph.htm#AddFilter">IFilterGraph::AddFilter</A>,
<A HREF="IFilterGraph.htm#RemoveFilter">IFilterGraph::RemoveFilter</A>, or <A HREF="IFilterGraph.htm#ConnectDirect">IFilterGraph::ConnectDirect</A> method is called
or a method is called that will lead to one of
these being called (such as <A HREF="IGraphBuilder.htm#RenderFile">IGraphBuilder::RenderFile</A>).

<P>Make sure you use <A HREF="IUnknown.htm#Release">Release</A> on any held filters that have been removed at this point.
For performance reasons, PIDs might choose not to rescan the filters until the PIDs actually need
the interfaces, because there might be several separate notifications sent. However, it is important to
release any cached interfaces immediately.
</BLOCKQUOTE>


<H1><A NAME="Pause">IDistributorNotify::Pause</A><HR size=1></H1>
<A HREF="IDistributorNotify.htm">IDistributorNotify Interface</A>
<P>Called when the filter graph is entering a paused state.

<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE><P><B>HRESULT</B> <B>Pause</B><B>(</B><B>void</B><B>)</B><B>;</B><BR></PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns S_OK if the transition is complete; otherwise, returns one of the following values.

<TABLE>
<TR><TD><I>Error</I> value </TD><TD>Transition failed.
</TD></TR><TR><TD>S_FALSE </TD><TD>Transition is not complete, but no error has occurred.
</TD></TR></TABLE>


</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>


<BLOCKQUOTE>

<P>This method is called before the filters are notified.
</BLOCKQUOTE>


<H1><A NAME="Run">IDistributorNotify::Run</A><HR size=1></H1>
<A HREF="IDistributorNotify.htm">IDistributorNotify Interface</A>
<P>Called when the filter graph is entering a running state.

<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE><P><B>HRESULT</B> <B>Run</B><B>(</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <I>tStart</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR></PRE></BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>tStart</I>
</DT><DD>Stream-time offset that will be passed to every filter's <A HREF="IMediaFilter.htm#Run">IBaseFilter::Run</A> parameter.
</DD></DL>

</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value that depends on the implementation. <B>HRESULT</B> can be one of the following standard constants, or other values not listed.
<TABLE>
<TR><TD>E_FAIL </TD><TD>Failure.
</TD></TR><TR><TD>E_POINTER </TD><TD>Null pointer argument.
</TD></TR><TR><TD>E_INVALIDARG </TD><TD>Invalid argument.
</TD></TR><TR><TD>E_NOTIMPL </TD><TD>Method isn't supported.
</TD></TR><TR><TD>S_OK or NOERROR </TD><TD>Success.
</TD></TR></TABLE>


</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>


<BLOCKQUOTE>

<P>This method is called before the filters are notified.
</BLOCKQUOTE>


<H1><A NAME="SetSyncSource">IDistributorNotify::SetSyncSource</A><HR size=1></H1>
<A HREF="IDistributorNotify.htm">IDistributorNotify Interface</A>
<P>Called when a new clock is registered.

<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE><P><B>HRESULT</B> <B>SetSyncSource</B><B>(</B><BR>&nbsp;&nbsp;<B>IReferenceClock</B> <B>*</B> <I>pClock</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR></PRE></BLOCKQUOTE>
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pClock</I>
</DT><DD>[in] Pointer to the <A HREF="IReferenceClock.htm">IReferenceClock</A> interface.
</DD></DL>

</BLOCKQUOTE>
<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value that depends on the implementation. <B>HRESULT</B> can be one of the following standard constants, or other values not listed.
<TABLE>
<TR><TD>E_FAIL </TD><TD>Failure.
</TD></TR><TR><TD>E_POINTER </TD><TD>Null pointer argument.
</TD></TR><TR><TD>E_INVALIDARG </TD><TD>Invalid argument.
</TD></TR><TR><TD>E_NOTIMPL </TD><TD>Method isn't supported.
</TD></TR><TR><TD>S_OK or NOERROR </TD><TD>Success.
</TD></TR></TABLE>


</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>


<BLOCKQUOTE>

<P>This method is called before the filters are notified. Make sure to use <A HREF="IUnknown.htm#AddRef">AddRef</A> on the <I>pClock</I> parameter if the plug-in
distributor intends to hold it beyond this method call.
</BLOCKQUOTE>


<H1><A NAME="Stop">IDistributorNotify::Stop</A><HR size=1></H1>
<A HREF="IDistributorNotify.htm">IDistributorNotify Interface</A>
<P>Called when the filter graph is entering a stopped state.

<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE><P><B>HRESULT</B> <B>Stop</B><B>(</B><B>void</B><B>)</B><B>;</B></PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns S_OK if the transition is complete; otherwise, returns one of the following values.

<TABLE>
<TR><TD><I>Error</I> value </TD><TD>Transition failed.
</TD></TR><TR><TD>S_FALSE </TD><TD>Transition is not complete, but no error has occurred.
</TD></TR></TABLE>


</BLOCKQUOTE>
<P CLASS="ref">Remarks</P>


<BLOCKQUOTE>

<P>This method is called before the filters are notified.
</BLOCKQUOTE>
<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A Class="line" HREF="../../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
