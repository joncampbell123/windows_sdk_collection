<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>CTransInPlaceOutputPin Class</TITLE>
<SCRIPT> var sRelPath = '../../' </SCRIPT>


<META NAME="Description" CONTENT="CTransInPlaceOutputPin Class">
<META NAME="Description" CONTENT="CheckMediaType (CTransInPlaceOutputPin)">
<META NAME="Description" CONTENT="CTransInPlaceOutputPin::CheckMediaType">
<META NAME="Description" CONTENT="ConnectedIMemInputPin (CTransInPlaceOutputPin)">
<META NAME="Description" CONTENT="CTransInPlaceOutputPin::ConnectedIMemInputPin">
<META NAME="Description" CONTENT="CTransInPlaceOutputPin (CTransInPlaceOutputPin)">
<META NAME="Description" CONTENT="CTransInPlaceOutputPin::CTransInPlaceOutputPin">
<META NAME="Description" CONTENT="DecideAllocator (CTransInPlaceOutputPin)">
<META NAME="Description" CONTENT="CTransInPlaceOutputPin::DecideAllocator">
<META NAME="Description" CONTENT="EnumMediaTypes (CTransInPlaceOutputPin)">
<META NAME="Description" CONTENT="CTransInPlaceOutputPin::EnumMediaTypes">
<META NAME="Description" CONTENT="PeekAllocator (CTransInPlaceOutputPin)">
<META NAME="Description" CONTENT="CTransInPlaceOutputPin::PeekAllocator">
<META NAME="Description" CONTENT="ReceiveAllocator (CTransInPlaceOutputPin)">
<META NAME="Description" CONTENT="CTransInPlaceOutputPin::ReceiveAllocator">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../../ver.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="CTransInPlaceOutputPin"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CTransInPlaceOutputPin Class"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CTransInPlaceOutputPin Class"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../../contents.htm">Contents</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../../index.htm">Index</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="Classes_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="CTransInPlaceInputPin.htm">CTransInPlaceInputPin Class</A>
<IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="CUnknown.htm">CUnknown Class</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">


<!-- CONTENTS_START -->

<H1>CTransInPlaceOutputPin Class</H1>

<P><IMG SRC="../../art/tsip02.gif" WIDTH="347" HEIGHT="265" ALT="CTransInPlaceOutputPin class hierarchy">

<P>The <B>CTransInPlaceOutputPin</B> class implements the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_O.htm#output_pin')">output pin</A> of a simple 
transform-inplace <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_f.htm#filter')">filter</A> (<A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter</A>).

<A NAME="Protected_Data_Membe"></A><P CLASS="ref">Protected Data Members</P>
<TABLE><TR><TD><B><A NAME="m_pTIPFilter">m_pTIPFilter</A></B> 
 </TD><TD>Pointer to the <A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter</A> object that owns this pin.
</TD></TR></TABLE>
<A NAME="Member_Functions"></A><P CLASS="ref">Member Functions</P>

<TABLE><TR><TD><A HREF="CTransInPlaceOutputPin.htm#ConnectedIMemInputPin">ConnectedIMemInputPin</A> 
 </TD><TD>Retrieves a pointer to the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_I.htm#input_pin')">input pin</A> to which this output pin is connected. 
 </TD></TR><TR><TD><A HREF="CTransInPlaceOutputPin.htm#CTransInPlaceOutputPin_CTransInPlaceOutputPin">CTransInPlaceOutputPin</A>
 </TD><TD>Construct a <A HREF="CTransInPlaceOutputPin.htm">CTransInPlaceOutputPin</A> object.
</TD></TR><TR><TD><A HREF="CTransInPlaceOutputPin.htm#PeekAllocator">PeekAllocator</A> 
 </TD><TD>Retrieves a pointer to the default allocator. 
</TD></TR><TR><TD><A HREF="CTransInPlaceOutputPin.htm#ReceiveAllocator">ReceiveAllocator</A> 
 </TD><TD>Receives notification of which allocator will be used.
</TD></TR></TABLE>
<A NAME="Overridable_Member_F"></A><P CLASS="ref">Overridable Member Functions</P>

<TABLE><TR><TD><A HREF="CTransInPlaceOutputPin.htm#CheckMediaType">CheckMediaType</A>
 </TD><TD>Determines if the media type is acceptable. 
</TD></TR><TR><TD><A HREF="CTransInPlaceOutputPin.htm#DecideAllocator">DecideAllocator</A>
 </TD><TD>Negotiates the allocator to use (uses the allocator from the upstream output pin).
</TD></TR></TABLE>
<P CLASS="ref"><A NAME="Implemented_IPin_Met"></A>Implemented IPin Methods</P>

<TABLE><TR><TD><A HREF="CTransInPlaceOutputPin.htm#EnumMediaTypes">EnumMediaTypes</A>
 </TD><TD>Provides a media type enumerator from the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_U.htm#upstream_filter')">upstream filter</A>.
</TD></TR></TABLE>



<H1><A NAME="CheckMediaType">CTransInPlaceOutputPin::CheckMediaType</A><HR size=1></H1>
<A HREF="CTransInPlaceOutputPin.htm">CTransInPlaceOutputPin Class</A>
<P>Determines if the media type is acceptable. 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>CheckMediaType</B><B>(</B><BR>&nbsp;&nbsp;<B>const</B> <B>CMediaType*</B> <I>pmt</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pmt</I>
</DT><DD>Pointer to a media type object containing the proposed media type.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns S_OK if the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#pin')">pin</A> is not connected. Otherwise, returns S_TRUE if the media type is accepted or S_FALSE if it is not.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CTransformOutputPin.htm#CheckMediaType">CTransformOutputPin::CheckMediaType</A> 
member function. It calls the pure virtual <A HREF="CTransformFilter.htm#CheckInputType">CTransformFilter::CheckInputType</A> member
function to verify the media type (which you must implement in your derived class) because it does 
not change the media type from input to output. If it is not connected, it returns S_OK, which 
agrees to any media type; otherwise, it calls <A HREF="CBasePin.htm#QueryAccept">QueryAccept</A> 
on the output pin of the upstream filter and returns the result.
</BLOCKQUOTE>


<H1><A NAME="ConnectedIMemInputPin">CTransInPlaceOutputPin::ConnectedIMemInputPin</A><HR size=1></H1>
<A HREF="CTransInPlaceOutputPin.htm">CTransInPlaceOutputPin Class</A>
<P>Retrieves a pointer to the input pin to which this output pin is connected.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>IMemInputPin</B> <B>*</B> <B>ConnectedIMemInputPin</B><B>(</B> <B>)</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns the <A HREF="CBaseOutputPin.htm#CBaseOutputPin::m_pInputPin">m_pInputPin</A> data 
member inherited from <A HREF="CBaseOutputPin.htm">CBaseOutputPin</A>.

</BLOCKQUOTE>


<H1><A NAME="CTransInPlaceOutputPin_CTransInPlaceOutputPin">CTransInPlaceOutputPin::CTransInPlaceOutputPin</A><HR size=1></H1>
<A HREF="CTransInPlaceOutputPin.htm">CTransInPlaceOutputPin Class</A>
<P>Constructs a <A HREF="CTransInPlaceOutputPin.htm">CTransInPlaceOutputPin</A> object.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>CTransInPlaceOutputPin</B><B>(</B><BR>&nbsp;&nbsp;<B>TCHAR</B> <I>*pObjectName</I><B>,</B><BR>&nbsp;&nbsp;<B>CTransInPlaceFilter</B> <I>*pFilter</I><B>,</B><BR>&nbsp;&nbsp;<B>HRESULT</B> <B>*</B> <I>phr</I><B>,</B><BR>&nbsp;&nbsp;<B>LPCWSTR</B> <I>pName</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pObjectName</I>
 </DT><DD>Name of the <A HREF="CTransInPlaceOutputPin.htm">CTransInPlaceOutputPin</A> object.
</DD><DT><I>pFilter</I>
 </DT><DD>Pointer to the owning <A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter</A> filter.
</DD><DT><I>phr</I>
 </DT><DD>Pointer to an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value in which to return resulting information.
</DD><DT><I>pName</I>
 </DT><DD>Name of the pin.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>


<H1><A NAME="DecideAllocator">CTransInPlaceOutputPin::DecideAllocator</A><HR size=1></H1>
<A HREF="CTransInPlaceOutputPin.htm">CTransInPlaceOutputPin Class</A>
<P>Negotiates the allocator to use (uses the allocator from the upstream output pin).

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>DecideAllocator</B><B>(</B><BR>&nbsp;&nbsp;<B>IMemInputPin</B> <B>*</B> <I>pPin</I><B>,</B><BR>&nbsp;&nbsp;<B>IMemAllocator</B> <B>**</B> <I>ppAlloc</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pPin</I>
</DT><DD>Pointer to the <A HREF="../iface/IMemInputPin.htm">IMemInputPin</A> interface of the downstream input pin.
</DD><DT><I>ppAlloc</I>
</DT><DD>Returned allocator pointer.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR if successful. Otherwise, returns VFW_E_NO_ALLOCATOR if there is no allocator, or an error from calling <A HREF="CTransInPlaceInputPin.htm#GetAllocator">GetAllocator</A>, <A HREF="CBaseOutputPin.htm#InitAllocator">InitAllocator</A>, <A HREF="CTransInPlaceInputPin.htm#GetAllocatorRequirements">GetAllocatorRequirements</A>, <A HREF="CBaseOutputPin.htm#DecideBufferSize">DecideBufferSize</A>, or 
<A HREF="CTransInPlaceInputPin.htm#NotifyAllocator">NotifyAllocator</A>.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CBaseOutputPin.htm#DecideAllocator">CBaseOutputPin::DecideAllocator</A> member 
function. This implementation uses the allocator that is negotiated by its input pin because a <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_T.htm#transform_inplace_fi')">transform-inplace filter</A> does not supply its own allocator. It then calls 
<A HREF="../iface/IMemInputPin.htm#NotifyAllocator">IMemInputPin::NotifyAllocator</A> on the downstream input pin with that allocator.

<P>If you want to use your own allocator, it is better to derive from <A HREF="CTransformFilter.htm">CTransformFilter</A> 
than from <A HREF="CTransInPlaceFilter.htm">CTransInPlaceFilter</A>, because the purpose of a transform-inplace filter is to use 
an existing allocator.

</BLOCKQUOTE>


<H1><A NAME="EnumMediaTypes">CTransInPlaceOutputPin::EnumMediaTypes</A><HR size=1></H1>
<A HREF="CTransInPlaceOutputPin.htm">CTransInPlaceOutputPin Class</A>
<P>Provides a media type enumerator from the upstream filter.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>EnumMediaTypes</B><B>(</B><BR>&nbsp;&nbsp;<B>IEnumMediaTypes</B> <I>**ppEnum</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>ppEnum</I>
</DT><DD>Pointer to an enumerator for the media types.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR if successful, <A HREF="../Error_Success_Codes.htm#VFW_E_NOT_CONNECTED">VFW_E_NOT_CONNECTED</A> if there is no connection, or an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> that indicates an error with the enumerator, such as E_POINTER or E_OUTOFMEMORY. 

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CBasePin.htm#EnumMediaTypes">CBasePin::EnumMediaTypes</A> member function 
and implements the <A HREF="../iface/IPin.htm#EnumMediaTypes">IPin::EnumMediaTypes</A> method. Transform-inplace filters use the 
media type enumerator from adjacent filters because they do not change the media type. This 
member function calls <B>IPin::EnumMediaTypes</B> on the output pin connected to the filter's 
input pin. If an application receives an enumerator, the application must release it when finished.
</BLOCKQUOTE>


<H1><A NAME="PeekAllocator">CTransInPlaceOutputPin::PeekAllocator</A><HR size=1></H1>
<A HREF="CTransInPlaceOutputPin.htm">CTransInPlaceOutputPin Class</A>
<P>Retrieves a pointer to the default allocator.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>IMemAllocator</B> <B>*</B> <B>PeekAllocator</B><B>(</B> <B>)</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns the <A HREF="CBaseOutputPin.htm#CBaseOutputPin::m_pAllocator">m_pAllocator</A> data 
member inherited from <A HREF="CBaseOutputPin.htm">CBaseOutputPin</A>.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function does not increment the reference count.
</BLOCKQUOTE>


<H1><A NAME="ReceiveAllocator">CTransInPlaceOutputPin::ReceiveAllocator</A><HR size=1></H1>
<A HREF="CTransInPlaceOutputPin.htm">CTransInPlaceOutputPin Class</A>
<P>Receives notification of which allocator will be used. 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>ReceiveAllocator</B><B>(</B><BR>&nbsp;&nbsp;<B>IMemAllocator</B> <B>*</B> <I>pAllocator</I><B>,</B><BR>&nbsp;&nbsp;<B>BOOL</B> <I>bReadOnly</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pAllocator</I>
 </DT><DD>Pointer to the <A HREF="../iface/IMemAllocator.htm">IMemAllocator</A> object to use. 
</DD><DT><I>bReadOnly</I>
 </DT><DD>Flag to indicate if the samples from this allocator are read-only.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR if the allocator has the correct properties and is not read-only. Returns S_OK if successful if the allocator has the correct properties but is read-only; otherwise, returns <A HREF="../Error_Success_Codes.htm#VFW_E_BADALIGN">VFW_E_BADALIGN</A>, <A HREF="../Error_Success_Codes.htm#VFW_E_ALREADY_COMMIT">VFW_E_ALREADY_COMMITTED</A>, <A HREF="../Error_Success_Codes.htm#VFW_E_BUFFERS_OUTSTA">VFW_E_BUFFERS_OUTSTANDING</A>, or E_FAIL if the allocator's properties don't match what is needed.
 

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called by the <A HREF="CTransInPlaceInputPin.htm#NotifyAllocator">CTransInPlaceInputPin::NotifyAllocator</A>
member function to indicate to the output pin which allocator will
be used. It is only called if the output pin is connected. The choice is propagated
to input pins downstream if the allocator is not read-only. For read-only allocators,
only the properties are passed downstream.

</BLOCKQUOTE>
<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A Class="line" HREF="../../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
