<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>CTransformInputPin Class</TITLE>
<SCRIPT> var sRelPath = '../../' </SCRIPT>


<META NAME="Description" CONTENT="CTransformInputPin Class">
<META NAME="Description" CONTENT="BeginFlush (CTransformInputPin)">
<META NAME="Description" CONTENT="CTransformInputPin::BeginFlush">
<META NAME="Description" CONTENT="BreakConnect (CTransformInputPin)">
<META NAME="Description" CONTENT="CTransformInputPin::BreakConnect">
<META NAME="Description" CONTENT="CheckConnect (CTransformInputPin)">
<META NAME="Description" CONTENT="CTransformInputPin::CheckConnect">
<META NAME="Description" CONTENT="CheckMediaType (CTransformInputPin)">
<META NAME="Description" CONTENT="CTransformInputPin::CheckMediaType">
<META NAME="Description" CONTENT="CheckStreaming (CTransformInputPin)">
<META NAME="Description" CONTENT="CTransformInputPin::CheckStreaming">
<META NAME="Description" CONTENT="CompleteConnect (CTransformInputPin)">
<META NAME="Description" CONTENT="CTransformInputPin::CompleteConnect">
<META NAME="Description" CONTENT="CTransformInputPin (CTransformInputPin)">
<META NAME="Description" CONTENT="CTransformInputPin::CTransformInputPin">
<META NAME="Description" CONTENT="CurrentMediaType (CTransformInputPin)">
<META NAME="Description" CONTENT="CTransformInputPin::CurrentMediaType">
<META NAME="Description" CONTENT="EndFlush (CTransformInputPin)">
<META NAME="Description" CONTENT="CTransformInputPin::EndFlush">
<META NAME="Description" CONTENT="EndOfStream (CTransformInputPin)">
<META NAME="Description" CONTENT="CTransformInputPin::EndOfStream">
<META NAME="Description" CONTENT="NewSegment (CTransformInputPin)">
<META NAME="Description" CONTENT="CTransformInputPin::NewSegment">
<META NAME="Description" CONTENT="QueryId (CTransformInputPin)">
<META NAME="Description" CONTENT="CTransformInputPin::QueryId">
<META NAME="Description" CONTENT="Receive (CTransformInputPin)">
<META NAME="Description" CONTENT="CTransformInputPin::Receive">
<META NAME="Description" CONTENT="SetMediaType (CTransformInputPin)">
<META NAME="Description" CONTENT="CTransformInputPin::SetMediaType">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../../ver.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="CTransformInputPin"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CTransformInputPin Class"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CTransformInputPin Class"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../../contents.htm">Contents</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../../index.htm">Index</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="Classes_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="CTransformFilter.htm">CTransformFilter Class</A>
<IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="CTransformOutputPin.htm">CTransformOutputPin Class</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">


<!-- CONTENTS_START -->

<H1>CTransformInputPin Class</H1>

<P><IMG SRC="../../art/tfrm01.gif" WIDTH="339" HEIGHT="261" ALT="CTransformInputPin class hierarchy">

<P>The <B>CTransformInputPin</B> class implements the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_I.htm#input_pin')">input pin</A> of a simple <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_T.htm#transform_filter')">transform filter</A>. It is the class assigned to the <A HREF="CTransformFilter.htm#CTransformFilter::m_pInput">m_pInput</A> data member of the <A HREF="CTransformFilter.htm">CTransformFilter</A> class. Typically, you can create objects derived from <B>CTransformFilter</B> without modifying the <B>CTransformInputPin</B> class. That is, you can usually override the member functions in <B>CTransformFilter</B> that are called by member functions of this class. This means that you need not derive your own classes for either of the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#pin')">pin</A> classes.

<P>However, if you want to override this class and have your <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_f.htm#filter')">filter</A> class derived from <A HREF="CTransformFilter.htm">CTransformFilter</A>, you must override the <A HREF="CTransformFilter.htm#GetPin">CTransformFilter::GetPin</A> member function to create pins of your derived class.

<A NAME="Protected_Data_Membe"></A><P CLASS="ref">Protected Data Members</P>
<TABLE><TR><TD><B><A NAME="CTransformInputPin::m_pTransformFilter">m_pTransformFilter</A></B>
 </TD><TD>Pointer to the owning <A HREF="CTransformFilter.htm">CTransformFilter</A> object.
</TD></TR></TABLE>
<A NAME="Member_Functions"></A><P CLASS="ref">Member Functions</P>

<TABLE><TR><TD><A HREF="CTransformInputPin.htm#CTransformInputPin_CTransformInputPin">CTransformInputPin</A>
 </TD><TD>Constructs a <A HREF="CTransformInputPin.htm">CTransformInputPin</A> object.
</TD></TR><TR><TD><A HREF="CTransformInputPin.htm#CurrentMediaType">CurrentMediaType</A>
 </TD><TD>Retrieves the media type currently assigned to the filter.
</TD></TR></TABLE>
<A NAME="Overridable_Member_F"></A><P CLASS="ref">Overridable Member Functions</P>

<TABLE><TR><TD><A HREF="CTransformInputPin.htm#BreakConnect">BreakConnect</A>
 </TD><TD>Informs the derived class when the connection is broken.
</TD></TR><TR><TD><A HREF="CTransformInputPin.htm#CheckConnect">CheckConnect</A>
 </TD><TD>Informs the derived class when the connection process is starting.
</TD></TR><TR><TD><A HREF="CTransformInputPin.htm#CheckMediaType">CheckMediaType</A>
 </TD><TD>Determines if the pin can use a specified media type.
 </TD></TR><TR><TD><A HREF="CTransformInputPin.htm#CheckStreaming">CheckStreaming</A>
 </TD><TD>Verifies conditions for continuing with a streaming operation.
</TD></TR><TR><TD><A HREF="CTransformInputPin.htm#CompleteConnect">CompleteConnect</A>
 </TD><TD>Informs the derived class when the connection process has completed.
</TD></TR><TR><TD><A HREF="CTransformInputPin.htm#SetMediaType">SetMediaType</A>
 </TD><TD>Informs the derived class when the media type is established for the connection.
</TD></TR></TABLE>
<P CLASS="ref"><A NAME="Implemented_IPin_Met"></A>Implemented IPin Methods</P>

<TABLE><TR><TD><A HREF="CTransformInputPin.htm#BeginFlush">BeginFlush</A>
 </TD><TD>Informs the pin to begin a flush operation.
</TD></TR><TR><TD><A HREF="CTransformInputPin.htm#EndFlush">EndFlush</A>
 </TD><TD>Informs the pin to end a flush operation and notifies the pin that it
can start accepting data again.
</TD></TR><TR><TD><A HREF="CTransformInputPin.htm#EndOfStream">EndOfStream</A>
 </TD><TD>Informs the input pin that no additional data is expected until a new run 
command is issued.
</TD></TR><TR><TD><A HREF="CTransformInputPin.htm#NewSegment">NewSegment</A>
 </TD><TD>Specifies that samples following this call are grouped as a segment with a given
start time, stop time, and rate.
</TD></TR><TR><TD><A HREF="CTransformInputPin.htm#QueryId">QueryId</A> </TD><TD>Retrieves an identifier for the pin.
</TD></TR></TABLE>
<P CLASS="ref"><A NAME="Implemented_IMemInpu"></A>Implemented IMemInputPin Methods</P>
<TABLE><TR><TD><A HREF="CTransformInputPin.htm#Receive">Receive</A>
 </TD><TD>Receives the next block of data from the stream.
</TD></TR></TABLE>



<H1><A NAME="BeginFlush">CTransformInputPin::BeginFlush</A><HR size=1></H1>
<A HREF="CTransformInputPin.htm">CTransformInputPin Class</A>
<P>Informs the pin to begin a flush operation.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>BeginFlush</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IPin.htm#BeginFlush">IPin::BeginFlush</A> method and overrides the <A HREF="CBaseInputPin.htm#BeginFlush">CBaseInputPin::BeginFlush</A> member function. It checks to see if the pin is connected, and then calls <B>CBaseInputPin::BeginFlush</B>, and finally calls the <A HREF="CTransformFilter.htm#BeginFlush">CTransformFilter::BeginFlush</A> member function.
</BLOCKQUOTE>


<H1><A NAME="BreakConnect">CTransformInputPin::BreakConnect</A><HR size=1></H1>
<A HREF="CTransformInputPin.htm">CTransformInputPin Class</A>
<P>Informs the derived class when the connection is broken.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>BreakConnect</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR in this implementation.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CBasePin.htm#BreakConnect">CBasePin::BreakConnect</A> member function and calls the <A HREF="CTransformFilter.htm#BreakConnect">CTransformFilter::BreakConnect</A> member function. Override <B>CTransformFilter::BreakConnect</B> to undo anything carried out in <A HREF="CTransformInputPin.htm#CheckConnect">CTransformInputPin::CheckConnect</A> (such as releasing extra interfaces).
</BLOCKQUOTE>


<H1><A NAME="CheckConnect">CTransformInputPin::CheckConnect</A><HR size=1></H1>
<A HREF="CTransformInputPin.htm">CTransformInputPin Class</A>
<P>Informs the derived class when the connection process is starting.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>CheckConnect</B><B>(</B><BR>&nbsp;&nbsp;<B>IPin</B> <I>*pPin</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pPin</I>
</DT><DD>Pointer to the <A HREF="../iface/IPin.htm">IPin</A> interface of the connecting pin.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR by default.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CBasePin.htm#CheckConnect">CBasePin::CheckConnect</A> member function and calls the <A HREF="CTransformFilter.htm#CheckConnect">CTransformFilter::CheckConnect</A> member function. Override <B>CTransformFilter::CheckConnect</B> to add additional interfaces.
</BLOCKQUOTE>


<H1><A NAME="CheckMediaType">CTransformInputPin::CheckMediaType</A><HR size=1></H1>
<A HREF="CTransformInputPin.htm">CTransformInputPin Class</A>
<P>Determines if the pin can use a specified media type.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>CheckMediaType</B><B>(</B><BR>&nbsp;&nbsp;<B>const</B> <B>CMediaType*</B> <I>mtIn</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>mtIn</I>
</DT><DD>Pointer to a media type object.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function calls the pure-virtual <A HREF="CTransformFilter.htm#CheckInputType">CTransformFilter::CheckInputType</A> member function, which must be overridden when deriving a class from the <A HREF="CTransformFilter.htm">CTransformFilter</A> class. The overridden 
<A HREF="CTransformFilter.htm#CheckInputType">CheckInputType</A> member function is responsible for determining which media types the input pin supports.
</BLOCKQUOTE>


<H1><A NAME="CheckStreaming">CTransformInputPin::CheckStreaming</A><HR size=1></H1>
<A HREF="CTransformInputPin.htm">CTransformInputPin Class</A>
<P>Verifies conditions for continuing with a streaming operation.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>CheckStreaming</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns one of the following <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> values, depending on the state.
<TABLE><TR><TD>S_FALSE </TD><TD>Currently in flushing state.
</TD></TR><TR><TD>S_OK </TD><TD><A HREF="CTransformInputPin.htm#Receive">Receive</A> or 
<A HREF="CTransformInputPin.htm#EndOfStream">EndOfStream</A> operations can safely proceed.
</TD></TR><TR><TD><A HREF="../Error_Success_Codes.htm#VFW_E_NOT_CONNECTED">VFW_E_NOT_CONNECTED</A> </TD><TD>The <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_O.htm#output_pin')">output pin</A> either does not exist or isn't connected.
</TD></TR><TR><TD><A HREF="../Error_Success_Codes.htm#VFW_E_RUNTIME_ERROR">VFW_E_RUNTIME_ERROR</A> </TD><TD>A run-time error occurred when processing a previous sample.
</TD></TR><TR><TD><A HREF="../Error_Success_Codes.htm#VFW_E_WRONG_STATE">VFW_E_WRONG_STATE</A> </TD><TD>The filter is in the <A HREF="../dtypes.htm#State_Stopped">State_Stopped</A> state.
</TD></TR></TABLE>

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CBaseInputPin.htm#CheckStreaming">CBaseInputPin::CheckStreaming</A> member function and calls that base class implementation for most of the condition checks. It determines if the pin is connected, if it is in a paused or running state, and if it is not currently flushing data or processing a run-time error. 
</BLOCKQUOTE>


<H1><A NAME="CompleteConnect">CTransformInputPin::CompleteConnect</A><HR size=1></H1>
<A HREF="CTransformInputPin.htm">CTransformInputPin Class</A>
<P>Informs the derived class when the connection process has been completed.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>CompleteConnect</B><B>(</B><BR>&nbsp;&nbsp;<B>IPin</B> <I>*pReceivePin</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pReceivePin</I>
</DT><DD>Pointer to the input pin being connected to.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CBasePin.htm#CompleteConnect">CBasePin::CompleteConnect</A> member function. It calls the base class <B>CBasePin::CompleteConnect</B> member function and then calls <A HREF="CTransformFilter.htm#CompleteConnect">CTransformFilter::CompleteConnect</A>. 
</BLOCKQUOTE>


<H1><A NAME="CTransformInputPin_CTransformInputPin">CTransformInputPin::CTransformInputPin</A><HR size=1></H1>
<A HREF="CTransformInputPin.htm">CTransformInputPin Class</A>
<P>Constructs a <A HREF="CTransformInputPin.htm">CTransformInputPin</A> object.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>CTransformInputPin</B><B>(</B><BR>&nbsp;&nbsp;<B>TCHAR</B> <I>*pObjectName</I><B>,</B><BR>&nbsp;&nbsp;<B>CTransformFilter</B> <I>*pTransformFilter</I><B>,</B><BR>&nbsp;&nbsp;<B>HRESULT</B> <B>*</B> <I>phr</I><B>,</B><BR>&nbsp;&nbsp;<B>LPCWSTR</B> <I>pName</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pObjectName</I>
</DT><DD>Name of the <A HREF="CTransformInputPin.htm">CTransformInputPin</A> object.
</DD><DT><I>pTransformFilter</I>
</DT><DD>Pointer to the <A HREF="CTransformFilter.htm">CTransformFilter</A> class.
</DD><DT><I>phr</I>
</DT><DD>Pointer to an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value in which to return resulting information. This should be modified only if a failure occurs. If it is a failure code on input, construction can be terminated, but in any case the destructor will be called by the creator when the <B>HRESULT</B> error is detected.
</DD><DT><I>pName</I>
</DT><DD>Name of the pin.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>


<H1><A NAME="CurrentMediaType">CTransformInputPin::CurrentMediaType</A><HR size=1></H1>
<A HREF="CTransformInputPin.htm">CTransformInputPin Class</A>
<P>Retrieves the media type currently assigned to the filter.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>CMediaType&amp;</B> <B>CurrentMediaType</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns the value of <A HREF="CBasePin.htm#CBasePin::m_mt">CBasePin::m_mt</A>.


</BLOCKQUOTE>


<H1><A NAME="EndFlush">CTransformInputPin::EndFlush</A><HR size=1></H1>
<A HREF="CTransformInputPin.htm">CTransformInputPin Class</A>
<P>Informs the pin to end a flush operation and notifies the pin that it can start accepting data again.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>EndFlush</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IPin.htm#EndFlush">IPin::EndFlush</A> method and overrides the <A HREF="CBaseInputPin.htm#EndFlush">CBaseInputPin::EndFlush</A> member function. It checks to see if the pin is connected, calls the <B>CBaseInputPin::EndFlush</B> member function, and finally calls the <A HREF="CTransformFilter.htm#EndFlush">CTransformFilter::EndFlush</A> member function.
</BLOCKQUOTE>


<H1><A NAME="EndOfStream">CTransformInputPin::EndOfStream</A><HR size=1></H1>
<A HREF="CTransformInputPin.htm">CTransformInputPin Class</A>
<P>Informs the input pin that no additional data is expected until a new run command is issued.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>EndOfStream</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IPin.htm#EndOfStream">IPin::EndOfStream</A> method. It calls <A HREF="CTransformInputPin.htm#CheckStreaming">CTransformInputPin::CheckStreaming</A> to see that the filter is in a streaming state and then calls the <A HREF="CTransformFilter.htm#EndOfStream">CTransformFilter::EndOfStream</A> member function.
</BLOCKQUOTE>


<H1><A NAME="NewSegment">CTransformInputPin::NewSegment</A><HR size=1></H1>
<A HREF="CTransformInputPin.htm">CTransformInputPin Class</A>
<P>Specifies that samples following this call are grouped as a segment with a given start time, stop time, and rate.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>NewSegment</B><B>(</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <I>tStart</I><B>,</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <I>tStop</I><B>,</B><BR>&nbsp;&nbsp;<B>double</B> <I>dRate</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>tStart</I>
</DT><DD>Start time of the segment.
</DD><DT><I>tStop</I>
</DT><DD>Stop time of the segment.
</DD><DT><I>dRate</I>
</DT><DD>Rate of the segment.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IPin.htm#NewSegment">IPin::NewSegment</A> method and overrides the <A HREF="CBasePin.htm#NewSegment">CBasePin::NewSegment</A> member function. It calls the base class implementation first (<B>CBasePin::NewSegment</B>), and then calls <A HREF="CTransformFilter.htm#NewSegment">CTransformFilter::NewSegment</A> to pass the notification on to the next filter downstream.
</BLOCKQUOTE>


<H1><A NAME="QueryId">CTransformInputPin::QueryId</A><HR size=1></H1>
<A HREF="CTransformInputPin.htm">CTransformInputPin Class</A>
<P>Retrieves an identifier for the pin.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>QueryId</B><B>(</B><BR>&nbsp;&nbsp;<B>LPWSTR</B> <B>*</B> <I>Id</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>Id</I>
</DT><DD>Pin identifier.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IPin.htm#QueryId">IPin::QueryId</A> method and overrides the <A HREF="CBasePin.htm#QueryId">CBasePin::QueryId</A> member function. It returns the name "In". The caller is responsible for freeing the memory by using the Microsoft&#174; Win32&#174; <A HREF="../../appendixes/Further_Reading.htm#CoTaskMemFree">CoTaskMemFree</A> function.
</BLOCKQUOTE>


<H1><A NAME="Receive">CTransformInputPin::Receive</A><HR size=1></H1>
<A HREF="CTransformInputPin.htm">CTransformInputPin Class</A>
<P>Receives the next block of data from the stream.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>Receive</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <B>*</B> <I>pSample</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pSample</I>
</DT><DD>Pointer to a media sample.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function implements the <A HREF="../iface/IMemInputPin.htm#Receive">IMemInputPin::Receive</A> method. Add a reference to the block of data if access to it is required after the completion of this method. For instance, some decoder filters for temporal compression data streams require that the previous sample be kept in order to decode the current sample. 

<P>This member function calls the <A HREF="CTransformFilter.htm#Receive">CTransformFilter::Receive</A> member function, which does the work of calling the transform function and then passing the sample on. 
</BLOCKQUOTE>


<H1><A NAME="SetMediaType">CTransformInputPin::SetMediaType</A><HR size=1></H1>
<A HREF="CTransformInputPin.htm">CTransformInputPin Class</A>
<P>Informs the derived class when the media type is established for the connection.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>SetMediaType</B><B>(</B><BR>&nbsp;&nbsp;<B>const</B> <B>CMediaType*</B> <I>mt</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>mt</I>
</DT><DD>Pointer to an input media type to be used.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CBasePin.htm#SetMediaType">CBasePin::SetMediaType</A> member function. It calls the base class <B>CBasePin::SetMediaType</B> member function, which returns NOERROR, and then calls <A HREF="CTransformFilter.htm#SetMediaType">CTransformFilter::SetMediaType</A>, which the derived class can override to be informed when the media type is set.

</BLOCKQUOTE>
<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A Class="line" HREF="../../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
