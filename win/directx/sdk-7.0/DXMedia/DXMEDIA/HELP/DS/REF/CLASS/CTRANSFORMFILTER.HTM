<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>CTransformFilter Class</TITLE>
<SCRIPT> var sRelPath = '../../' </SCRIPT>


<META NAME="Description" CONTENT="CTransformFilter Class">
<META NAME="Description" CONTENT="AlterQuality (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::AlterQuality">
<META NAME="Description" CONTENT="BeginFlush (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::BeginFlush">
<META NAME="Description" CONTENT="BreakConnect (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::BreakConnect">
<META NAME="Description" CONTENT="CheckConnect (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::CheckConnect">
<META NAME="Description" CONTENT="CheckInputType (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::CheckInputType">
<META NAME="Description" CONTENT="CheckTransform (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::CheckTransform">
<META NAME="Description" CONTENT="CompleteConnect (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::CompleteConnect">
<META NAME="Description" CONTENT="CTransformFilter (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::CTransformFilter">
<META NAME="Description" CONTENT="DecideBufferSize (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::DecideBufferSize">
<META NAME="Description" CONTENT="EndFlush (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::EndFlush">
<META NAME="Description" CONTENT="EndOfStream (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::EndOfStream">
<META NAME="Description" CONTENT="FindPin (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::FindPin">
<META NAME="Description" CONTENT="GetMediaType (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::GetMediaType">
<META NAME="Description" CONTENT="GetPin (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::GetPin">
<META NAME="Description" CONTENT="GetPinCount (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::GetPinCount">
<META NAME="Description" CONTENT="NewSegment (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::NewSegment">
<META NAME="Description" CONTENT="Pause (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::Pause">
<META NAME="Description" CONTENT="Receive (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::Receive">
<META NAME="Description" CONTENT="RegisterPerfId (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::RegisterPerfId">
<META NAME="Description" CONTENT="SetMediaType (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::SetMediaType">
<META NAME="Description" CONTENT="StartStreaming (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::StartStreaming">
<META NAME="Description" CONTENT="Stop (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::Stop">
<META NAME="Description" CONTENT="StopStreaming (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::StopStreaming">
<META NAME="Description" CONTENT="Transform (CTransformFilter)">
<META NAME="Description" CONTENT="CTransformFilter::Transform">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../../ver.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="CTransformFilter"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CTransformFilter Class"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CTransformFilter Class"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../../contents.htm">Contents</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../../index.htm">Index</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="Classes_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="CSystemClock.htm">CSystemClock Class</A>
<IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="CTransformInputPin.htm">CTransformInputPin Class</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">


<!-- CONTENTS_START -->

<H1>CTransformFilter Class</H1>

<P><IMG SRC="../../art/tfrm03.gif" WIDTH="299" HEIGHT="229" ALT="CTransformFilter class hierarchy">

<P><B>CTransformFilter</B> is an abstract base class that supports a simple <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_T.htm#transform_filter')">transform filter</A> with a single input and a single output. It is derived from the <A HREF="CUnknown.htm">CUnknown</A> class, and it supports the <A HREF="../iface/IBaseFilter.htm">IBaseFilter</A> interface. Each pin, declared as Friends in this class, supports the <A HREF="../iface/IPin.htm">IPin</A> interface and uses the shared memory <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_T.htm#transport')">transport</A> based on the <A HREF="../iface/IMemInputPin.htm">IMemInputPin</A> interface. The <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_f.htm#filter')">filter</A> uses classes derived from the <A HREF="CBaseFilter.htm">CBaseFilter</A> class to support <B>IBaseFilter</B>; the <A HREF="CTransformInputPin.htm">CTransformInputPin</A> <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_I.htm#input_pin')">input pin</A> class is derived from the <A HREF="CBaseInputPin.htm">CBaseInputPin</A> class, and 
the <A HREF="CTransformOutputPin.htm">CTransformOutputPin</A> <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_O.htm#output_pin')">output pin</A> class is derived from the <A HREF="CBaseOutputPin.htm">CBaseOutputPin</A> class.

<P>Note that, while most member functions in this class are designed to be overridden, the following pure virtual member functions must be overridden.
<UL><LI><A HREF="CTransformFilter.htm#CheckInputType">CheckInputType</A>
<LI><A HREF="CTransformFilter.htm#CheckTransform">CheckTransform</A>
<LI><A HREF="CTransformFilter.htm#DecideBufferSize">DecideBufferSize</A>
<LI><A HREF="CTransformFilter.htm#GetMediaType">GetMediaType</A>
<LI><A HREF="CTransformFilter.htm#Transform">Transform</A>
</UL>
<P>For more information about using this class to create a transform filter, see <A HREF="../../filtdev/Creating_Transform_Filter.htm">Creating a Transform Filter</A>. 

<A NAME="Protected_Data_Membe"></A><P CLASS="ref">Protected Data Members</P>
<TABLE><TR><TD><B><A NAME="CTransformFilter::m_bEOSDelivered">m_bEOSDelivered</A></B>
 </TD><TD>End-of-stream delivery status flag.
</TD></TR><TR><TD><B><A NAME="CTransformFilter::m_bQualityChanged">m_bQualityChanged</A></B>
 </TD><TD>Status flag that indicates if the stream has degraded. This is set to TRUE in <A HREF="CTransformFilter.htm#Receive">CTransformFilter::Receive</A> if the call to the derived class's <B>Transform</B> member function fails (<B>CTransformFilter::Receive</B> returns NOERROR in this case because returning S_FALSE indicates that the end-of-stream has arrived). 
</TD></TR><TR><TD><B><A NAME="CTransformFilter::m_bSampleSkipped">m_bSampleSkipped</A></B>
 </TD><TD>Status flag that indicates if a frame was skipped.
</TD></TR><TR><TD><B><A NAME="CTransformFilter::m_csFilter">m_csFilter</A></B>
 </TD><TD>Critical section that protects the filter state. This critical section is held whenever the state is currently changing or might change. It is passed to the <A HREF="CBaseMediaFilter.htm">CBaseMediaFilter</A> constructor so that the base class uses it too.
</TD></TR><TR><TD><B><A NAME="CTransformFilter::m_csReceive">m_csReceive</A></B>
 </TD><TD>Critical section that is held when processing events that occur on the receiving thread 
(<A HREF="CTransformInputPin.htm#Receive">CTransformInputPin::Receive</A> and <A HREF="CTransformInputPin.htm#EndOfStream">CTransformInputPin::EndOfStream</A>).
</TD></TR><TR><TD><B><A NAME="CTransformFilter::m_idTransform">m_idTransform</A></B>
 </TD><TD>Identifier used for performance measurement. Available only when <A HREF="../../appendixes/Reserved_Identifiers.htm#PERF">PERF</A> is defined.
</TD></TR><TR><TD><B><A NAME="CTransformFilter::m_pInput">m_pInput</A></B>
 </TD><TD>Pointer to the input <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#pin')">pin</A> class object.
</TD></TR><TR><TD><B><A NAME="CTransformFilter::m_pOutput">m_pOutput</A></B>
 </TD><TD>Pointer to the output pin class object.
</TD></TR></TABLE>
<A NAME="Member_Functions"></A><P CLASS="ref">Member Functions</P>

<TABLE><TR><TD><A HREF="CTransformFilter.htm#CTransformFilter_CTransformFilter">CTransformFilter</A>
 </TD><TD>Constructs a <A HREF="CTransformFilter.htm">CTransformFilter</A> object.
</TD></TR></TABLE>
<A NAME="Overridable_Member_F"></A><P CLASS="ref">Overridable Member Functions</P>

<TABLE><TR><TD><A HREF="CTransformFilter.htm#AlterQuality">AlterQuality</A> 
 </TD><TD>Receives a quality-control notification from the output pin and provides an opportunity to alter the media stream's quality. 
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#BeginFlush">BeginFlush</A>
 </TD><TD>Receives notification of entering the flushing state and passes it downstream. 
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#BreakConnect">BreakConnect</A>
 </TD><TD>Informs the derived class when the connection is broken.
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#CheckConnect">CheckConnect</A>
 </TD><TD>Informs the derived class when the connection process is starting.
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#CheckInputType">CheckInputType</A>
 </TD><TD>Verifies that the input pin supports the media type and proposes the media type of the output pin (pure virtual).
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#CheckTransform">CheckTransform</A>
 </TD><TD>Verifies that the input and output pins support the media type (pure virtual).
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#CompleteConnect">CompleteConnect</A>
 </TD><TD>Informs the derived class when the connection process has completed.
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#DecideBufferSize">DecideBufferSize</A>
 </TD><TD>Sets the number and size of buffers required for the transfer (pure virtual). 
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#EndFlush">EndFlush</A>
 </TD><TD>Receives notification of leaving the flushing state and passes it downstream.
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#EndOfStream">EndOfStream</A>
 </TD><TD>Receives an end-of-stream notification and passes it downstream.
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#GetMediaType">GetMediaType</A>
 </TD><TD>Returns one of the media types that the output pin supports (pure virtual).
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#GetPin">GetPin</A>
 </TD><TD>Returns the pin for the index specified.
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#GetPinCount">GetPinCount</A>
 </TD><TD>Returns the number of pins on the filter.
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#NewSegment">NewSegment</A>
 </TD><TD>Informs the derived class that a new segment has started and delivers it downstream. 
 </TD></TR><TR><TD><A HREF="CTransformFilter.htm#Receive">Receive</A>
 </TD><TD>Receives the media sample, calls the <A HREF="CTransformFilter.htm#Transform">CTransformFilter::Transform</A> member function, and then delivers the media sample.
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#RegisterPerfId">RegisterPerfId</A>
 </TD><TD>Registers a performance measurement identifier.
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#SetMediaType">SetMediaType</A>
 </TD><TD>Informs the derived class when the media type is established for the connection.
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#StartStreaming">StartStreaming</A>
 </TD><TD>Informs the derived class that streaming is starting.
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#StopStreaming">StopStreaming</A>
 </TD><TD>Informs the derived class that streaming is ending.
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#Transform">Transform</A>
 </TD><TD>Performs transform operations, reading from the input <A HREF="../iface/IMediaSample.htm">IMediaSample</A> interface and writing the data to the output <B>IMediaSample</B> interface (pure virtual).
</TD></TR></TABLE>
<P CLASS="ref"><A NAME="Implemented_IBaseFil"></A>Implemented IBaseFilter Methods</P>


<TABLE><TR><TD><A HREF="CTransformFilter.htm#FindPin">FindPin</A>
 </TD><TD>Retrieves the pin with the specified identifier.
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#Pause">Pause</A>
 </TD><TD>Transitions the filter to <A HREF="../dtypes.htm#State_Paused">State_Paused</A> state if it is not in this state already, and informs the derived class. 
</TD></TR><TR><TD><A HREF="CTransformFilter.htm#Stop">Stop</A>
 </TD><TD>Transitions the filter to <A HREF="../dtypes.htm#State_Stopped">State_Stopped</A> state if it is not in this state already, and informs the derived class.
</TD></TR></TABLE>



<H1><A NAME="AlterQuality">CTransformFilter::AlterQuality</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Receives a quality-control notification and provides an opportunity to alter the media stream's quality. 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>AlterQuality</B><B>(</B><BR>&nbsp;&nbsp;<B>Quality</B> <I>q</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>q</I>
</DT><DD>Quality-control notification message.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value. S_FALSE means to pass the message to the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_U.htm#upstream_filter')">upstream filter</A> (whether or not any action has been taken). An overriding member function can return NOERROR to indicate that the message has been handled completely (or as completely as possible) and no further action should be taken.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function returns S_FALSE by default. It is called by the <A HREF="CTransformOutputPin.htm#Notify">CTransformOutputPin::Notify</A> member function before calling the <A HREF="CBaseInputPin.htm#PassNotify">CBaseInputPin::PassNotify</A> member function to pass the quality control message 
upstream. If the filter is responsible for affecting the quality of the media stream, override this member function and respond to the quality-notification message. 
</BLOCKQUOTE>


<H1><A NAME="BeginFlush">CTransformFilter::BeginFlush</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Receives notification of entering the flushing state and passes it downstream. 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>BeginFlush</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>By default, this member function calls the <A HREF="CBaseOutputPin.htm#DeliverEndFlush">CBaseOutputPin::DeliverEndFlush</A> member function on the output pin to send the <B>BeginFlush</B> notification to the next filter. Override this member function if you are using queued data or a worker thread.
</BLOCKQUOTE>


<H1><A NAME="BreakConnect">CTransformFilter::BreakConnect</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Informs the derived class when the connection is broken.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>BreakConnect</B><B>(</B><BR>&nbsp;&nbsp;<B>PIN_DIRECTION</B> <I>dir</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>dir</I>
 </DT><DD>Direction of the pin.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR by default. The overriding member function returns an
<A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called by both <A HREF="CTransformInputPin.htm#BreakConnect">CTransformInputPin::BreakConnect</A> and <A HREF="CTransformOutputPin.htm#BreakConnect">CTransformOutputPin::BreakConnect</A>. It returns NOERROR by default. Override this member function to handle special cases in both input and output pin connections. Special cases might typically be releasing interfaces obtained in the
<A HREF="CTransformFilter.htm#CheckConnect">CTransformFilter::CheckConnect</A> member function.
</BLOCKQUOTE>


<H1><A NAME="CheckConnect">CTransformFilter::CheckConnect</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Informs the derived class when the connection process is starting.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>CheckConnect</B><B>(</B><BR>&nbsp;&nbsp;<B>PIN_DIRECTION</B> <I>dir</I><B>,</B><BR>&nbsp;&nbsp;<B>IPin</B> <I>*pPin</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>dir</I>
 </DT><DD>Direction of the pin.
</DD><DT><I>pPin</I>
 </DT><DD>Pointer to the pin making the connection.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR by default. The overriding member function returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called by both <A HREF="CTransformInputPin.htm#CheckConnect">CTransformInputPin::CheckConnect</A> and <A HREF="CTransformOutputPin.htm#CheckConnect">CTransformOutputPin::CheckConnect</A>. Override this member function to handle special cases in both input and output pin connections. Special cases might include querying (obtaining) other interfaces.
</BLOCKQUOTE>


<H1><A NAME="CheckInputType">CTransformFilter::CheckInputType</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Verifies that the input pin supports the media type, and proposes the output pin's media type.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>CheckInputType</B><B>(</B><BR>&nbsp;&nbsp;<B>const</B> <B>CMediaType*</B> <I>mtIn</I><BR>&nbsp;&nbsp;<B>)</B><BR><B>PURE;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>mtIn</I>
 </DT><DD>Pointer to an input media type object.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>The overriding member function returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>You must override this member function to verify the media type. This member function must return an error if it cannot support the media type as an input. If it can, the overriding member function should propose the output media type supplied by the output pin.
</BLOCKQUOTE>


<H1><A NAME="CheckTransform">CTransformFilter::CheckTransform</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Verifies that the input and output pins support the media type.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>CheckTransform</B><B>(</B><BR>&nbsp;&nbsp;<B>const</B> <B>CMediaType*</B> <I>mtIn</I><B>,</B><BR>&nbsp;&nbsp;<B>const</B> <B>CMediaType*</B> <I>mtOut</I><BR>&nbsp;&nbsp;<B>)</B> <B>PURE;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>mtIn</I>
</DT><DD>Pointer to the input media type object.
</DD><DT><I>mtOut</I>
</DT><DD>Pointer to the output media type object.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>The overriding member function returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The derived class must implement this member function by overriding it. It should return an error if the filter cannot accept these types as its input and output types.
</BLOCKQUOTE>


<H1><A NAME="CompleteConnect">CTransformFilter::CompleteConnect</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Informs the derived class when the connection process has completed.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>CompleteConnect</B><B>(</B><BR>&nbsp;&nbsp;<B>PIN_DIRECTION</B> <I>direction</I><B>,</B><BR>&nbsp;&nbsp;<B>IPin</B> <I>*pReceivePin</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>direction</I>
 </DT><DD>Pin direction.
</DD><DT><I>pReceivePin</I>
 </DT><DD>Pointer to the output pin that is being connected to.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called by both <A HREF="CTransformInputPin.htm#CompleteConnect">CTransformInputPin::CompleteConnect</A> and <A HREF="CTransformOutputPin.htm#CompleteConnect">CTransformOutputPin::CompleteConnect</A>. It returns NOERROR by default. 

Override this member function to handle special cases in both input and output pin connections. 
</BLOCKQUOTE>


<H1><A NAME="CTransformFilter_CTransformFilter">CTransformFilter::CTransformFilter</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Constructs a <A HREF="CTransformFilter.htm">CTransformFilter</A> object.
<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE>
<P><B>CTransformFilter</B><B>(</B><BR>&nbsp;&nbsp;<B>TCHAR</B> <B>*</B> <I>pObjectName</I><B>,</B><BR>&nbsp;&nbsp;<B>LPUNKNOWN</B> <I>lpUnk</I><B>,</B><BR>&nbsp;&nbsp;<B>CLSID</B> <I>clsid</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pObjectName</I>
 </DT><DD>Name given to the <A HREF="CTransformFilter.htm">CTransformFilter</A> object.
</DD><DT><I>lpUnk</I>
 </DT><DD>Pointer to LPUNKNOWN.
</DD><DT><I>clsid</I>
 </DT><DD>Class identifier of the <A HREF="CTransformFilter.htm">CTransformFilter</A> class.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The constructor of the derived class calls this member function. The pin objects are not created at this time; they are created when calling the <A HREF="CTransformFilter.htm#GetPin">CTransformFilter::GetPin</A> member function. Thus the pins (<A HREF="CTransformFilter.htm#CTransformFilter::m_pInput">m_pInput</A> and <A HREF="CTransformFilter.htm#CTransformFilter::m_pOutput">m_pOutput</A>) cannot be referred to in the constructor unless <A HREF="CTransformFilter.htm#GetPin">GetPin</A> is first called. (An external object can find pins only by enumerating them or by calling <A HREF="../iface/IBaseFilter.htm#FindPin">IBaseFilter::FindPin</A>. These each call 
<B>GetPin</B>, so the pins are, in fact, created as soon as they are needed.)
</BLOCKQUOTE>


<H1><A NAME="DecideBufferSize">CTransformFilter::DecideBufferSize</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Sets the number and size of buffers required for the transfer.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>DecideBufferSize</B><B>(</B><BR>&nbsp;&nbsp;<B>IMemAllocator</B> <B>*</B> <I>pAlloc</I><B>,</B><BR>&nbsp;&nbsp;<B>ALLOCATOR_PROPERTIES</B> <B>*</B> <I>ppropInputRequest</I><BR>&nbsp;&nbsp;<B>)</B> <B>PURE;</B> 
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pAlloc </I>
</DT><DD>Allocator assigned to the transfer.
</DD><DT><I>ppropInputRequest</I>
</DT><DD>Requested allocator properties for count, size, and alignment, as specified by the <A HREF="../structs.htm#ALLOCATOR_PROPERTIES">ALLOCATOR_PROPERTIES</A> structure.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called by the <A HREF="CTransformOutputPin.htm#DecideBufferSize">CTransformOutputPin::DecideBufferSize</A> member function. Override and implement this member function to call the <A HREF="CMemAllocator.htm#SetProperties">CMemAllocator::SetProperties</A> member function with appropriate values for the output stream. This call might fail if the allocator cannot satisfy the request.
</BLOCKQUOTE>


<H1><A NAME="EndFlush">CTransformFilter::EndFlush</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Receives notification of leaving the flushing state and passes it downstream.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>EndFlush</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called by the <A HREF="CTransformInputPin.htm#EndFlush">CTransformInputPin::EndFlush</A> member function. Override this member function if you are using queued data or a worker thread. It calls <A HREF="CBaseOutputPin.htm#DeliverEndFlush">CBaseOutputPin::DeliverEndFlush</A> to deliver the notification downstream.
</BLOCKQUOTE>


<H1><A NAME="EndOfStream">CTransformFilter::EndOfStream</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Receives an end-of-stream notification and passes it downstream.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>EndOfStream</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>By default, this member function calls the <A HREF="CBaseOutputPin.htm#DeliverEndOfStream">CBaseOutputPin::DeliverEndOfStream</A> member function on the output pin to send the end-of-stream notification to the next filter. Override this member function if you are using queued data or a worker thread. If you overrode <A HREF="CTransformFilter.htm#Receive">CTransformFilter::Receive</A> and have queued data, you must handle this condition and deliver EOS

 after all queued data is sent.
</BLOCKQUOTE>


<H1><A NAME="FindPin">CTransformFilter::FindPin</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Retrieves the pin with the specified identifier.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>FindPin</B><B>(</B><BR>&nbsp;&nbsp;<B>LPCWSTR</B> <I>Id</I><B>,</B><BR>&nbsp;&nbsp;<B>IPin</B> <I>**ppPin</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>Id</I>
</DT><DD>Identifier of the pin.
</DD><DT><I>ppPin</I>
</DT><DD>Pointer to the <A HREF="../iface/IPin.htm">IPin</A> interface for this pin after the filter has been restored.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR if the pin name was found; otherwise, returns <A HREF="../Error_Success_Codes.htm#VFW_E_NOT_FOUND">VFW_E_NOT_FOUND</A>. 

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CBaseFilter.htm#FindPin">CBaseFilter::FindPin</A> member function. If the <I>Id</I> parameter is "In", it retrieves the input pin's <A HREF="../iface/IPin.htm">IPin</A> pointer; if the <I>Id</I> parameter is "Out", it retrieves the output pin's <B>IPin</B> pointer.

<P>The <I>ppPin</I> parameter is set to NULL if the identifier cannot be matched.
</BLOCKQUOTE>


<H1><A NAME="GetMediaType">CTransformFilter::GetMediaType</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Returns one of the media types that the output pin supports (pure virtual).

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>GetMediaType</B><B>(</B><BR>&nbsp;&nbsp;<B>int</B> <I>iPosition</I><B>,</B><BR>&nbsp;&nbsp;<B>CMediaType</B> <I>*pMediaType</I><BR>&nbsp;&nbsp;<B>)</B> <B>PURE;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>iPosition</I>
 </DT><DD>Position of the media type in the media type list.
</DD><DT><I>pMediaType</I>
 </DT><DD>Returned media type object.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value by the overriding member function. It returns <A HREF="../Error_Success_Codes.htm#VFW_S_NO_MORE_ITEMS">VFW_S_NO_MORE_ITEMS</A> when asked for a media type beyond the position list. It might return S_FALSE to indicate that the media type exists but is not currently usable. In this case, the <A HREF="../iface/IEnumMediaTypes.htm#Next">IEnumMediaTypes::Next</A> method skips this media type.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The derived class is responsible for implementing this member function and maintaining the list of media types that it supports. 

<P>The base transform class assumes that only the output pin proposes media types, because the output pin depends on the type of connection of the input pin. For this reason, it is only the <A HREF="CTransformOutputPin.htm#GetMediaType">CTransformOutputPin::GetMediaType</A> member function of the output pin that is routed to this function.
</BLOCKQUOTE>


<H1><A NAME="GetPin">CTransformFilter::GetPin</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Retrieves a pin for a specified index.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>CBasePin</B> <B>*</B> <B>GetPin</B><B>(</B><BR>&nbsp;&nbsp;<B>int</B> <I>n</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>n</I>
</DT><DD>Index of the pin to return.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns a pointer to a <A HREF="CBasePin.htm">CBasePin</A> object.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CBaseFilter.htm#GetPin">CBaseFilter::GetPin</A> member function and need not be overridden unless one or more of the transform pin classes (<A HREF="CTransformInputPin.htm">CTransformInputPin</A> or <A HREF="CTransformOutputPin.htm">CTransformOutputPin</A>) are overridden. 
Upon successful return, both pins are valid.
</BLOCKQUOTE>


<H1><A NAME="GetPinCount">CTransformFilter::GetPinCount</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Retrieves the number of pins on the filter.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>int</B> <B>GetPinCount</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns 2. If you override this class to support more pins, this member function returns the total number of pins on the filter.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CBaseFilter.htm#GetPinCount">CBaseFilter::GetPinCount</A> member function. The <A HREF="CTransformFilter.htm">CTransformFilter</A> class supports only one input pin and one output pin.
</BLOCKQUOTE>


<H1><A NAME="NewSegment">CTransformFilter::NewSegment</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Informs the derived class that a new segment has started and delivers it downstream.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>NewSegment</B><B>(</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <I>tStart</I><B>,</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <I>tStop</I><B>,</B><BR>&nbsp;&nbsp;<B>double</B> <I>dRate</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>tStart</I>
</DT><DD>Start time of the segment.
</DD><DT><I>tStop</I>
</DT><DD>Stop time of the segment.
</DD><DT><I>dRate</I>
</DT><DD>Rate of the segment.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.

</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called by the <A HREF="CTransformInputPin.htm#NewSegment">CTransformInputPin::NewSegment</A> member function and calls the <A HREF="CBaseOutputPin.htm#DeliverNewSegment">CBaseOutputPin::DeliverNewSegment</A> member function.
</BLOCKQUOTE>


<H1><A NAME="Pause">CTransformFilter::Pause</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Transitions the filter to <A HREF="../dtypes.htm#State_Paused">State_Paused</A> state if it is not in this state already, and informs the derived class. 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>Pause</B> <B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value. 


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CBaseFilter.htm#Pause">CBaseFilter::Pause</A> member function and implements the <A HREF="../iface/IMediaFilter.htm#Pause">IMediaFilter::Pause</A> method. It checks the input and output pin connections, calls <A HREF="CTransformFilter.htm#StartStreaming">CTransformFilter::StartStreaming</A>, and finally calls the base class implementation (<B>CBaseFilter::Pause</B>). 
</BLOCKQUOTE>


<H1><A NAME="Receive">CTransformFilter::Receive</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Receives the media sample, calls the <A HREF="CTransformFilter.htm#Transform">CTransformFilter::Transform</A> member function, and then delivers the media sample.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>Receive</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pSample</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pSample</I>
 </DT><DD>Media sample to receive.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function is called by the <A HREF="CTransformInputPin.htm#Receive">CTransformInputPin::Receive</A> member function, which implements the 
<A HREF="../iface/IMemInputPin.htm#Receive">IMemInputPin::Receive</A> method. If you override this member function, you might must also override <A HREF="CTransformFilter.htm#EndOfStream">CTransformFilter::EndOfStream</A>, <A HREF="CTransformFilter.htm#BeginFlush">CTransformFilter::BeginFlush</A>, and <A HREF="CTransformFilter.htm#EndFlush">CTransformFilter::EndFlush</A>.
</BLOCKQUOTE>


<H1><A NAME="RegisterPerfId">CTransformFilter::RegisterPerfId</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Registers a performance measurement identifier.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>void</B> <B>RegisterPerfId</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>No return value.
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>By default, this member function registers the performance identifier (<A HREF="CTransformFilter.htm#CTransformFilter::m_idTransform">m_idTransform</A>) with the string "Transform". Override this member function to register a performance measurement with a less generic string. This should be done to avoid confusion with other filters. This member function is enabled only when <A HREF="../../appendixes/Reserved_Identifiers.htm#PERF">PERF</A> is defined. 
</BLOCKQUOTE>


<H1><A NAME="SetMediaType">CTransformFilter::SetMediaType</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Informs the derived class when the media type is established for the connection.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>SetMediaType</B><B>(</B><BR>&nbsp;&nbsp;<B>PIN_DIRECTION</B> <I>direction</I><B>,</B><BR>&nbsp;&nbsp;<B>const</B> <B>CMediaType</B> <I>*pmt</I><BR>&nbsp;&nbsp;<B>)</B> <B>PURE;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>direction</I>
</DT><DD>Pin direction.
</DD><DT><I>pmt</I>
</DT><DD>Pointer to the media type object.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR by default. The overriding member function returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>Override this member function to detect when the media type is set. The implementations of <A HREF="CTransformInputPin.htm#SetMediaType">CTransformInputPin::SetMediaType</A> and <A HREF="CTransformOutputPin.htm#SetMediaType">CTransformOutputPin::SetMediaType</A> call this member function. 
</BLOCKQUOTE>


<H1><A NAME="StartStreaming">CTransformFilter::StartStreaming</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Informs the derived class that streaming is starting.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>StartStreaming</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR by default. The overriding member function returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The filter is in the process of switching to active mode (paused or running). Alternatively, you can override this member function to allocate any necessary resources.
</BLOCKQUOTE>


<H1><A NAME="Stop">CTransformFilter::Stop</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Transitions the filter to <A HREF="../dtypes.htm#State_Stopped">State_Stopped</A> state if it is not in this state already, and informs the derived class.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>HRESULT</B> <B>Stop</B><B>(</B><B>void</B><B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>This member function overrides the <A HREF="CBaseFilter.htm#Stop">CBaseFilter::Stop</A> member function and implements the <A HREF="../iface/IMediaFilter.htm#Stop">IMediaFilter::Stop</A> method. It first decommits on the input and output pins by calling <A HREF="CBaseInputPin.htm#Inactive">CBaseInputPin::Inactive</A> and <A HREF="CBaseOutputPin.htm#Inactive">CBaseOutputPin::Inactive</A>, and then calls <A HREF="CTransformFilter.htm#StopStreaming">CTransformFilter::StopStreaming</A> to inform the derived class. 
</BLOCKQUOTE>


<H1><A NAME="StopStreaming">CTransformFilter::StopStreaming</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Informs the derived class that streaming is ending.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>StopStreaming</B><B>(</B> <B>)</B><B>;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>Returns NOERROR by default. The overriding member function returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The filter is in the process of leaving active mode and entering stopped mode. Override this member function to free any resources allocated in <A HREF="CTransformFilter.htm#StartStreaming">StartStreaming</A>.
</BLOCKQUOTE>


<H1><A NAME="Transform">CTransformFilter::Transform</A><HR size=1></H1>
<A HREF="CTransformFilter.htm">CTransformFilter Class</A>
<P>Performs transform operations of the filter. 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE>
<P><B>virtual</B> <B>HRESULT</B> <B>Transform</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <B>*</B> <I>pIn</I><B>,</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pOut</I><BR>&nbsp;&nbsp;<B>)</B> <B>PURE;</B>
</PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE>
<DL><DT><I>pIn</I>
 </DT><DD>Pointer to the input <A HREF="../iface/IMediaSample.htm">IMediaSample</A> interface.
</DD><DT><I>pOut</I>
 </DT><DD>Pointer to the output <A HREF="../iface/IMediaSample.htm">IMediaSample</A> interface.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Return Value</P>
<BLOCKQUOTE>
<P>The overriding member function returns an <A HREF="../Error_Success_Codes.htm#HRESULT">HRESULT</A> value. If it returns S_FALSE, the default implementation of the sample will not be delivered by the default implementation of the <A HREF="CTransformFilter.htm#Receive">CTransformFilter::Receive</A> member function.


</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE>
<P>The <A HREF="CTransformFilter.htm#Receive">CTransformFilter::Receive</A> member function calls this member function, which must be overridden with a member function that implements the transform intended for the filter.

<P>Perform your transform operation in the implementation of this member function, reading the data from the input <A HREF="../iface/IMediaSample.htm">IMediaSample</A> interface and writing the data to the output <B>IMediaSample</B> interface. The member function returns when the transform is complete, without releasing or delivering either of the samples. Change properties on the output sample if they are not the same as the input sample. For example, change the start and stop time <A HREF="../iface/IMediaSample.htm#SetTime">IMediaSample::SetTime</A>), sample status flags (<A HREF="../iface/IMediaSample.htm#IsSyncPoint">IMediaSample::IsSyncPoint</A>), and so on. 

</BLOCKQUOTE>
<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A Class="line" HREF="../../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
