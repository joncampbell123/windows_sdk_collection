<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>Event Notification Codes</TITLE>
<SCRIPT> var sRelPath = '../' </SCRIPT>


<META NAME="Description" CONTENT="Event Notification Codes">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../ver.js"></SCRIPT>
<SCRIPT SRC="../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="Events"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- Event Notification Codes"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- Event Notification Codes"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../contents.htm">Contents</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../index.htm">Index</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="cref_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="propset_DVD_Time_Stamp_Rate_Change.htm">DVD Time Stamp Rate Change Property Set</A>
<IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="DVD_Event_Notification_Codes_intro.htm">DVD Event Notification Codes</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">


<!-- CONTENTS_START -->

<H1>Event Notification Codes</H1>

<P>Microsoft&#174; DirectShow&#153; supports system-defined events, which <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_f.htm#filter')">filters</A> in the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_F.htm#filter_graph')">filter graph</A> pass to the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_F.htm#filter_graph_manager')">filter graph manager</A>. Filters pass these events to the filter graph manager by using the <A HREF="iface/IMediaEventSink.htm#Notify">IMediaEventSink::Notify</A> method, and the application retrieves them with the <A HREF="iface/IMediaEvent.htm#GetEvent">IMediaEvent::GetEvent</A> method.

<P>When you retrieve an event by calling <A HREF="iface/IMediaEvent.htm#GetEvent">GetEvent</A>, the event can contain interface pointers or pointers to allocated memory. Code that uses <B>GetEvent</B> should, therefore, call <A HREF="iface/IMediaEvent.htm#FreeEventParams">IMediaEvent::FreeEventParams</A> to free any resources associated with the event's parameters after it handles the event.

<P>The system-defined <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_E.htm#event_notification')">event notification</A> codes are listed in the Evcode.h header file. <P>See <A HREF="DVD_Event_Notification_Codes_intro.htm#DVDEvents">DVD Event Notification Codes</A> for event notification codes that are specific to DVD. The following list shows the available event notification codes in alphabetical order. 
<p>The parameters listed with an event notification code are the ones passed with the code in the <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A> function. For example, consider the following statements.
<PRE>
NotifyEvent(EC_OLE_EVENT, (DWORD) bstr, NULL);
NotifyEvent(EC_COMPLETE, S_OK, 0);
NotifyEvent(EC_ERRORABORT, E_FAIL, 0);
</PRE>


<TABLE>
<TR><TH>Event notification code</TH><TH>Description</TH></TR>

<TR><TD><A HREF="Event_Notification_Codes.htm#EC_ACTIVATE">EC_ACTIVATE</A>
 </TD><TD>An audio or video <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_R.htm#renderer')">renderer</A> is losing or gaining activation.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_BUFFERING_DATA">EC_BUFFERING_DATA</A>
 </TD><TD>The buffering status is changing.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_CLOCK_CHANGED">EC_CLOCK_CHANGED</A>
 </TD><TD>The filter graph has changed from one <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_R.htm#reference_clock')">reference clock</A> to another.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_COMPLETE">EC_COMPLETE</A>
 </TD><TD>All data has been rendered.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_DISPLAY_CHANGED">EC_DISPLAY_CHANGED</A>
 </TD><TD>The current display mode has been changed.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_END_OF_SEGMENT">EC_END_OF_SEGMENT</A>
 </TD><TD>Notifies that a segment end has been reached.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_ERROR_STILLPLAYING">EC_ERROR_STILLPLAYING</A>
 </TD><TD>At least one call to <A HREF="class/CBaseFilter.htm#Run">Run</A> failed in an active filter graph. The current state of any underlying filter graph or graphs is indeterminate; they might be running, but some are almost certainly not.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_ERRORABORT">EC_ERRORABORT</A>
 </TD><TD>An error forced the termination of a requested operation.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_FULLSCREEN_LOST">EC_FULLSCREEN_LOST</A>
 </TD><TD>The video renderer is switching out of full-screen mode.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_NEED_RESTART">EC_NEED_RESTART</A>
 </TD><TD>The current graph must be stopped and restarted.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_NOTIFY_WINDOW">EC_NOTIFY_WINDOW</A>
 </TD><TD>Pass the window handle around during <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#pin')">pin</A> connection.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_OLE_EVENT">EC_OLE_EVENT</A>
 </TD><TD>A filter is passing a text string to the application.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_OPENING_FILE">EC_OPENING_FILE</A>
 </TD><TD>The open file status is changing.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_PALETTE_CHANGED">EC_PALETTE_CHANGED</A>
 </TD><TD>The video palette has changed.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_QUALITY_CHANGE">EC_QUALITY_CHANGE</A>
 </TD><TD>The playback quality has changed.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_REPAINT">EC_REPAINT</A>
 </TD><TD>A repaint is required.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_SEGMENT_STARTED">EC_SEGMENT_STARTED</A>
 </TD><TD> Notifies that a new segment has been started.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_SHUTTING_DOWN">EC_SHUTTING_DOWN</A>
 </TD><TD>The filter graph is starting to shut down. DirectShow passes this notification to any <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#plug_in_distributor')">plug-in distributors</A> that support the <A HREF="iface/IMediaEventSink.htm">IMediaEventSink</A> interface.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_STARVATION">EC_STARVATION</A>
 </TD><TD>One of the filters (usually a parser or file <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_S.htm#source_filter')">source filter</A>) isn't receiving enough data. By default, the filter graph manager will pause all running filters, and then return to normal operation when enough data is available.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_STREAM_CONTROL_STARTED">EC_STREAM_CONTROL_STARTED</A>
 </TD><TD>The starting <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_R.htm#reference_time')">reference time</A> from an earlier call to <A HREF="iface/IAMStreamControl.htm#StartAt">IAMStreamControl::StartAt</A> passed.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_STREAM_CONTROL_STOPPED">EC_STREAM_CONTROL_STOPPED</A>
 </TD><TD>The stopping reference time from an earlier call to <A HREF="iface/IAMStreamControl.htm#StopAt">IAMStreamControl::StopAt</A> passed.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_STREAM_ERROR_STILLPLAYING">EC_STREAM_ERROR_STILLPLAYING</A>
 </TD><TD>The stream is still playing, but should not be playing.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_STREAM_ERROR_STOPPED">EC_STREAM_ERROR_STOPPED</A>
 </TD><TD>The stream has stopped, but should not have stopped.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_TIME">EC_TIME</A>
 </TD><TD>The requested reference time occurred.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_USERABORT">EC_USERABORT</A>
 </TD><TD>A user has forced the termination of a requested operation.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_VIDEO_SIZE_CHANGED">EC_VIDEO_SIZE_CHANGED</A>
 </TD><TD>The size of the native video has changed.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_VIDEO_SIZE_AR_CHANGED">EC_VIDEO_SIZE_AR_CHANGED</A>
 </TD><TD>The size or aspect ratio of the native video has changed.
</TD></TR><TR><TD><A HREF="Event_Notification_Codes.htm#EC_WINDOW_DESTROYED">EC_WINDOW_DESTROYED</A>
 </TD><TD>The video renderer's filter is being removed or destroyed.
</TD></TR></TABLE>


<H1><A NAME="EC_ACTIVATE">EC_ACTIVATE</A><HR size=1></H1>
<P>An audio or video renderer is losing or gaining activation. The audio or video renderer sends this event notification.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
</DT><DD>Set to 1 if activation gained, or 0 if lost.
</DD><DT><I>lParam2</I>
 </DT><DD>Pointer to the <A HREF="iface/IBaseFilter.htm">IBaseFilter</A> interface that is sending the event notification.
</DD></DL></BLOCKQUOTE>
<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This event notification is not sent to the application. This notification is used for sound-follows-focus and full-screen switching. To interact in full-screen protocols, a video renderer should send an <B>EC_ACTIVATE</B> notification whenever its window is either activated or deactivated. In other words, an <B>EC_ACTIVATE</B> notification should be sent for each WM_ACTIVATEAPP message received by a renderer.

<p>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>. 
</BLOCKQUOTE>

<H1><A NAME="EC_BUFFERING_DATA">EC_BUFFERING_DATA</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>The buffering status is changing.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
</DT><DD>Set to 1 if starting to buffer data, or 0 if not buffering any more.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This event notification is sent to the application. This notification is used to allow the user interface to indicate that some data (media) is being buffered (loaded) prior to being processed by DirectShow. This notification is also sent when the buffering has stopped.
<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.
</BLOCKQUOTE>

<H1><A NAME="EC_CLOCK_CHANGED">EC_CLOCK_CHANGED</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>The filter graph has changed from one reference clock to another.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Zero.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>One likely cause of this event notification is a call to the <A HREF="iface/IMediaFilter.htm#SetSyncSource">IMediaFilter::SetSyncSource</A> method.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_COMPLETE">EC_COMPLETE</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>All data has been rendered. Renderers send this event notification.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD><A HREF="Error_Success_Codes.htm#HRESULT">HRESULT</A> value of some operation. This can be S_OK.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero or the renderer's <A HREF="iface/IBaseFilter.htm">IBaseFilter</A> pointer.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>The default is not to send this event notification to the application, you can override the default by calling the <A HREF="iface/IMediaEvent.htm#CancelDefaultHandling">IMediaEvent::CancelDefaultHandling</A> method.
No more data should be accepted after the <A HREF="iface/IPin.htm#EndOfStream">EndOfStream</A> method is called on the renderer's <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_I.htm#input_pin')">input pin</A>. Exactly one <B>EC_COMPLETE</B> notification must be sent for each logical stream. Stopping a renderer resets any end-of-stream state that is cached.

<P>Although individual <B>EC_COMPLETE</B> events aren't sent by default, the last individual <B>EC_COMPLETE</B> is sent to the application when all streams have sent one to the filter graph. If the default handling is turned off, the application gets them all (one per stream).  If default handling is enabled, the <I>lParam2</I> argument is null. If it is disabled, <I>lParam2</I> contains the <A HREF="iface/IBaseFilter.htm">IBaseFilter</A> pointer of the sending filter or null if the filter does not provide it. As with all events, call <A HREF="iface/IMediaEvent.htm#FreeEventParams">IMediaEvent::FreeEventParams</A> to release any resources held by the event.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_DISPLAY_CHANGED">EC_DISPLAY_CHANGED</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P> The current display mode has been changed. Renderers send this event notification when they detect a display change.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Pointer to the <A HREF="iface/IPin.htm">IPin</A> interface that should be reconnected by the graph.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This event notification is not sent to the application. Most video renderers pick a format during connection so that the format can be drawn efficiently through GDI. If the user changes the current display mode without restarting the machine, a renderer might find itself with a bad image format connection. In these situations, a renderer might send an <B>EC_DISPLAY_CHANGED</B> event code to the filter graph manager. The first parameter should be the pin that needs reconnecting. The filter graph manager will arrange for the filter graph to be stopped and the pin reconnected. During the subsequent reconnection, the renderer can accept a more appropriate format.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_END_OF_SEGMENT">EC_END_OF_SEGMENT</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>Notifies that a segment end has been reached.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Pointer to a <A HREF="iface/IReferenceClock.htm#REFERENCE_TIME">REFERENCE_TIME</A> value indicating accumulated stream clock
time since the start of the segment. You can compute this time directly as the sum of the previous and current segment durations and the rate applied to each segment. The source adds this time to the time within each segment to get a total elapsed time.

</DD><DT><I>lParam2</I>
 </DT><DD>DWORD value indicating the segment number. Zero based.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>Notifies that a segment end has been reached when the <A HREF="iface/IMediaSeeking.htm#AM_SEEKING_Segment">AM_SEEKING_Segment</A> flag was set for <A HREF="iface/IMediaSeeking.htm#SetPositions">IMediaSeeking::SetPositions</A>. Passes in an <A HREF="iface/IMediaSeeking.htm">IMediaSeeking</A> interface to allow the next segment to be defined by the application.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_ERROR_STILLPLAYING">EC_ERROR_STILLPLAYING</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>A playback error has occurred, but the graph is still playing.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD><A HREF="Error_Success_Codes.htm#HRESULT">HRESULT</A> value of some operation that failed.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL>
</BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_ERRORABORT">EC_ERRORABORT</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>An error forced the termination of a requested operation.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD><A HREF="Error_Success_Codes.htm#HRESULT">HRESULT</A> value of some operation that failed. For instance, this might be <A HREF="Error_Success_Codes.htm#VFW_E_CANNOT_CONNECT">VFW_E_CANNOT_CONNECT</A> if a reconnect failed.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>A filter or the filter graph manager generates this event notification and sends it to the application.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_FULLSCREEN_LOST">EC_FULLSCREEN_LOST</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>The video renderer is switching out of full-screen mode.
 
<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Zero.
</DD><DT><I>lParam2</I>
 </DT><DD>Pointer to the <A HREF="iface/IBaseFilter.htm">IBaseFilter</A> interface that is sending the notification (the Mode X renderer in this case).
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>The full-screen renderer sends this event notification to an application. When the <A HREF="Event_Notification_Codes.htm#EC_ACTIVATE">EC_ACTIVATE</A> notification is sent to the filter graph manager upon switching out of full-screen mode, the filter graph manager sends an <B>EC_FULLSCREEN_LOST</B> notification to the controlling application. The application might use this notification to restore the state of a full-screen button, for example. The <B>EC_ACTIVATE</B> notifications are used internally by DirectShow to manage full-screen switching on cues from the video renderers.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_NEED_RESTART">EC_NEED_RESTART</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>The current graph must be stopped and restarted.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Zero.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>Renderers send this notification when they regain a resource. For example, if a renderer loses contact with a device and rejects the next data sample, the stream must reconnect to the device and restart at the current position to start rendering data again. If the media stream is currently running, DirectShow calls <A HREF="iface/IAMovie.htm#Pause">IAMovie::Pause</A> to pause the stream, <A HREF="iface/IAMovie.htm#put_CurrentPosition">IAMovie::put_CurrentPosition</A> to set the current position, and <A HREF="iface/IAMovie.htm#Run">IAMovie::Run</A> to restart the stream.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>



<H1><A NAME="EC_NOTIFY_WINDOW">EC_NOTIFY_WINDOW</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>Pass the window handle around during pin connection.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Handle to the window.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_OLE_EVENT">EC_OLE_EVENT</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>A filter is passing a text string to the application.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD><A HREF="../appendixes/Further_Reading.htm#BSTR">BSTR</A> for the event notification. The application must free the <B>BSTR</B> by calling the <A HREF="iface/IMediaEvent.htm#FreeEventParams">IMediaEvent::FreeEventParams</A> method.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_OPENING_FILE">EC_OPENING_FILE</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>The open file status is changing.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
</DT><DD>Set to 1 if starting to open file, or 0 if not opening any more.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This event notification is sent to the application. This notification is used to allow the user interface to indicate that a media file is being opened prior to being processed by DirectShow. (Because the file might be on the Internet or some slow device, some opens might take longer.) This notification is also sent when the file has been opened.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_PALETTE_CHANGED">EC_PALETTE_CHANGED</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>The video palette has changed.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Zero.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This event notification is sent to the application and the filter graph manager. Whenever a video renderer detects a palette change in the stream, it should send the <B>EC_PALETTE_CHANGED</B> notification to the filter graph manager. The DirectShow video renderers detect whether a palette has really changed in dynamic format or not. The video renderers do this not only to filter out the number of <B>EC_PALETTE_CHANGED</B> notifications sent, but also to reduce the amount of palette creation, installation, and deletion required.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_QUALITY_CHANGE">EC_QUALITY_CHANGE</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>The playback quality has changed.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Zero.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This event notification is sent to the application from a filter. This notification occurs only once if degradation has occurred and a filter has responded to a quality event notification.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_REPAINT">EC_REPAINT</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>A repaint is required. Paused or stopped video renderers send this message when they receive a WM_PAINT message and there is no data to display.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Pointer to the <A HREF="iface/IPin.htm">IPin</A> interface that needs the data to be sent again.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>The default is not to send this event notification to the application, although the default can be overridden by calling <A HREF="iface/IMediaEvent.htm#CancelDefaultHandling">IMediaEvent::CancelDefaultHandling</A>.
A renderer should send its input pin as the first parameter to the event. By doing this, the attached <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_O.htm#output_pin')">output pin</A> will be queried for <A HREF="iface/IMediaEventSink.htm">IMediaEventSink</A>, and if supported, the <B>EC_REPAINT</B> notification will be sent there first. This allows output pins to handle repaints before the filter graph must be touched.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_SEGMENT_STARTED">EC_SEGMENT_STARTED</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P> Notifies that a new segment has been started.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Pointer to a <A HREF="iface/IReferenceClock.htm#REFERENCE_TIME">REFERENCE_TIME</A> value indicating accumulated stream clock
time since the start of the segment. You can compute this time directly as the sum of the previous and current segment durations and the rate applied to each segment. 
</DD><DT><I>lParam2</I>
 </DT><DD>DWORD value indicating the segment number. Zero based.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This notification is sent synchronously by any entity that will issue <A HREF="Event_Notification_Codes.htm#EC_END_OF_SEGMENT">EC_END_OF_SEGMENT</A> when a new segment is started. See the <A HREF="iface/IMediaSeeking.htm#AM_SEEKING_Segment">AM_SEEKING_Segment</A> flag from <A HREF="iface/IMediaSeeking.htm#SetPositions">IMediaSeeking::SetPositions</A>. This notification is used to compute how many <B>EC_END_OF_SEGMENT</B> notifications to expect at the end of a segment and as a consistency check.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_SHUTTING_DOWN">EC_SHUTTING_DOWN</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>The shutdown of the filter graph is starting.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Zero.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This event notification is not sent to the application. This notification notifies plug-in distributors that the filter graph is shutting down.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_STARVATION">EC_STARVATION</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>A filter has detected starvation.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Zero.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>A filter sends this event notification. This notification is not sent to the application. The default handling of this notification (only when running) is for the graph to be paused until all filters enter the paused state, and then to wait for the pause to complete. The filter which signaled <B>EC_STARVATION</B> should not complete the pause until it has enough data to resume. Normally, this would be sent by a parser or source filter when too little data is arriving.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_STREAM_CONTROL_STARTED">EC_STREAM_CONTROL_STARTED</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>A previous call to the <A HREF="iface/IAMStreamControl.htm#StartAt">IAMStreamControl::StartAt</A> method has taken effect.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>pSender</I>
 </DT><DD>Address of an <A HREF="iface/IPin.htm">IPin</A> interface that will contain the pin that called <A HREF="iface/IAMStreamControl.htm#StartAt">IAMStreamControl::StartAt</A>. 
</DD><DT><I>dwCookie</I>
 </DT><DD><A HREF="../appendixes/Further_Reading.htm#DWORD">DWORD</A> value that you can use to mark the start.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>You can mark calls to this event with <I>dwCookie</I>, allowing applications to easily associate request and completion notifications.

<P>After the completion of this event, <I>pSender</I> will point to the pin that called <A HREF="iface/IAMStreamControl.htm#StartAt">IAMStreamControl::StartAt</A>. This is not necessarily the pin that received the <B>IAMStreamControl::StartAt</B> call.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_STREAM_CONTROL_STOPPED">EC_STREAM_CONTROL_STOPPED</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>A previous call to the <A HREF="iface/IAMStreamControl.htm#StopAt">IAMStreamControl::StopAt</A> method has taken effect.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>pSender</I>
 </DT><DD>Address of an <A HREF="iface/IPin.htm">IPin</A> interface that will contain the pin that called <A HREF="iface/IAMStreamControl.htm#StopAt">IAMStreamControl::StopAt</A>. 
</DD><DT><I>dwCookie</I>
 </DT><DD><A HREF="../appendixes/Further_Reading.htm#DWORD">DWORD</A> value that you can use to mark the stop.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>You can mark calls to this event with <I>dwCookie</I>, allowing applications to easily associate request and completion notifications.

<P>After the completion of this event, <I>pSender</I> will point to the pin that called <A HREF="iface/IAMStreamControl.htm#StopAt">IAMStreamControl::StopAt</A>. This is not necessarily the pin that received the <B>IAMStreamControl::StopAt</B> call.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_STREAM_ERROR_STILLPLAYING">EC_STREAM_ERROR_STILLPLAYING</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>The stream is still playing, but should not be playing.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Major code (<A HREF="Error_Success_Codes.htm#HRESULT">HRESULT</A> of some operation that failed).
</DD><DT><I>lParam2</I>
 </DT><DD>Minor code (generally zero).
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>A filter send this event notification to the filter graph manager and the application.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_STREAM_ERROR_STOPPED">EC_STREAM_ERROR_STOPPED</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>The stream has stopped, but should not have stopped.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Major code (<A HREF="Error_Success_Codes.htm#HRESULT">HRESULT</A> of some operation that failed).
</DD><DT><I>lParam2</I>
 </DT><DD>Minor code (generally zero.).
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This event notification is sent from a filter to the filter graph manager and
the application.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_TIME">EC_TIME</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>The requested reference time occurred.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Reference time, low-order <A HREF="../appendixes/Further_Reading.htm#DWORD">DWORD</A>.
</DD><DT><I>lParam2</I>
 </DT><DD>Reference time, high-order <A HREF="../appendixes/Further_Reading.htm#DWORD">DWORD</A>.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_USERABORT">EC_USERABORT</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>A user has forced the termination of a requested operation.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Zero.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This event notification is sent by video renderers to the filter graph manager and the application. This notification signals a closure that the user requested. For example, this notification would be sent if the user closed the video window. After this notification has been sent, no more samples should be accepted until the renderer has gone through a stop transition. No <A HREF="Event_Notification_Codes.htm#EC_REPAINT">EC_REPAINT</A> notifications should be sent after an <B>EC_USERABORT</B> notification is sent unless the renderer is stopped and reset.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<H1><A NAME="EC_VIDEO_SIZE_CHANGED">EC_VIDEO_SIZE_CHANGED</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>The size of the native video has changed.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Low-order <B>WORD</B> value is the width in pixels; high-order <B>WORD</B> is the height in pixels.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This event notification is sent whenever a video renderer detects a change in native video size. An application might use this notification to negotiate space in a compound document. The actual video dimensions are available through the <A HREF="iface/IBasicVideo.htm">IBasicVideo</A> control interface. The DirectShow renderers detect whether the video has changed size or not prior to sending these events.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>


<H1><A NAME="EC_VIDEO_SIZE_AR_CHANGED">EC_VIDEO_SIZE_AR_CHANGED</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>The size or aspect ratio of the native video has changed.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Low-order <B>WORD</B> value is the width in pixels; high-order <B>WORD</B> is the height in pixels.
</DD><DT><I>lParam2</I>
 </DT><DD>Low-order <B>WORD</B> value is the picture's aspect ratio for the x-axis; hight-order <B>WORD</B> is the picture's aspect ratio for the y-axis.
 </DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This event notification is sent whenever a video renderer detects a change in native video size or a change in the video aspect ratio. The DirectShow renderers detect whether the video has changed size or not prior to sending these events.

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>


<H1><A NAME="EC_WINDOW_DESTROYED">EC_WINDOW_DESTROYED</A><HR size=1></H1>
<A HREF="Event_Notification_Codes.htm">Event Notification Codes</A>
<P>The video renderer's filter is being removed or destroyed. Video renderers send this event notification so that resources that depend on window focus can be passed to other filters.

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>lParam1</I>
 </DT><DD>Pointer to the <A HREF="iface/IBaseFilter.htm">IBaseFilter</A> interface whose window is being destroyed.
</DD><DT><I>lParam2</I>
 </DT><DD>Zero.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This event notification is not sent to the application. A renderer should send this notification when its window is destroyed. The first parameter must be the renderer's <A HREF="iface/IBaseFilter.htm">IBaseFilter</A> interface. In fact, sending this when the filter is being destroyed might be too late, because the filter graph manager might have already been destroyed. Therefore, it is best to handle this when the renderer's <A HREF="iface/IBaseFilter.htm#JoinFilterGraph">IBaseFilter::JoinFilterGraph</A> method is called with a null filter graph (indicating that the renderer is about to be
removed from the filter graph). Sending these event codes allows the plug-in distributor in the filter graph manager to pass on resources that depend on window focus to other filters (such as audio devices).

<P>For information on how to use this event code, see <A HREF="class/CBaseFilter.htm#NotifyEvent">CBaseFilter::NotifyEvent</A>.</BLOCKQUOTE>

<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A HREF="../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
