<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>Assert Macros and Functions</TITLE>
<SCRIPT> var sRelPath = '../../' </SCRIPT>


<META NAME="Description" CONTENT="Assert Macros and Functions">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../../ver.js"></SCRIPT>
<SCRIPT SRC="../../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="AssertStuff"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- Assert Macros and Functions"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- Assert Macros and Functions"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../../contents.htm">Contents</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../../index.htm">Index</A>  <IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="Debugging_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="Debugging_DS.htm">Debugging with DirectShow</A>
<IMG SRC="../../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="Breakpoint_Macros_Function.htm">Breakpoint Macros and Function</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">


<!-- CONTENTS_START -->



<H1>Assert Macros and Functions</H1>

<P>The Microsoft&#174; DirectShow&#153; SDK has three assertion macros: <A HREF="Assert_Macros_Functions.htm#ASSERT">ASSERT</A>, <A HREF="Assert_Macros_Functions.htm#EXECUTE_ASSERT">EXECUTE_ASSERT</A>, and <A HREF="Assert_Macros_Functions.htm#KASSERT">KASSERT</A>. The most commonly used assertion macro is <B>ASSERT</B>. If <B>ASSERT</B> fails, DirectShow displays a message box that lists the file and line number of the macro call. The <B>EXECUTE_ASSERT</B> macro is similar to <B>ASSERT</B> except that the condition will still be evaluated in a build of any kind. The third assertion macro is <B>KASSERT</B>, which is more suitable for pure <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_f.htm#filter')">filters</A>, such as those in the kernel, where the condition is printed onto the debugger rather than to a message box.

<P>There are also two assertion functions: <A HREF="Assert_Macros_Functions.htm#DbgAssert">DbgAssert</A> and <A HREF="Assert_Macros_Functions.htm#DbgKernelAssert">DbgKernelAssert</A>. You should call the assertion functions from assertion macros, rather than from normal code.

<TABLE>
<TR><TD><A HREF="Assert_Macros_Functions.htm#ASSERT">ASSERT</A>
 </TD><TD>Checks an assertion in a <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_D.htm#debug_build')">debug build</A>.
</TD></TR><TR><TD><A HREF="Assert_Macros_Functions.htm#DbgAssert">DbgAssert</A>
 </TD><TD>Handles an assertion failure in a debug build.
</TD></TR><TR><TD><A HREF="Assert_Macros_Functions.htm#DbgKernelAssert">DbgKernelAssert</A>
 </TD><TD>Handles a kernel assertion failure in a debug build.
</TD></TR><TR><TD><A HREF="Assert_Macros_Functions.htm#EXECUTE_ASSERT">EXECUTE_ASSERT</A>
 </TD><TD>Always evaluates a condition; if it is not TRUE in a debug build,
treat this as an assertion failure.
</TD></TR><TR><TD><A HREF="Assert_Macros_Functions.htm#KASSERT">KASSERT</A>
 </TD><TD>Checks a kernel assertion in a debug build.
</TD></TR></TABLE>



<H1><A NAME="ASSERT">ASSERT</A><HR size=1></H1>
<A HREF="Assert_Macros_Functions.htm">Assert Macros and Functions</A>
<P>Evaluates the given condition in a debug build. If the resulting evaluation is false, then <B>ASSERT</B> calls <A HREF="Assert_Macros_Functions.htm#DbgAssert">DbgAssert</A> to handle the assertion failure. <B>DbgAssert</B> can return to its caller later, if the user so desires.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE><P><B>ASSERT</B><B>(</B><BR>&nbsp;&nbsp;<I>cond</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR></PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>cond</I>
 </DT><DD>Boolean expression that defines the condition to evaluate.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>

<BLOCKQUOTE><P>If you use the ASSERT macro, <A HREF="Assert_Macros_Functions.htm#DbgAssert">DbgAssert</A> might display a message box. If this is not acceptable in your environment, you can use <A HREF="Assert_Macros_Functions.htm#KASSERT">KASSERT</A> (kernel assert) instead.

<P>Here are two examples of <B>ASSERT</B> calls:
<PRE>
ASSERT( First != NULL);
ASSERT( StartTime &lt;= EndTime);
</PRE></BLOCKQUOTE>



<H1><A NAME="DbgAssert">DbgAssert</A><HR size=1></H1>
<A HREF="Assert_Macros_Functions.htm">Assert Macros and Functions</A>
<P>Handles an assertion failure in a debug build. <B>DbgAssert</B> will display a message box that includes the condition text, source file name, and source line number. The user will be given the choice to ignore the assertion failure, debug the assertion, or force the application to exit.
Thus <B>DbgAssert</B> might return to the caller, depending on the user's actions.

<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE><P><B>void</B> <B>WINAPI</B> <B>DbgAssert</B><B>(</B><BR>&nbsp;&nbsp;<B>const</B> <B>TCHAR</B> <I>*pCondition</I><B>,</B><BR>&nbsp;&nbsp;<B>const</B> <B>TCHAR</B> <I>*pFileName</I><B>,</B><BR>&nbsp;&nbsp;<B>INT</B> <I>iLine</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR></PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>pCondition</I>
 </DT><DD>Pointer to a string version of a Boolean expression.
</DD><DT><I>pFileName</I>
 </DT><DD>Pointer to a source file name.
</DD><DT><I>iLine</I>
 </DT><DD>Line number within the source file.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This function is available only in a debug build. Usually, <B>DbgAssert</B> will be called by macros such as <A HREF="Assert_Macros_Functions.htm#ASSERT">ASSERT</A>, not directly from other code.

<P>If you use the <A HREF="Assert_Macros_Functions.htm#ASSERT">ASSERT</A> macro, <B>DbgAssert</B> might display a message box. If this is not acceptable in your environment, you can use <A HREF="Assert_Macros_Functions.htm#DbgKernelAssert">DbgKernelAssert</A> instead.</BLOCKQUOTE>



<H1><A NAME="DbgKernelAssert">DbgKernelAssert</A><HR size=1></H1>
<A HREF="Assert_Macros_Functions.htm">Assert Macros and Functions</A>
<P>Called in a debug build to print the condition onto the kernel debugger,
including the condition text, source file name, and source line number.

<P CLASS="ref">Syntax</P><BLOCKQUOTE><PRE><P><B>void</B> <B>WINAPI</B> <B>DbgKernelAssert</B><B>(</B><BR>&nbsp;&nbsp;<B>const</B> <B>TCHAR</B> <I>*pCondition</I><B>,</B><BR>&nbsp;&nbsp;<B>const</B> <B>TCHAR</B> <I>*pFileName</I><B>,</B><BR>&nbsp;&nbsp;<B>INT</B> <I>iLine</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR></PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>pCondition</I>
 </DT><DD>Pointer to a string version of a Boolean expression.
</DD><DT><I>pFileName</I>
 </DT><DD>Pointer to a source file name.
</DD><DT><I>iLine</I>
 </DT><DD>Line number within the source file.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This function is available only in a debug build. Usually, <B>DbgKernelAssert</B> is called by macros such as <A HREF="Assert_Macros_Functions.htm#KASSERT">KASSERT</A>, not directly from other code.

<P>Unlike <A HREF="Assert_Macros_Functions.htm#DbgAssert">DbgAssert</A>, when macros call <B>DbgKernelAssert</B> in a debug build, no message box appears.</BLOCKQUOTE>



<H1><A NAME="EXECUTE_ASSERT">EXECUTE_ASSERT</A><HR size=1></H1>
<A HREF="Assert_Macros_Functions.htm">Assert Macros and Functions</A>
<P>Evaluates the condition. In a debug build, if the resulting value is not TRUE,
then the <B>EXECUTE_ASSERT</B> macro will invoke <A HREF="Assert_Macros_Functions.htm#DbgAssert">DbgAssert</A> to handle
the assertion failure. <B>DbgAssert</B> might return to the caller, depending on the user's actions.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE><P><B>EXECUTE_ASSERT</B><B>(</B><BR>&nbsp;&nbsp;<I>cond</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR></PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>cond</I>
 </DT><DD>Condition (a Boolean expression), which is always evaluated. This contrasts with <A HREF="Assert_Macros_Functions.htm#ASSERT">ASSERT</A> and many other traditional assertion macros, which do not evaluate the condition in nondebug builds.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>If you use the EXECUTE_ASSERT macro in a debug build, <A HREF="Assert_Macros_Functions.htm#DbgAssert">DbgAssert</A> might display a message box. If this is not acceptable in your environment, you can use
<A HREF="Assert_Macros_Functions.htm#KASSERT">KASSERT</A> (kernel assert) instead.</BLOCKQUOTE>



<H1><A NAME="KASSERT">KASSERT</A><HR size=1></H1>
<A HREF="Assert_Macros_Functions.htm">Assert Macros and Functions</A>
<P>In a debug build, if the condition evaluates to FALSE,
the <B>KASSERT</B> macro prints the condition on the kernel debugger,
including the file name and line number.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE><P><B>KASSERT</B><B>(</B><BR>&nbsp;&nbsp;<I>cond</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR></PRE></BLOCKQUOTE>

<P CLASS="ref">Parameters</P>
<BLOCKQUOTE><DL><DT><I>cond</I>
 </DT><DD>Condition (a Boolean expression). 
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>This macro is ignored unless <A HREF="../../appendixes/Reserved_Identifiers.htm#DEBUG">DEBUG</A> is defined when the Microsoft&reg; DirectShow&reg; headers are included.

<P>Unlike <A HREF="Assert_Macros_Functions.htm#ASSERT">ASSERT</A> and <A HREF="Assert_Macros_Functions.htm#EXECUTE_ASSERT">EXECUTE_ASSERT</A>, if you use this macro in a debug build no message box will appear.</BLOCKQUOTE>

<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A Class="line" HREF="../../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
