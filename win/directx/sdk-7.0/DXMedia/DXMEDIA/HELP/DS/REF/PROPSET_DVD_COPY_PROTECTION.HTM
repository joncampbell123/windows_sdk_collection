<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>DVD Copy Protection Property Set</TITLE>
<SCRIPT> var sRelPath = '../' </SCRIPT>


<META NAME="Description" CONTENT="DVD Copy Protection Property Set">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../ver.js"></SCRIPT>
<SCRIPT SRC="../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="Propset_2"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- DVD Copy Protection Property Set"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- DVD Copy Protection Property Set"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../contents.htm">Contents</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../index.htm">Index</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="cref_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="propset_DVD_Subpicture.htm">DVD Subpicture Property Set</A>
<IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="propset_Pin.htm">Pin Property Set</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">


<!-- CONTENTS_START -->

<H1>DVD Copy Protection Property Set</H1>

<P>The DVD Copy Protection property set provides authentication of copy protection information from hardware or software decrypters. Use this property set to prevent unauthorized copying from prerecorded DVD-Video.

<P>Microsoft provides software that facilitates the authentication process required by the encryption scheme, thus enabling a DVD-ROM drive to authenticate and transfer keys with a DVD decrypter. Microsoft has no current plans to ship a DVD decrypter and, instead, is providing operating system code that will act as the agent to enable authentication of either hardware or software decrypters.

<P>The DVD navigator initiates and controls the key exchange process. The DVD <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_M.htm#minidriver')">minidriver</A> needs only to implement the following properties. Other components handle the rest.

<P>Each DVD input stream will receive copy protection properties. This is true even if the same hardware controls all DVD streams.

<P>The following information presents the necessary constants and data types to use for this property set in calls to <A HREF="iface/IKsPropertySet.htm">IKsPropertySet</A> methods. It provides values for the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_G.htm#GUID')">GUID</A> (<I>guidPropSet</I>), property ID (<I>dwPropID</I>), and property data type (<I>pPropData</I>) parameters.

<P><B>Property Set GUID:</B> <B><A NAME="AM_KSPROPSETID_CopyP">AM_KSPROPSETID_CopyProt</A></B>

<TABLE>
<TR><TH>Property ID</TH><TH>Data type used by the specified property</TH></TR>

 <TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_PROPERTY_COPY_MAC">AM_PROPERTY_COPY_MACROVISION</A> </TD><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_COPY_MACROVISION">AM_COPY_MACROVISION</A>
 </TD></TR><TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_CHLG_KEY</A> </TD><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_CHLGKEY">AM_DVDCOPY_CHLGKEY</A>
 </TD></TR><TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_DEC_KEY2</A> </TD><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_BUSKEY">AM_DVDCOPY_BUSKEY</A>
 </TD></TR><TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_DISC_KEY</A> </TD><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_DISCKEY">AM_DVDCOPY_DISCKEY</A>
 </TD></TR><TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_DVD_KEY1</A> </TD><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_BUSKEY">AM_DVDCOPY_BUSKEY</A>
 </TD></TR><TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_REGION</A> </TD><TD>The DVD_REGION structure.
 </TD></TR><TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_SET_COPY_STATE</A> </TD><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_SET_COPY_STATE">AM_DVDCOPY_SET_COPY_STATE</A>
 </TD></TR><TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_TITLE_KEY</A> </TD><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_TITLEKEY">AM_DVDCOPY_TITLEKEY</A>
</TD></TR></TABLE>

<P>The following list provides the DVD Copy Protection property IDs and descriptions.
<DL>
<DT><B><A NAME="AM_PROPERTY_COPY_MAC">AM_PROPERTY_COPY_MACROVISION</A></B>
 </DT><DD>This is a set-only property. This property sets the Macrovision level for the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_N.htm#NTSC')">NTSC</A> encoder on the output end of the receiving pin.
</DD><DT><B><A NAME="AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_CHLG_KEY</A></B>
 </DT><DD>Both get and set operations are supported on this property. A get operation requests the decoder to provide its bus challenge key. A set operation provides the decoder with the bus challenge key from the DVD drive. The data passed in this property will be a structure of type <A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_CHLGKEY">AM_DVDCOPY_CHLGKEY</A>. 
</DD><DT><B><A NAME="AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_DEC_KEY2</A></B>
 </DT><DD>This is a get-only property. This property requests that the decoder's bus key 2 be transferred to the DVD drive. The data passed will be a structure of type <A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_BUSKEY">AM_DVDCOPY_BUSKEY</A>.
 </DD><DT><B><A NAME="AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_DISC_KEY</A></B>
 </DT><DD>Set-only property. This provides disc key. The key is a structure of type <A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_DISCKEY">AM_DVDCOPY_DISCKEY</A>. 
</DD><DT><B><A NAME="AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_DVD_KEY1</A></B>
 </DT><DD>This is a set-only property. This property provides the DVD drive bus key 1 to the decoder. The data passed will be a structure of type <A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_BUSKEY">AM_DVDCOPY_BUSKEY</A>. 
</DD><DT><B><A NAME="AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_SET_COPY_STATE</A></B>
 </DT><DD>Both get and set are supported on this property. Get is called first to determine if authentication is required. The set properties are indications as to which phase of copy protection negotiation the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_f.htm#filter')">filter</A> is entering. The data passed will be a structure of type <A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_SET_COPY_STATE">AM_DVDCOPY_SET_COPY_STATE</A>.
</DD><DT><B><A NAME="AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_REGION</A></B>
 </DT><DD>Region code requests the region definition that the decoder is allowed to play in as defined by the DVD consortium. This region is defined by the following structure:
<PRE CLASS="syntax">
typedef struct _DVD_REGION {
   UCHAR CopySystem;   //specifies whether the disk is copy protected
   UCHAR RegionData;    //information about the region from decoder
   UCHAR SystemRegion;  //information about region from DVD drive
   UCHAR Reserved; //reserved
} DVD_REGION, *PDVD_REGION;
</PRE>

</DD><DT><B><A NAME="AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_TITLE_KEY</A></B>
 </DT><DD>This is a set-only property. This provides title key from current content. The key is a structure of type <A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_TITLEKEY">AM_DVDCOPY_TITLEKEY</A>.
</DD></DL>
<P>Use the <A HREF="iface/IKsPropertySet.htm">IKsPropertySet</A> interface to set, retrieve, and query for support of these properties.

<P>This property set uses the following data types.
<TABLE>
<TR><TH>Data type</TH><TH>Description</TH></TR>

<TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_COPY_MACROVISION">AM_COPY_MACROVISION</A> </TD><TD>Macrovision level for the NTSC encoder.
</TD></TR><TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_COPY_MACROVISION_LEVEL">AM_COPY_MACROVISION_LEVEL</A> </TD><TD>Macrovision level. The <A HREF="propset_DVD_Copy_Protection.htm#AM_COPY_MACROVISION">AM_COPY_MACROVISION</A> structure uses this data type.
</TD></TR><TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_BUSKEY">AM_DVDCOPY_BUSKEY</A> </TD><TD>DVD bus key.
</TD></TR><TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_CHLGKEY">AM_DVDCOPY_CHLGKEY</A> </TD><TD>DVD challenge key.
</TD></TR><TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_DISCKEY">AM_DVDCOPY_DISCKEY</A> </TD><TD>DVD disc key. 
</TD></TR><TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_SET_COPY_STATE">AM_DVDCOPY_SET_COPY_STATE</A> </TD><TD>Determines the copy protection state of the filter.
</TD></TR><TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPYSTATE">AM_DVDCOPYSTATE</A> </TD><TD>Copy protection state. The <A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_SET_COPY_STATE">AM_DVDCOPY_SET_COPY_STATE</A> structure uses this data type.
</TD></TR><TR><TD><A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_TITLEKEY">AM_DVDCOPY_TITLEKEY</A> </TD><TD>DVD title key from the current content.
</TD></TR></TABLE>

<H1><A NAME="AM_COPY_MACROVISION">AM_COPY_MACROVISION</A><HR size=1></H1>
<A HREF="propset_DVD_Copy_Protection.htm">DVD Copy Protection Property Set</A>
<P>Macrovision level for the NTSC encoder.


<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE CLASS="syntax">
typedef struct _AM_COPY_MACROVISION {
&#009;ULONG MACROVISIONLevel;
} AM_COPY_MACROVISION, *PAM_COPY_MACROVISION;
</PRE></BLOCKQUOTE>

<P CLASS="ref">Members</P>
<BLOCKQUOTE><DL><DT><B><A NAME="MACROVISIONLevel">MACROVISIONLevel</A></B>
 </DT><DD>Macrovision level for the NTSC encoder. Member of the <A HREF="propset_DVD_Copy_Protection.htm#AM_COPY_MACROVISION_LEVEL">AM_COPY_MACROVISION_LEVEL</A> enumerated data type.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>The <A HREF="propset_DVD_Copy_Protection.htm#AM_PROPERTY_COPY_MAC">AM_PROPERTY_COPY_MACROVISION</A> property uses this structure.</BLOCKQUOTE>

<H1><A NAME="AM_COPY_MACROVISION_LEVEL">AM_COPY_MACROVISION_LEVEL</A><HR size=1></H1>
<A HREF="propset_DVD_Copy_Protection.htm">DVD Copy Protection Property Set</A>
<P>Macrovision level.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE CLASS="syntax">
typedef enum {
&#009;AM_MACROVISION_DISABLED,
&#009;AM_MACROVISION_LEVEL1,
&#009;AM_MACROVISION_LEVEL2,
&#009;AM_MACROVISION_LEVEL3
} AM_COPY_MACROVISION_LEVEL, *PAM_COPY_MACROVISION_LEVEL;
</PRE></BLOCKQUOTE>

<P CLASS="ref">Elements</P>
<BLOCKQUOTE><DL><DT><A NAME="AM_MACROVISION_DISAB">AM_MACROVISION_DISABLED</A>
 </DT><DD>Disabled.
</DD><DT><A NAME="AM_MACROVISION_LEVEL">AM_MACROVISION_LEVEL1</A>
 </DT><DD>Level 1.
</DD><DT><A NAME="AM_MACROVISION_LEVEL">AM_MACROVISION_LEVEL2</A>
 </DT><DD>Level 2.
</DD><DT><A NAME="AM_MACROVISION_LEVEL">AM_MACROVISION_LEVEL3</A>
 </DT><DD>Level 3.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>The <A HREF="propset_DVD_Copy_Protection.htm#AM_COPY_MACROVISION">AM_COPY_MACROVISION</A> structure uses this data type.</BLOCKQUOTE>

<H1><A NAME="AM_DVDCOPY_BUSKEY">AM_DVDCOPY_BUSKEY</A><HR size=1></H1>
<A HREF="propset_DVD_Copy_Protection.htm">DVD Copy Protection Property Set</A>
<P>DVD bus key.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE CLASS="syntax"> typedef struct _AM_DVDCOPY_BUSKEY {
    BYTE BusKey[5];
    BYTE Reserved[1];
} AM_DVDCOPY_BUSKEY, *PAM_DVDCOPY_BUSKEY;
</PRE></BLOCKQUOTE>

<P CLASS="ref">Members</P>
<BLOCKQUOTE><DL><DT><B><A NAME="BusKey">BusKey</A></B>
 </DT><DD>DVD drive bus key.
</DD><DT><B>Reserved</B>
 </DT><DD>Reserved.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>The <A HREF="propset_DVD_Copy_Protection.htm#AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_DVD_KEY1</A> and <A HREF="propset_DVD_Copy_Protection.htm#AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_DEC_KEY2</A> properties use this structure.

<P>A bus key is used for the DVD CSS key exchange for decryption. Implementors should get a CSS license and further instructions from CSS. See <A HREF="iface/IDvdControl.htm#DVD_Video_specificat">DVD-Video specification</A> for contact information.</BLOCKQUOTE>

<H1><A NAME="AM_DVDCOPY_CHLGKEY">AM_DVDCOPY_CHLGKEY</A><HR size=1></H1>
<A HREF="propset_DVD_Copy_Protection.htm">DVD Copy Protection Property Set</A>
<P>DVD challenge key.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE CLASS="syntax"> typedef struct _AM_DVDCOPY_CHLGKEY {
    BYTE ChlgKey[10];
    BYTE Reserved[2];
} AM_DVDCOPY_CHLGKEY, *PAM_DVDCOPY_CHLGKEY;
</PRE></BLOCKQUOTE>

<P CLASS="ref">Members</P>
<BLOCKQUOTE><DL><DT><B><A NAME="ChlgKey">ChlgKey</A></B>
 </DT><DD>Challenge key. 
</DD><DT><B>Reserved</B>
 </DT><DD>Reserved.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>The <A HREF="propset_DVD_Copy_Protection.htm#AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_CHLG_KEY</A> property uses this structure.
<P>A challenge key is used for the DVD CSS key exchange for decryption. Implementors should get a CSS license and further instructions from CSS. See <A HREF="iface/IDvdControl.htm#DVD_Video_specificat">DVD-Video specification</A> for contact information.</BLOCKQUOTE>

<H1><A NAME="AM_DVDCOPY_DISCKEY">AM_DVDCOPY_DISCKEY</A><HR size=1></H1>
<A HREF="propset_DVD_Copy_Protection.htm">DVD Copy Protection Property Set</A>
<P>DVD disc key. 

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE CLASS="syntax"> typedef struct _AM_DVDCOPY_DISCKEY {
    BYTE DiscKey[2048];
} AM_DVDCOPY_DISCKEY, *PAM_DVDCOPY_DISCKEY;
</PRE></BLOCKQUOTE>

<P CLASS="ref">Members</P>
<BLOCKQUOTE><DL><DT><B><A NAME="DiscKey">DiscKey</A></B>
 </DT><DD>DVD disc key.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>The <A HREF="propset_DVD_Copy_Protection.htm#AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_DISC_KEY</A> property uses this structure.
<P>A disc key is used for the DVD CSS key exchange for decryption. Implementors should get a CSS license and further instructions from CSS. See <A HREF="iface/IDvdControl.htm#DVD_Video_specificat">DVD-Video specification</A> for contact information.</BLOCKQUOTE>

<H1><A NAME="AM_DVDCOPY_SET_COPY_STATE">AM_DVDCOPY_SET_COPY_STATE</A><HR size=1></H1>
<A HREF="propset_DVD_Copy_Protection.htm">DVD Copy Protection Property Set</A>
<P>Determines the copy protection state of the filter.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE CLASS="syntax">
typedef struct AM_DVDCOPY_SET_COPY_STATE {
&#009;ULONG DVDCopyState;
} AM_DVDCOPY_SET_COPY_STATE, *PAM_DVDCOPY_SET_COPY_STATE;
</PRE></BLOCKQUOTE>

<P CLASS="ref">Members</P>
<BLOCKQUOTE><DL><DT><B><A NAME="DVDCopyState">DVDCopyState</A></B>
 </DT><DD>Copy protection state of the filter. Member of the <A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPYSTATE">AM_DVDCOPYSTATE</A> enumerated data type.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>Both the <A HREF="iface/IKsPropertySet.htm#Set">IKsPropertySet::Get</A> and <A HREF="iface/IKsPropertySet.htm#Set">IKsPropertySet::Set</A> methods are supported on this property. The <B>IKsPropertySet::Get</B> method is called first to determine if authentication is required. If a filter provides multiple pins that use the same authenticator, such as a hardware DVD decoder, the decoder might respond with <A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPYSTATE_AUTH">AM_DVDCOPYSTATE_AUTHENTICATION_NOT_REQUIRED</A> on some pins to indicate that the key exchange algorithm only needs to be applied once. The filter should respond with <A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPYSTATE_AUTH">AM_DVDCOPYSTATE_AUTHENTICATION_REQUIRED</A> to get the copy protection state property on the first <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#pin')">pin</A> where this property is issued.

<P>The <A HREF="iface/IKsPropertySet.htm#Set">IKsPropertySet::Set</A> method is used to indicate which phase of copy protection negotiation the filter is entering. Specify these by setting the required flag in the <A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPYSTATE">AM_DVDCOPYSTATE</A> enumerated type.

<P>The <A HREF="propset_DVD_Copy_Protection.htm#AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_SET_COPY_STATE</A> property uses this structure.</BLOCKQUOTE>

<H1><A NAME="AM_DVDCOPYSTATE">AM_DVDCOPYSTATE</A><HR size=1></H1>
<A HREF="propset_DVD_Copy_Protection.htm">DVD Copy Protection Property Set</A>
<P>Copy protection state.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE CLASS="syntax">typedef enum {
&#009;AM_DVDCOPYSTATE_INITIALIZE,
AM_DVDCOPYSTATE_INITIALIZE_TITLE,&#009;
&#009;AM_DVDCOPYSTATE_AUTHENTICATION_NOT_REQUIRED, 
&#009;AM_DVDCOPYSTATE_AUTHENTICATION_REQUIRED,&#009;      
&#009;AM_DVDCOPYSTATE_DONE
} AM_DVDCOPYSTATE;
</PRE></BLOCKQUOTE>

<P CLASS="ref">Elements</P>
<BLOCKQUOTE><DL><DT><B><A NAME="AM_DVDCOPYSTATE_INIT">AM_DVDCOPYSTATE_INITIALIZE</A></B>
 </DT><DD>Starting a full key-exchange algorithm.
</DD><DT><B><A NAME="AM_DVDCOPYSTATE_INIT">AM_DVDCOPYSTATE_INITIALIZE_TITLE</A></B>
 </DT><DD>Starting a title key-exchange algorithm.
</DD><DT><B><A NAME="AM_DVDCOPYSTATE_AUTH">AM_DVDCOPYSTATE_AUTHENTICATION_NOT_REQUIRED</A></B>
 </DT><DD>Authentication is not required.
</DD><DT><B><A NAME="AM_DVDCOPYSTATE_AUTH">AM_DVDCOPYSTATE_AUTHENTICATION_REQUIRED</A></B>
 </DT><DD>Authentication required.
</DD><DT><B><A NAME="AM_DVDCOPYSTATE_DONE">AM_DVDCOPYSTATE_DONE</A></B>
 </DT><DD>Key exchange negotiation is complete.
</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>The <A HREF="propset_DVD_Copy_Protection.htm#AM_DVDCOPY_SET_COPY_STATE">AM_DVDCOPY_SET_COPY_STATE</A> structure uses this data type.</BLOCKQUOTE>

<H1><A NAME="AM_DVDCOPY_TITLEKEY">AM_DVDCOPY_TITLEKEY</A><HR size=1></H1>
<A HREF="propset_DVD_Copy_Protection.htm">DVD Copy Protection Property Set</A>
<P>DVD title key from the current content.

<P CLASS="ref">Syntax</P>
<BLOCKQUOTE><PRE CLASS="syntax"> typedef struct AM_DVDCOPY_TITLEKEY {
    ULONG KeyFlags;
    UCHAR TitleKey[6];
    UCHAR Reserved[2];
} AM_DVDCOPY_TITLEKEY, *PAM_DVDCOPY_TITLEKEY;
</PRE></BLOCKQUOTE>

<P CLASS="ref">Members</P>
<BLOCKQUOTE><DL><DT><B><A NAME="KeyFlags">KeyFlags</A></B>
 </DT><DD>Key flags. 
</DD><DT><B><A NAME="TitleKey">TitleKey</A></B>
 </DT><DD>Title key.
</DD><DT><B>Reserved</B>
 </DT><DD>Reserved.



</DD></DL></BLOCKQUOTE>

<P CLASS="ref">Remarks</P>
<BLOCKQUOTE><P>The <A HREF="propset_DVD_Copy_Protection.htm#AM_PROPERTY_DVDCOPY_">AM_PROPERTY_DVDCOPY_TITLE_KEY</A> property uses this structure.
<P>A title key is used for the DVD CSS key exchange for decryption. Implementors should get a CSS license and further instructions from CSS. See <A HREF="iface/IDvdControl.htm#DVD_Video_specificat">DVD-Video specification</A> for contact information.</BLOCKQUOTE>

<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A HREF="../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
