<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>Renderer Filters</TITLE>
<SCRIPT> var sRelPath = '../' </SCRIPT>


<META NAME="Description" CONTENT="Renderer Filters">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../ver.js"></SCRIPT>
<SCRIPT SRC="../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="RendererFilters"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../contents.htm">Contents</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../index.htm">Index</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="ds_Samples_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="Transform_Filters.htm">Transform Filters</A>
<IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="Cutlist_Samp_Apps.htm">Cutlist Sample Applications</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">


<!-- CONTENTS_START -->

<H1>Renderer Filters</H1>

<P>This article describes sample <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_R.htm#renderer')">renderer</A> <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_f.htm#filter')">filters</A>. The filters render video output, audio output, text output, and raw file output. 

<P>This article contains the following sections.
<UL>
<LI><A HREF="Renderer_Filters.htm#SampleDump">Dump Sample (Dump Filter)</A>
<LI><A HREF="Renderer_Filters.htm#SampVid">SampVid Sample (Video Renderer Filter)</A>
<LI><A HREF="Renderer_Filters.htm#SampleScope">Scope Sample (Oscilloscope Filter)</A>
<LI><A HREF="Renderer_Filters.htm#Text_Renderer_Filter">TextOut Sample (Text Display Filter)</A>
</UL>

<H2><A NAME="SampleDump">Dump Sample (Dump Filter)</A></H2>
<P>The sample file dump filter, Dump, illustrates the use of the base filter class <A HREF="../ref/class/CBaseFilter.htm">CBaseFilter</A> and the rendered <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_I.htm#input_pin')">input pin</A> class <A HREF="../ref/class/CRenderedInputPin.htm">CRenderedInputPin</A>. This sample also uses the <A HREF="../ref/iface/IFileSinkFilter.htm">IFileSinkFilter</A> interface. The Dump filter demonstrates how to override the <A HREF="../ref/class/CRendererInputPin.htm#Receive">Receive</A> method of the rendered input pin class to process actual media samples. The filter is also a "renderer" of its input stream. (That is, this filter doesn't fit the traditional definition of rendering audibly or visibly, although it is a "renderer filter.") The Dump filter delivers the <A HREF="../ref/Event_Notification_Codes.htm#EC_COMPLETE">EC_COMPLETE</A> notification to the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_F.htm#filter_graph')">filter graph</A> when it receives a call to <B>CDumpInputPin::EndOfStream</B> on its input pin.

<P>This filter is a useful debugging tool. For example, you can verify, bit by bit, the results of a <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_T.htm#transform_filter')">transform filter</A>. You can build a graph manually by using the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_F.htm#Filter_Graph_Editor')">Filter Graph Editor</A>, and connect the Dump filter to the output of a transform filter or any other <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_O.htm#output_pin')">output pin</A>. You can also connect a tee filter and put the Dump filter on one leg of the tee filter and the typical output on another leg to monitor the results in a real-time scenario. 


<P>The Dump filter has a single input pin, which is dumped to a file. The filter prompts the user for a file name when it is instantiated and closes the file when it is freed.

<P>This filter is installed with the DirectShow <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_R.htm#run_time')">run time</A> and is available through the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, and select the DirectShow Filters category.


<P><A HREF="DS_Samples_intro.htm#sample_locations">Sample Locations</A>


<H2><A NAME="SampVid">SampVid Sample (Video Renderer Filter)</A></H2>
<P>The sample video renderer filter, SampVid, displays video inside a window. SampVid demonstrates the implementation of a special memory allocator, the <A HREF="../ref/class/CImageAllocator.htm">CImageAllocator</A> class, which uses buffers based on the Microsoft Win32&#174; <A HREF="../appendixes/Further_Reading.htm#DIBSECTION">DIBSECTION</A> structure. This sample shows use of the <A HREF="../ref/class/CBaseVideoRenderer.htm">CBaseVideoRenderer</A> class, which handles all the seeking, synchronization and quality management necessary for video renderers. Other base classes used include, among others:
<UL><LI><A HREF="../ref/class/CBaseControlVideo.htm">CBaseControlVideo</A>
<LI><A HREF="../ref/class/CBaseControlWindow.htm">CBaseControlWindow</A>
<LI><A HREF="../ref/class/CDrawImage.htm">CDrawImage</A>
<LI><A HREF="../ref/class/CImageAllocator.htm">CImageAllocator</A>
<LI><A HREF="../ref/class/CImageDisplay.htm">CImageDisplay</A>
<LI><A HREF="../ref/class/CImagePalette.htm">CImagePalette</A>
<LI><A HREF="../ref/class/CMediaType.htm">CMediaType</A>
</UL>
<P>This sample also shows the use of the property page interface <A HREF="../ref/iface/IQualProp.htm">IQualProp</A>, which addresses quality management.

<P>This filter is installed with the DirectShow run time and is available through the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, and select the DirectShow Filters category.

<P><A HREF="DS_Samples_intro.htm#sample_locations">Sample Locations</A>



<H2><A NAME="SampleScope">Scope Sample (Oscilloscope Filter)</A></H2>
<P>The oscilloscope sample filter, Scope, illustrates the use of the base filter class <A HREF="../ref/class/CBaseFilter.htm">CBaseFilter</A> and the base input pin class <A HREF="../ref/class/CBaseInputPin.htm">CBaseInputPin</A>. 

<P>Other than the video renderer sample, Scope is the only sample filter that has a constantly active window. 

<P><B>Note</B>  The Scope window is implemented as a dialog box, not as an actual window.
<P>Developers creating control panels to alter filter parameters in real time might want to use a technique like this rather than property pages.

<P>The Scope filter demonstrates setting up a separate thread to process data. In this case, the data is just copied to a separate buffer on the <A HREF="../ref/iface/IMemInputPin.htm#Receive">IMemInputPin::Receive</A> method, and is then drawn on the Scope window on the separate thread.

<P>The filter demonstrates how to apply DirectShow&#153; outside the rather narrow domain of multimedia playback. DirectShow has wide application in the diverse areas of:
<UL><LI>Process control
<LI>Factory automation
<LI>Image processing and analysis
<LI>Virtual lab instrumentation
</UL>
<P>All of these areas have semi real-time requirements, but additionally emphasize user interaction and the display of gauges, monitors, signal generators, alarms, and other forms of graphical display of analyzed results.

<P>The Scope filter also enables you to monitor audio output to determine if you are clipping, so you can adjust the gain.

<P>This filter is installed with the DirectShow run time and is available through the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, and select the DirectShow Filters category.

<P><A HREF="DS_Samples_intro.htm#sample_locations">Sample Locations</A>



<H2><A NAME="Text_Renderer_Filter">TextOut Sample (Text Display Filter)</A></H2>
<P>The sample text renderer filter, TextOut, serves as an example of a renderer filter that is for a user-defined type. It can render text data found in an AVI file or other source. The TextOut filter demonstrates the use of the <A HREF="../ref/class/CBaseReferenceClock.htm">CBaseRenderer</A> class, which handles all the synchronization and seeking although it doesn't have any quality management implementation. To get quality management, derive your classes from <A HREF="../ref/class/CBaseVideoRenderer.htm">CBaseVideoRenderer</A> instead. This sample also uses the <A HREF="../ref/class/CBaseWindow.htm">CBaseWindow</A> class.

<P>This renderer creates and uses a simple window to display each piece of text it receives.

<P>This filter is installed with the DirectShow run time and is available through the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, and select the DirectShow Filters category.

<P><A HREF="DS_Samples_intro.htm#sample_locations">Sample Locations</A>


<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A HREF="../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
