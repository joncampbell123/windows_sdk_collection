<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>Using the Filter Graph Editor</TITLE>
<SCRIPT> var sRelPath = '../' </SCRIPT>


<META NAME="Description" CONTENT="Using the Filter Graph Editor">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../ver.js"></SCRIPT>
<SCRIPT SRC="../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="graphedit_tutorial"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../contents.htm">Contents</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../index.htm">Index</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="Basics_Intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="About_DS_Filter_Graph_Editor.htm">About the DirectShow Filter Graph Editor</A>
<IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="COM_Oview.htm">COM Overview</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">



<!-- CONTENTS_START -->

<H1>Using the Filter Graph Editor</H1>

<P>This article steps through how to open and use the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_F.htm#Filter_Graph_Editor')">Filter Graph Editor</A> (GraphEdit) to create <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_F.htm#filter_graph')">filter graphs</A> and to play them back. For an introduction to GraphEdit, see <A HREF="About_DS_Filter_Graph_Editor.htm">About the DirectShow Filter Graph Editor</A>.

<P>This article contains the following sections:
<UL>
<LI><A HREF="Using_Filter_Graph_Editor.htm#graphedit_start">Starting GraphEdit</A>
<LI><A HREF="Using_Filter_Graph_Editor.htm#graphedit_new">Creating a New Filter Graph</A>
<LI><A HREF="Using_Filter_Graph_Editor.htm#graphedit_run">Running and Editing a Filter Graph</A>
<LI><A HREF="Using_Filter_Graph_Editor.htm#graphedit_properties">Viewing Properties in GraphEdit</A>
</UL>

<H2><A NAME="graphedit_start">Starting GraphEdit</A></H2>
<P>Start GraphEdit in one of the following ways:

<UL><LI>Click <B>Start</B>, and then point to <B>Programs</B>. On the DirectX Media SDK submenu, click <B>GraphEdit</B>.
<LI>Open the DXMedia\Bin folder (assuming the default installation directory for the DirectX Media SDK) and double-click the Graphedt icon.
<LI>Drag and drop a multimedia file, such as .avi or .mpg, onto the Graphedt icon.
</UL>

<H2><A NAME="graphedit_new">Creating a New Filter Graph</A></H2>
<P>This section discusses ways to create a new filter graph using GraphEdit. It contains the following topics:

<UL>
<LI><A HREF="Using_Filter_Graph_Editor.htm#graphedit_new_1">Drag Files onto GraphEdit</A>
<LI><A HREF="Using_Filter_Graph_Editor.htm#graphedit_new_2">Use the Open Command</A>
<LI><A HREF="Using_Filter_Graph_Editor.htm#graphedit_new_3">Use the Render Media File Command</A>
<LI><A HREF="Using_Filter_Graph_Editor.htm#graphedit_new_4">Manually Build a Filter Graph</A>
</UL>

<H3><A NAME="graphedit_new_1">Drag Files onto GraphEdit</A></H3>
<P>If GraphEdit is not running, you can drag a multimedia file, such as .avi or .mpg, onto the Graphedt icon and GraphEdit will run and automatically build the filter graph for the media file. 

<P>If GraphEdit is already running, drag a multimedia file into its client area to have it automatically build the filter graph.

<H3><A NAME="graphedit_new_2">Use the Open Command</A></H3>
<P>Choose the <B>Open</B> command from the GraphEdit <B>File</B> menu, or choose the <B>Open</B> button from the GraphEdit toolbar, to open a media file or saved filter graph file (.grf). GraphEdit automatically generates the complete filter graph.

<H3><A NAME="graphedit_new_3">Use the Render Media File Command</A></H3>
<P>You can use the GraphEdit <B>Render Media File</B> command to automatically generate the complete filter graph for a multimedia source.

<P>To generate a complete filter graph for a given source file, perform the following steps:
<OL><LI>On the <B>File</B> menu, click <B>Render Media File</B>.
<LI>From the "Select a file to be rendered" dialog box, choose a multimedia source file, such as a .avi, .mpg, or .wav file.
<LI>Click <B>Open</B>.
</OL>
<P>GraphEdit adds and connects all <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_f.htm#filter')">filters</A> needed to render the source file automatically. 

<H3><A NAME="graphedit_new_4">Manually Build a Filter Graph</A></H3>
<P>To create an empty filter graph and manually add filters and connections, perform the following steps. This example assumes you want to play a file from your hard disk.

<OL>
<LI>On the <B>File</B> menu, click <B>New</B> to create a new filter graph. 
<LI>On the <B>Graph</B> menu, click <B>Insert Filters</B>. GraphEdit displays the "Which filters do you want to insert?" dialog box, which contains a list of filter categories.
<LI>Click the plus symbol (+) immediately to the left of the DirectShow Filters category to see the drop-down list of filters. The plus symbol becomes a minus symbol (&#150;) when the list is expanded, as the following illustration shows. Click the minus symbol to contract the list.

<P><IMG SRC="../art/gedit12.gif" WIDTH="458" HEIGHT="271" ALT="&quot;Which filters do you want to insert&quot; dialog box">

<LI>Select File Source (Async) from the filter list (scrolling if necessary) and click the <B>Insert Filters</B> button. Because the Asynchronous File Source filter requires an input file, GraphEdit displays the "Select an input file for this filter to use" dialog box.
<LI>Select a multimedia file that you have on your hard disk (for this example, assume you chose a file called Jupiter.avi). Click the <B>Open</B> button. GraphEdit inserts a rectangle labeled Jupiter.avi in its client area. This rectangle represents the Asynchronous File Source filter and has a small square attached to its right side, labeled Output, which represents the filter's <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_O.htm#output_pin')">output pin</A>.
<LI>At this point, you could right-click the Async filter's output <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_P.htm#pin')">pin</A> and choose <B>Render</B> from the resulting shortcut menu to have GraphEdit render the rest of the filter graph for you automatically. Instead, continue by inserting a few more filters manually. From the "Which filters do you want to insert?" dialog box, select the AVI Splitter filter. Like the File Source (Async) filter, this filter is listed in the DirectShow Filters category. Click <B>Insert Filters</B> and GraphEdit inserts the AVI Splitter filter in its client area. This filter has one <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_I.htm#input_pin')">input pin</A>, shown by a small square attached to the left side of the AVI Splitter filter rectangle.
<LI>Connect the Async File Source filter to the AVI Splitter filter as follows. 
 <OL>
 <LI>Click the Async filter's Output pin and drag to the AVI Splitter's input pin. GraphEdit creates an arrow representing the connection between the filters, and moves the arrow in response to the dragging operation. 
 <LI>Release the mouse button when the tip of the arrow head is over the small square representing the AVI Splitter's input pin. The interior of the pin's square turns black when the arrow head is in a valid location. After you've connected these filters, the AVI Splitter filter sprouts one output pin for each stream in the file. If Jupiter.avi contains an audio stream and a video stream, the pins will be labeled Stream 01 and Stream 00.
 </OL>
<LI>At this point, you could right-click each of the AVI Splitter's output pins in turn and choose <B>Render</B> to have GraphEdit render the rest of the filter graph for you automatically. Instead, continue by inserting one more filter manually. From the "Which filters do you want to insert?" dialog box, open the Audio <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_R.htm#renderer')">Renderers</A> filter category by clicking on the plus symbol (+) immediately to the left of the Audio Renderers label. Select a default audio renderer (for example, the Default WaveOut Device or Default DirectSound Device if available) and click the <B>Insert Filters</B> button.
<LI>Connect the AVI Splitter's Stream 01 output pin by dragging from that pin and releasing the mouse button when the arrowhead is over the input pin of the audio renderer.
<LI>You could continue to insert filters manually, much in the same way that you have so far. Instead, right-click the AVI Splitter's Stream 00 output pin and choose <B>Render</B> to have GraphEdit build up the rest of the filter graph for you automatically.
</OL>

<P>For information about how GraphEdit represents filters, pins, and connections graphically, see <A HREF="About_DS_Filter_Graph_Editor.htm">About the DirectShow Filter Graph Editor</A>.

<H2><A NAME="graphedit_run">Running and Editing a Filter Graph</A></H2>
<P>After you've built a filter graph as outlined in <A HREF="Using_Filter_Graph_Editor.htm#graphedit_new">Creating a New Filter Graph</A>, you can play or pause the filter graph. To do so, select <B>Play</B> or <B>Pause</B> from the GraphEdit <B>Graph</B> menu. 

<P>Play plays the filter graph. If the graph includes the video renderer filter, any video data (such as a movie), plays in the video renderer window. If the filter graph includes an audio renderer, any sound associated with the movie plays as well. Pause cues up data in the filter graph and displays the first frame of video data, enabling playback to happen quickly if you later select Play. When the filter graph is playing or paused, you can select <B>Stop</B> from the <B>Graph</B> menu to stop playback.

<P>You can also play, pause, or stop the filter graph by choosing the appropriate buttons from the GraphEdit toolbar. See <A HREF="About_DS_Filter_Graph_Editor.htm#graphedit_toolbar">About the GraphEdit Toolbar</A> for more information.

<P>You can edit the filter graph when it is stopped. Select either a filter or connection between filters by clicking the filter or connecting arrow. GraphEdit highlights the object by placing a blue border around it. You can highlight multiple objects at once by clicking outside an object and dragging diagonally to create a selection rectangle. When you release the mouse button, objects contained within the selection rectangle are highlighted. Press the <SMALL>DELETE</SMALL> key to delete a highlighted object or group of objects. Insert new filters by choosing <B>Insert Filters</B> from the <B>Graph</B> menu, and make new connections as outlined in <A HREF="Using_Filter_Graph_Editor.htm#graphedit_new_4">Manually Build a Filter Graph</A>.

<P>You can drag filters in the GraphEdit client area if you want to reposition them. You might want to do this to make the filters fit on one screen without scrolling.

<H2><A NAME="graphedit_properties">Viewing Properties in GraphEdit</A></H2>
<P>GraphEdit enables you to view the properties of filters, pins, and connections. To view the properties of an object such as a filter, right-click the filter and choose <B>Properties</B> from the resulting shortcut menu. The options provided by a property sheet vary depending on the filter, pin, or connection. Typically, the property sheet for a filter includes tabs for its pins.


<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A HREF="../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
