<!-- DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN" -->

<HTML>
<HEAD><TITLE>What's New in the DirectShow SDK?</TITLE>
<SCRIPT> var sRelPath = '../' </SCRIPT>


<META NAME="Description" CONTENT="What's New in the DirectShow SDK?">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">

<!-- SNIFF_START -->

<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->

</SCRIPT>
<SCRIPT SRC="../ver.js"></SCRIPT>
<SCRIPT SRC="../gloss.js"></SCRIPT>

<!-- SNIFF_END -->


<SCRIPT DEFER SRC="../common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{

		SetTOC();
	}
}
//-->

</SCRIPT>

<!-- SNIFF_END -->


<!-- STYLE_START -->

<SCRIPT>
//<!--
   var sVR = '../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'dxm_basicsdkIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'dxm_advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'dxm_basicsdkIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'dxm_basicsdkNAV';
   }
   else
   {
	   sCSS += 'dxm_basicsdkIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->

</SCRIPT>
<!-- STYLE_END -->


</HEAD>
<BODY onload="InitPage(); if (g_isIE && g_iMaj >= 4){HdgrphControl()}" BGCOLOR="#FFFFFF">
<A NAME="pagetop"></A><A NAME="whatnew"></A>

<!-- HEADGRAPH_START -->

<TABLE CLASS="main" BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="../art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="../art/hdrdshow.gif" WIDTH="217" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header"></TD>
<TD VALIGN="TOP" WIDTH="383">
<IMG SRC="../art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="DirectShow Animated Header">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="../art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR>
<!-- HEADGRAPH_END -->

<!-- NAV_LINKS_START -->

<TR><TD VALIGN="TOP"><PRE><IMG ID="TOC_" SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" ID="TOC" HREF="../contents.htm">Contents</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="../index.htm">Index</A>  <IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="GettingStarted_intro.htm">Topic Contents</A>
</PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="WhatisDS.htm">What is DirectShow?</A>
<IMG SRC="../art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="porting.htm">Porting Code from ActiveMovie</A>
</PRE></TD></TR></TABLE>
<!-- NAV_LINKS_END -->


<BLOCKQUOTE CLASS="body">
<!-- CONTENTS_START -->


<H1>What's New in the DirectShow SDK?</H1>

<p>This article describes what's new in the Microsoft&reg; DirectShow&#153; SDK. The samples are now in the subdirectory Samples\Multimedia\DShow\src\<I>samplename</I>. For information about new features, <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_f.htm#filter')">filters</A>, samples, and interfaces, see the following topics.

<ul>
<li><A HREF="whatnew.htm#New_Media_Player">New Media Player Control</A>
<li><A HREF="whatnew.htm#NEW_MPEG_2">Expanded MPEG-2 Support</A>
<li><A HREF="whatnew.htm#DirectDraw">Support for Playing Video from Within Applications that Are Using DirectDraw Exclusive Mode</A>
<li><A HREF="whatnew.htm#Dynamic_Audio_Format">Support for Dynamic Audio Format Changes</A>
<li><A HREF="whatnew.htm#Non_Continuous_Audio">Changed Handling of Noncontinuous audio data</A>
<li><A HREF="whatnew.htm#DVD_ROM_Boilerplate_Video">DVD-ROM Boilerplate Video</A>
<li><A HREF="whatnew.htm#New_Filters">New Filters</A>
<li><A HREF="whatnew.htm#New_Samples">New Samples</A>
<li><A HREF="whatnew.htm#New_DirectSound">New DirectSound Interfaces</A>
<li><A HREF="whatnew.htm#New_FilterInterfaces">New Filter-level Interfaces</A>
<li><A HREF="whatnew.htm#New_GraphInterfaces">New Graph-level Interfaces</A>
</ul>

<h2><A NAME="NEW_media_player">New Media Player Control</A></h2>
<p>The Microsoft Windows&reg; Media Player Control contained in Msdxm.ocx is a Microsoft ActiveX&reg; control used to add multimedia playback to applications and Web pages. It provides a way to render a variety of network streaming and nonstreaming multimedia formats, including the streaming formats MPEG-1, MPEG-2, MPEG-3, ASF (Advanced Streaming Format), VOD (Video On Demand), RA (RealAudio) version 4, and RV (RealVideo) version 4, and the nonstreaming formats AVI, MOV, MIDI, WAV, SND, and Indeo 5, among others. The Media Player incorporates many of the features of the ActiveMovie Control and the NetShow Player Control, as well as many new features. You can use the Media Player Control in ActiveMovie mode. This enables you to use the new control as you did the old control.

<p>For more information about the Media Player, double-click the Mmp_sdk.chm compressed HTML file (requires Internet Explorer 4.<I>x</I> or later) in the \Help subdirectory of the DirectShow Software Development Kit (SDK). 

<h2><A NAME="NEW_MPEG_2" IDX_CONCEPT="noindex; MPEG-2 Support Expanded, summary">Expanded MPEG-2 Support</A></h2>
<p>DirectShow has two new filters and two new interfaces to support MPEG-2 applications. See the following topics for more information.
<ul>
<li><A HREF="../Mpeg_2/MPEG_2.htm">MPEG-2 Applications</A>
<li><A HREF="../Mpeg_2/using_splitter_filter.htm">Using the MPEG-2 Splitter Filter</A>
<li><A HREF="../Appendixes/MPEG2_media_types.htm">MPEG-2 Splitter Filter Media Types</A>
<li><A HREF="../Appendixes/kernel_media_types.htm">Kernel Media Types</A>
<li><A HREF="../FiltSamp/multifile_source_filter.htm">MultiFile Source Filter</A>
<li><A HREF="../FiltSamp/Source_Filters.htm#MultiFile_Source_Filter">Mult Sample (MultiFile Source Filter)</A>
<li><A HREF="../ref/iface/IAMParse.htm">IAMParse Interface</A>
<li><A HREF="../ref/iface/IMultiFileReader.htm">IMultiFileReader Interface</A>
</uL>


<h2><A NAME="DirectDraw" IDX_CONCEPT="DirectDraw Exclusive Mode, playing video from, What's New">Support for Playing Video from Within Applications that Are Using DirectDraw Exclusive Mode</A></h2>
<p>The <A HREF="../ref/iface/IDDrawExclModeVideo.htm">IDDrawExclModeVideo</A> interface enables games to play video while in Microsoft DirectDraw&reg; exclusive full-screen mode. For an example, see the <A HREF="../filtsamp/C_C++_Samp_Apps.htm#DDrawXcl">DDrawXcl</A> sample in the Samples\Multimedia\DShow\src\DDrawXcl subdirectory. The <A HREF="../ref/iface/IDDrawExclModeVideoCallback.htm">IDDrawExclModeVideoCallback</A> interface was added to enable applications to get synchronous notification about changes to the overlay position, size, visibility, and so on, so that the application can adjust its video visibility, size, and position.


<h2><A NAME="Dynamic_Audio_Format" IDX_CONCEPT="Dynamic Audio Format Changes, new support for; audio format, changing dynamically, new support for">Support for Dynamic Audio Format Changes</A></h2>

<P>The previous release of DirectShow provided support for an audio format change only if it occurred on the first sample delivered. This restriction has been removed and audio format changes are now supported by the audio <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_R.htm#renderer')">renderer</A> filters at any time during playback. One point to note is that a <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_T.htm#transform_filter')">transform filter</A> downstream of the filter initiating the format change might need to be enhanced as well for this feature to work correctly at the graph level.
 
<p>Additionally, this release fixes a problem where, for <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_F.htm#filter_graph')">filter graphs</A> that didn't provide audio data at the start of the run (for example, DVD and capture), a format change on the first sample caused audio to stop when the <A HREF="../FiltSamp/DSound_Audio_Renderer.htm">DSound Audio Renderer</A> filter was used.


<h2><A NAME="Non_Continuous_Audio" IDX_CONCEPT="Noncontinuous Audio Data, changed support for; audio, noncontinuous, changed support for">Changed Handling of Noncontinuous Audio Data</A></h2>
<p>In previous versions of DirectShow, when a time gap occurred in audio data, generally this gap would be ignored because the audio renderer filter would continue the clock on the arrival of the first time stamp after the gap and cause a jump in the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_R.htm#reference_clock')">reference clock</A> used by all filters for synchronization.

<p>In this release, this behavior has been fixed for the DSound Audio Renderer filter. This filter now compares the <A CLASS="Glossary" HREF="javascript:Glossary(sRelPath + 'gloss/gloss_T.htm#time_stamp')">time stamp</A> at the beginning of a new sample with the time for the end of the previous sample and will attempt to fill the gap with audio silence and thus avoid causing jumps in the reference clock time. It's possible that some filters were written to rely on the old behavior, so it's important to check that this change does not cause a problem in any filters you have written. Because some network streaming formats and DVD increasingly allow for periods with no audio, this change was essential.


<h2><A NAME="DVD_ROM_Boilerplate_Video" IDX_CONCEPT="noindex; DVD-ROM Bolierplate video, what's new">DVD-ROM Boilerplate Video</A></h2>
<p>The DVD-ROM boilerplate video is provided for developers producing DVD-ROM titles that contain no DVD-Video formatted data. A disc without a proper DVD-Video zone might behave unpredictably when placed in a stand-alone DVD-Video player, possibly ejecting the disc or locking up. You can avoid this confusing situation by placing the DVD-ROM boilerplate video on the disc. When the disc is inserted into a DVD-Video player, it will display a message informing the user that the disc is designed to work in a DVD-ROM PC with Microsoft Windows. The boilerplate files are in the Samples\Multimedia\Media\DVDBoilerplate directory.

<h2><A NAME="New_Filters" IDX_CONCEPT="filters, new in DirectX Media 6">New Filters</A></h2>
<p>This version of DirectShow includes the following new filters.
<ul>
<li><A HREF="../Mpeg_2/using_splitter_filter.htm">MPEG-2 Splitter Filter</A>&#151;supports playback of MPEG-2 video and audio.
<li><A HREF="../filtsamp/multifile_source_filter.htm">MultiFile Source Filter</A>&#151;provides for playback of multiple files and file segments with identical media formats as a single stream.
</ul> 


<h2><A NAME="New_Samples" IDX_CONCEPT="samples, new in DirectX Media 6">New Samples</A></h2>
<p>This version of DirectShow includes the following new samples.
<UL>
<li><A HREF="../filtsamp/C_C++_Samp_Apps.htm#DDrawXcl">DDrawXcl Sample</A>&#151;demonstrates how to play video while in Microsoft DirectDraw&reg; exclusive full-screen mode. The source code is in the Samples\Multimedia\DShow\src\DDrawXcl subdirectory.
<li><A HREF="../FiltSamp/Transform_Filters.htm#wavdest_transform_filter">WAVDest Sample (WavDest filter)</A>&#151; illustrates how to make a filter (WavDest.ax) that works in conjunction with the <A HREF="../FiltSamp/File_Writer.htm">File Writer</A> filter to write audio streams to WAV files. 
</UL>

<h2><A NAME="New_DirectSound" IDX_CONCEPT="DirectSound interfaces, new in Directx Media 6; interfaces, DirectSound, new in Directx Media 6">New DirectSound Interfaces</A></h2>
<p>Two new Microsoft DirectSound&reg; interfaces have been added: <A HREF="../ref/iface/IDirectSound3DBuffer.htm">IDirectSound3DBuffer</A> and <A HREF="../ref/iface/IDirectSound3DListener.htm">IDirectSound3DListener</A>. In addition, the <A HREF="../ref/iface/IAMDirectSound.htm">IAMDirectSound</A> interface has changed and can now be used to determine whether sounds played by the filter should always be heard, or only when the application is in focus. 

<h2><A NAME="New_FilterInterfaces" IDX_CONCEPT="filter-level interfaces, new in Directx Media 6; interfaces, filter-level, new in Directx Media 6">New Filter-level Interfaces</A></h2>
<p>Four new filter-level COM interfaces have been added: <A HREF="../ref/iface/IAMAnalogVideoDecoder.htm">IAMAnalogVideoDecoder</A>, 
<A HREF="../ref/iface/IAMCameraControl.htm">IAMCameraControl</A>, <A HREF="../ref/iface/IAMClockAdjust.htm">IAMClockAdjust</A>, and <A HREF="../ref/iface/IAMFilterMiscFlags.htm">IAMFilterMiscFlags</A>.

<P><B>IAMAnalogVideoDecoder</B> defines the process of video digitization and contains methods for selecting the digitization format, indicating the horizontal lock status, and controlling the time constant on the digitizer phase lock loop (PLL). The <B>IAMCameraControl</B> interface provides local or remote control over a camera. <B>IAMClockAdjust</B> gives timing information to the filter graph from an external source. In the case of multimedia streams, if the application uses both the audio and video streams outside the filter graph, it can communicate clock information to the filter graph using this interface. The filter graph uses the <B>IAMFilterMiscFlags</B> interface to determine which filters are renderers and which are source filters. This is important so that you can determine how many EC_COMPLETE notifications to expect before the movie is done.  


<h2><A NAME="New_GraphInterfaces" IDX_CONCEPT="graph-level interfaces, new in Directx Media 6; interfaces, graph-level, new in Directx Media 6">New Graph-level Interfaces</A></h2>
<p><A HREF="../ref/iface/IBasicVideo2.htm">IBasicVideo2</A>, which is derived from the existing <A HREF="../ref/iface/IBasicVideo.htm">IBasicVideo</A> interface, has been added to include the <b>GetPreferredAspectRatio</b> method.

<!-- CONTENTS_END -->

<!-- START_PAGE_FOOTER -->


<H6><HR size=1></H6>
<P><A Class="line" HREF="#pagetop"><IMG src="../art/arrowup1.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="Top of Page">&nbsp;Top of Page</A>
<BR><A HREF="../../cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END_PAGE_FOOTER -->

</BLOCKQUOTE>

<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../tip2.js"></SCR' + 'IPT><IFRAME ID="G_L_S" NAME="SecretBuffer" STYLE="display: none" SRC=""></IFRAME>')}</SCRIPT>

<!-- DACONTROL_START -->

	<DIV ID="HeadGraphAnim"></DIV>
	<SCRIPT>if((g_isIE == true) && (g_iMaj > 3)) {window.self.document.writeln('<SCR' + 'IPT SRC="../anim.js"></SCR' + 'IPT>')}</SCRIPT>
<!-- DACONTROL_END -->

</BODY>
</HTML>
