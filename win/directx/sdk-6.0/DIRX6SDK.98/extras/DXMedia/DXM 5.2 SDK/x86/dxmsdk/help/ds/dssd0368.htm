<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>Renderer Filters</TITLE>
<STYLE>
<!--
.tctop {color: blue}
.cpslug {color: blue; text-decoration: none}
-->
</STYLE>
<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
function ShowButtons() {
    if (window.top.frames.length!=0 && window.top.frames[0].ShowButtons!=null)
	window.top.frames[0].ShowButtons('/dssd0367.htm','/dssd0000.htm','/dssd0311.htm','/index.htm','/dssd0369.htm');
}
ShowButtons();
//-->
</SCRIPT>
</HEAD>
<BODY onLoad="ShowButtons()" TOPMARGIN=10 BGPROPERTIES="FIXED" BGCOLOR="#FFFFFF" LINK="#000000" VLINK="#808080" ALINK="#000000">
<FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="samples_0001070206000000">Renderer Filters</A></H2>
<BR CLEAR=ALL>
<P>This article describes sample renderer filters. The filters render video output, audio output, text output, and raw file output. 
<P><B>Contents of this article:</B>
<UL><LI><A CLASS=TCTOP HREF="dssd0368.htm#samples_0001070206010000" TARGET="TEXT">Dump Sample (Dump Filter)</A>
<LI><A CLASS=TCTOP HREF="dssd0368.htm#samples_0001070206020000" TARGET="TEXT">SampVid Sample (Video Renderer Filter)</A>
<LI><A CLASS=TCTOP HREF="dssd0368.htm#samples_0001070206030000" TARGET="TEXT">Scope Sample (Oscilloscope Filter)</A>
<LI><A CLASS=TCTOP HREF="dssd0368.htm#samples_0001070206040000" TARGET="TEXT">TextOut Sample (Text Display Filter)</A>
</UL>
<A NAME="samples_0001070206010000"></A><P><B>Dump Sample (Dump Filter)</B>
<P>The sample file dump filter, Dump, illustrates the use of the base filter class <A HREF="dssd0204.htm" TARGET="TEXT">CBaseFilter</A> and the rendered input pin class <A HREF="dssd0251.htm" TARGET="TEXT">CRenderedInputPin</A>. This sample also uses the <A HREF="dssd0144.htm" TARGET="TEXT">IFileSinkFilter</A> interface. The Dump filter demonstrates how to override the <A HREF="dssd0252.htm#Lib_000106023e040c00" TARGET="TEXT">Receive</A> method of the rendered input pin class to process actual media samples. The filter is also a "renderer" of its input stream. (That is, this filter doesn't fit the traditional definition of rendering audibly or visibly, although it is a "renderer filter.") The Dump filter delivers the <A HREF="dssd0308.htm#events_0001060801000400" TARGET="TEXT">EC_COMPLETE</A> notification to the filter graph when it receives a call to <B>CDumpInputPin::EndOfStream</B> on its input pin.

<P>This filter is a useful debugging tool. For example, you can verify, bit by bit, the results of a transform filter. You can build a graph manually by using the Filter Graph Editor, and connect the Dump filter to the output of a transform filter or any other output pin. You can also connect a tee filter and put the Dump filter on one leg of the tee filter and the typical output on another leg to monitor the results in a real-time scenario. 


<P>The Dump filter has a single input pin, which is dumped to a file. The filter prompts the user for a file name when it is instantiated and closes the file when it is freed.

<P>This filter is installed with the DirectShow run time and is available through the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, and select the DirectShow Filters category.


<P><A CLASS=TCTOP HREF="dssd0363.htm#samples_0001070201090000" TARGET="TEXT">Sample Locations</A>


<A NAME="samples_0001070206020000"></A><P><B>SampVid Sample (Video Renderer Filter)</B>
<P>The sample video renderer filter, SampVid, displays video inside a window. SampVid demonstrates the implementation of a special memory allocator, the <A HREF="dssd0231.htm" TARGET="TEXT">CImageAllocator</A> class, which uses buffers based on the Microsoft Win32&#174; <A HREF="dssd0406.htm#external_00010a0109000023" TARGET="TEXT">DIBSECTION</A> structure. This sample shows use of the <A HREF="dssd0215.htm" TARGET="TEXT">CBaseVideoRenderer</A> class, which handles all the seeking, synchronization and quality management necessary for video renderers. Other base classes used include, among others:
<UL><LI><A HREF="dssd0201.htm" TARGET="TEXT">CBaseControlVideo</A>
<LI><A HREF="dssd0202.htm" TARGET="TEXT">CBaseControlWindow</A>
<LI><A HREF="dssd0225.htm" TARGET="TEXT">CDrawImage</A>
<LI><A HREF="dssd0231.htm" TARGET="TEXT">CImageAllocator</A>
<LI><A HREF="dssd0232.htm" TARGET="TEXT">CImageDisplay</A>
<LI><A HREF="dssd0233.htm" TARGET="TEXT">CImagePalette</A>
<LI><A HREF="dssd0240.htm" TARGET="TEXT">CMediaType</A>
</UL>
<P>This sample also shows the use of the property page interface <A HREF="dssd0175.htm" TARGET="TEXT">IQualProp</A>, which addresses quality management.

<P>This filter is installed with the DirectShow run time and is available through the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, and select the DirectShow Filters category.

<P><A CLASS=TCTOP HREF="dssd0363.htm#samples_0001070201090000" TARGET="TEXT">Sample Locations</A>



<A NAME="samples_0001070206030000"></A><P><B>Scope Sample (Oscilloscope Filter)</B>
<P>The oscilloscope sample filter, Scope, illustrates the use of the base filter class <A HREF="dssd0204.htm" TARGET="TEXT">CBaseFilter</A> and the base input pin class <A HREF="dssd0205.htm" TARGET="TEXT">CBaseInputPin</A>. 

<P>Other than the video renderer sample, Scope is the only sample filter that has a constantly active window. 

<P><B>Note</B>  The Scope window is implemented as a dialog box, not as an actual window.
<P>Developers creating control panels to alter filter parameters in real time might want to use a technique like this rather than property pages.

<P>The Scope filter demonstrates setting up a separate thread to process data. In this case, the data is just copied to a separate buffer on the <A HREF="dssd0168.htm#If_000106014b030400" TARGET="TEXT">IMemInputPin::Receive</A> method, and is then drawn on the Scope window on the separate thread.

<P>The filter demonstrates how to apply DirectShow&#153; outside the rather narrow domain of multimedia playback. DirectShow has wide application in the diverse areas of:
<UL><LI>Process control
<LI>Factory automation
<LI>Image processing and analysis
<LI>Virtual lab instrumentation
</UL>
<P>All of these areas have semi real-time requirements, but additionally emphasize user interaction and the display of gauges, monitors, signal generators, alarms, and other forms of graphical display of analyzed results.

<P>The Scope filter also enables you to monitor audio output to determine if you are clipping, so you can adjust the gain.

<P>This filter is installed with the DirectShow run time and is available through the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, and select the DirectShow Filters category.

<P><A CLASS=TCTOP HREF="dssd0363.htm#samples_0001070201090000" TARGET="TEXT">Sample Locations</A>



<A NAME="samples_0001070206040000"></A><P><B>TextOut Sample (Text Display Filter)</B>
<P>The sample text renderer filter, TextOut, serves as an example of a renderer filter that is for a user-defined type. It can render text data found in an AVI file or other source. The TextOut filter demonstrates the use of the <A HREF="dssd0213.htm" TARGET="TEXT">CBaseRenderer</A> class, which handles all the synchronization and seeking although it doesn't have any quality management implementation. To get quality management, derive your classes from <A HREF="dssd0215.htm" TARGET="TEXT">CBaseVideoRenderer</A> instead. This sample also uses the <A HREF="dssd0217.htm" TARGET="TEXT">CBaseWindow</A> class.

<P>This renderer creates and uses a simple window to display each piece of text it receives.

<P>This filter is installed with the DirectShow run time and is available through the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, and select the DirectShow Filters category.

<P><A CLASS=TCTOP HREF="dssd0363.htm#samples_0001070201090000" TARGET="TEXT">Sample Locations</A>


<P><P><FONT FACE="MS SANS SERIF" SIZE="1" COLOR="BLACK">
<A CLASS=cpslug HREF="copyrite.htm" TARGET="TEXT">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
</FONT>
<BR CLEAR=ALL><P>
</FONT><P>
</BODY></HTML>
