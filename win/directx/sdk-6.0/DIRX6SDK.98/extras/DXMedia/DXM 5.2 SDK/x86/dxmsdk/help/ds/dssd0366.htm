<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>Transform Filters</TITLE>
<STYLE>
<!--
.tctop {color: blue}
.cpslug {color: blue; text-decoration: none}
-->
</STYLE>
<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
function ShowButtons() {
    if (window.top.frames.length!=0 && window.top.frames[0].ShowButtons!=null)
	window.top.frames[0].ShowButtons('/dssd0365.htm','/dssd0000.htm','/dssd0311.htm','/index.htm','/dssd0367.htm');
}
ShowButtons();
//-->
</SCRIPT>
</HEAD>
<BODY onLoad="ShowButtons()" TOPMARGIN=10 BGPROPERTIES="FIXED" BGCOLOR="#FFFFFF" LINK="#000000" VLINK="#808080" ALINK="#000000">
<FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="samples_0001070204000000">Transform Filters</A></H2>
<BR CLEAR=ALL>
<P>This article details sample transform filters (sometimes called <I>effects</I>). The sample transform filters include an audio effect, some video effects, some MPEG codecs, a VCR controller, and various "null" (pass-through) filters. 

<P><B>Contents of this article:</B>
<UL><LI><A CLASS=TCTOP HREF="dssd0366.htm#samples_0001070204010000" TARGET="TEXT">Contrast Sample (Video Contrast Filter)</A>
<LI><A CLASS=TCTOP HREF="dssd0366.htm#samples_0001070204020000" TARGET="TEXT">EzRGB24 Sample (Image Effect Filter)</A>
<LI><A CLASS=TCTOP HREF="dssd0366.htm#samples_0001070204030000" TARGET="TEXT">Gargle Sample (Gargle Filter)</A>
<LI><A CLASS=TCTOP HREF="dssd0367.htm" TARGET="TEXT">Inftee Sample (Infinite-Pin Tee Filter)</A>
<LI><A CLASS=TCTOP HREF="dssd0367.htm#samples_0001070205010000" TARGET="TEXT">MPGAudio Sample (MPEG Audio Decoder Filter)</A>
<LI><A CLASS=TCTOP HREF="dssd0367.htm#samples_0001070205020000" TARGET="TEXT">MPGVideo Sample (MPEG Video Decoder Filter)</A>
<LI><A CLASS=TCTOP HREF="dssd0367.htm#samples_0001070205030000" TARGET="TEXT">Nullip Sample (Null In Place Filter)</A>
<LI><A CLASS=TCTOP HREF="dssd0367.htm#samples_0001070205040000" TARGET="TEXT">Nullnull Sample (Minimal Null Filter)</A>
<LI><A CLASS=TCTOP HREF="dssd0367.htm#samples_0001070205050000" TARGET="TEXT">Vcrctrl Sample (VCR Control Filter)</A>
</UL>
<A NAME="samples_0001070204010000"></A><P><B>Contrast Sample (Video Contrast Filter)</B>
<P>The video contrast sample filter, Contrast, illustrates how to define and implement a simple custom interface within the structure provided by the DirectShow&#153; base classes. This filter demonstrates how to use the <A HREF="dssd0259.htm" TARGET="TEXT">CTransformFilter</A> class to implement a simple effect filter.

<P>The Contrast filter also provides a good example of the flexibility of the filter graph architecture. This flexibility is demonstrated when the filter is used in conjunction with a tee filter to produce "before and after" (side-by-side original and modified) video streams.

<P>The Contrast filter is a simple transform filter that adjusts the contrast of the video stream that is passed through it. It provides a custom interface for adjusting the contrast. The Contrast filter also uses the <A HREF="dssd0211.htm" TARGET="TEXT">CBasePropertyPage</A> class to provide a property page for applications that do not provide a user interface.

<P><B>Note</B>  The Contrast filter adjusts the contrast by using a trick with palettes. The color palette of an image effectively determines how the image is interpreted. By changing the palette, the filter can change the contrast without changing the image pixels themselves.
<P>This filter is installed with the DirectShow run time and is available through the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, and select the DirectShow Filters category.

<P><A CLASS=TCTOP HREF="dssd0363.htm#samples_0001070201090000" TARGET="TEXT">Sample Locations</A>


<A NAME="samples_0001070204020000"></A><P><B>EzRGB24 Sample (Image Effect Filter)</B>
<P>The RGB 24 image effect filter, EzRGB24, is a sample of an image processing filter. This shows usage of a number of DirectShow classes and interfaces, including <A HREF="dssd0259.htm" TARGET="TEXT">CTransformFilter</A>, <A HREF="dssd0246.htm" TARGET="TEXT">CPersistStream</A>, <A HREF="dssd0211.htm" TARGET="TEXT">CBasePropertyPage</A>, and <A HREF="dssd0406.htm#external_00010a01090000ae" TARGET="TEXT">ISpecifyPropertyPages</A>.

<P>This filter's purpose is to provide fast and single stream effects. The EzRGB24 filter also shows how to add image processing effects using DirectShow. You can use this filter as a component of an DirectShow video editor. Effects with fast execution were selected to help demonstrate the power of DirectShow in enabling real-time effects &#151; the idea was to show something that could not have been built by using Microsoft Video for Windows&#174;. 

<P>This filter performs a number of individual video effects. These include red, green, blue, darken, XOR, blur, gray, and emboss image-processing effects.

<P>This filter is installed with the DirectShow run time and is available through the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, and select the DirectShow Filters category.


<P><A CLASS=TCTOP HREF="dssd0363.htm#samples_0001070201090000" TARGET="TEXT">Sample Locations</A>


<A NAME="samples_0001070204030000"></A><P><B>Gargle Sample (Gargle Filter)</B>
<P>The audio processing filter, Gargle, illustrates how to create a simple sound effect. More sophisticated effects such as echo, flanging, band-pass filtering, and other effects can be created in a way similar to that demonstrated by the Gargle filter. This sample demonstrates the <A HREF="dssd0262.htm" TARGET="TEXT">CTransInPlaceFilter</A>, <A HREF="dssd0246.htm" TARGET="TEXT">CPersistStream</A>, and <A HREF="dssd0211.htm" TARGET="TEXT">CBasePropertyPage</A> classes. It also shows use of the <A HREF="dssd0290.htm#fmdebug_0001060402000100" TARGET="TEXT">ASSERT</A>, <A HREF="dssd0291.htm#fmdebug_0001060403000100" TARGET="TEXT">DbgBreak</A>, <A HREF="dssd0296.htm#fmdebug_0001060408020300" TARGET="TEXT">DbgLog</A>, and <A HREF="dssd0291.htm#fmdebug_0001060403000200" TARGET="TEXT">DbgBreakPoint</A> debug macros.

<P>The Gargle filter modulates the waveform passing through it by multiplying the waveform by another waveform that is mathematically generated within the filter. The modulating waveform is, by default, a triangular wave. The property sheet also offers the alternative of a square wave. You can set the frequency of the modulating wave through the filter's property sheet. At low frequencies (near 1 Hz), the sound grows and diminishes. At medium frequencies (5 to 15 Hz), the sound has a tremolo quality, which is why it is referred to as gargling. At higher frequencies (100 Hz and up), the filter generates extra frequencies in the original sound. If a 500 hertz (Hz) sound is played at 100 Hz, then it produces additional frequencies of 400 Hz, 600 Hz, 200 Hz, 800 Hz, and so on.

<P>This filter is installed with the DirectShow run time and is available through the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, and select the DirectShow Filters category.

<P><A CLASS=TCTOP HREF="dssd0363.htm#samples_0001070201090000" TARGET="TEXT">Sample Locations</A>


<P><P><FONT FACE="MS SANS SERIF" SIZE="1" COLOR="BLACK">
<A CLASS=cpslug HREF="copyrite.htm" TARGET="TEXT">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
</FONT>
<BR CLEAR=ALL><P>
</FONT><P>
</BODY></HTML>
