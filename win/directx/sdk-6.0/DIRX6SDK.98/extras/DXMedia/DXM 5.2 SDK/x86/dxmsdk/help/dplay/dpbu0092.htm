<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>DPSESSIONDESC2</TITLE>
<STYLE>
<!--
.tctop {color: blue}
.cpslug {color: blue; text-decoration: none}
-->
</STYLE>
<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
function ShowButtons() {
    if (window.top.frames.length!=0 && window.top.frames[0].ShowButtons!=null)
	window.top.frames[0].ShowButtons('/dpbu0091.htm','/dpbu0000.htm','/dpbu0010.htm','/index.htm','/dpbu0093.htm');
}
ShowButtons();
//-->
</SCRIPT>
</HEAD>
<BODY onLoad="ShowButtons()" TOPMARGIN=10 BGPROPERTIES="FIXED" BGCOLOR="#FFFFFF" LINK="#000000" VLINK="#808080" ALINK="#000000">
<FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">
<H2><HR COLOR="#0000FF"><A NAME="ref_0001010a05000b00">DPSESSIONDESC2</A></H2>
<BR CLEAR=ALL>
<P>Contains a description of an <A CLASS=tctop HREF="dpbu0023.htm" TARGET="TEXT">IDirectPlay3 Interface</A> session's capabilities. (The <B>DPSESSIONDESC</B> structure is no longer used in the <A HREF="dpbu0023.htm" TARGET="TEXT">IDirectPlay3</A> interface.)
<PRE><FONT FACE="Courier" SIZE="2">typedef struct {
    DWORD dwSize;
    DWORD dwFlags;
    GUID  guidInstance;
    GUID  guidApplication;
    DWORD dwMaxPlayers;
    DWORD dwCurrentPlayers;
    union  {
        LPWSTR lpszSessionName;
        LPSTR  lpszSessionNameA;
    };
    union  {
        LPWSTR lpszPassword;
        LPSTR  lpszPasswordA;
    };
    DWORD dwReserved1;
    DWORD dwReserved2;
    DWORD dwUser1;
    DWORD dwUser2;
    DWORD dwUser3;
    DWORD dwUser4;
} DPSESSIONDESC2, FAR *LPDPSESSIONDESC2;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="ref_0001010a05000b01">dwSize</A></B>
</DT><DD>The size of the DPSESSIONDESC2 structure, <I>dwsize</I> = sizeof(DPSESSIONDESC2). Your application must set this member before it uses this structure; otherwise, an error will result. 
</DD><DT><B><A NAME="ref_0001010a05000b02">dwFlags</A></B>
</DT><DD>A combination of the following flags. These flags can be changed after a session has started by using <A HREF="dpbu0066.htm" TARGET="TEXT">IDirectPlay3::SetSessionDesc</A>. 
<DL>
<DT><B><A NAME="ref_0001010a05000b03">DPSESSION_CLIENTSERVER</A></B>
</DT><DD>This is a client/server session that is being hosted by an application server process. This flag must be specified at the time the session is created. Any clients that join this session will only be able to enumerate the server player and any local players. The host of the session will see all the players. If this flag is not set, the session is a peer-to-peer session. If this flag is set, the host can only create a server player. This flag cannot be used with DPSESSION_MIGRATEHOST.
</DD><DT><B><A NAME="ref_0001010a05000b04">DPSESSION_JOINDISABLED</A></B>
</DT><DD>No new applications can join this session. Any call to the <A HREF="dpbu0056.htm" TARGET="TEXT">IDirectPlay3::Open</A> method with the DPOPEN_JOIN flag and the globally unique identifier (GUID) of this session instance will cause an error. If this flag is not specified, new remote applications can join the session until the session player limit is reached.
</DD><DT><B><A NAME="ref_0001010a05000b05">DPSESSION_KEEPALIVE</A></B>
</DT><DD>Automatically detect when remote players drop out of the game abnormally. Those players will be deleted from the session. If a temporary network outage caused the loss of the players, they will be informed when they return that they were dropped from the session through the <A HREF="dpbu0104.htm" TARGET="TEXT">DPMSG_SESSIONLOST</A> system message. This flag must be specified at the time the session is created. If this flag is not specified, DirectPlay will not automatically keep the session alive if players are abnormally terminated.


</DD><DT><B><A NAME="ref_0001010a05000b06">DPSESSION_MIGRATEHOST</A></B>
</DT><DD>If the current <A HREF="dpbu0126.htm#dpgloss_0001010b05000001" TARGET="TEXT">host</A> exits, another computer in the session will become the host. The players on the new host computer will receive a <A HREF="dpbu0102.htm" TARGET="TEXT">DPMSG_HOST</A> system message. This flag must be specified at the time the session is created. If this flag is not specified, the host will not migrate, new computers cannot join the session, and new players cannot be created if the current host leaves. Note that the DPSESSION_MIGRATEHOST flag cannot be used with the DPSESSION_CLIENTSERVER, DPSESSION_MULTICASTSERVER, or DPSESSION_SECURESERVER flags.
</DD><DT><B><A NAME="ref_0001010a05000b07">DPSESSION_MULTICASTSERVER</A></B>
</DT><DD>In a peer-to-peer session, broadcast and group messages are routed through the host which acts like a multicast server. This flag must be specified at the time the session is created. The flag is only useful if the host has a high bandwidth connection to the network. If this flag is not specified, broadcast and group messages are sent directly between peers. This flag cannot be used with DPSESSION_MIGRATEHOST.

</DD><DT><B><A NAME="ref_0001010a05000b08">DPSESSION_NEWPLAYERSDISABLED</A></B>
</DT><DD>Indicates that new players cannot be created in the session. Any call to the <A HREF="dpbu0029.htm" TARGET="TEXT">IDirectPlay3::CreatePlayer</A> method by an application in the session will result in an error. Also, new applications cannot join the session. If this flag is not specified, players can be created until the session player limit is reached.
</DD><DT><B><A NAME="ref_0001010a05000b09">DPSESSION_NODATAMESSAGES</A></B>
</DT><DD>Do not send system messages when remote player data, group data, or session data is changed with the <A HREF="dpbu0064.htm" TARGET="TEXT">IDirectPlay3::SetPlayerData</A>, <A HREF="dpbu0062.htm" TARGET="TEXT">IDirectPlay3::SetGroupData</A>, <A HREF="dpbu0065.htm" TARGET="TEXT">IDirectPlay3::SetPlayerName</A>, <A HREF="dpbu0063.htm" TARGET="TEXT">IDirectPlay3::SetGroupName</A>, or <A HREF="dpbu0066.htm" TARGET="TEXT">IDirectPlay3::SetSessionDesc</A> method. If this flag is not specified, messages will be generated indicating that the data changed.
<P>Note that setting this flag also suppresses the <A HREF="dpbu0107.htm" TARGET="TEXT">DPMSG_SETSESSIONDESC</A> message.
</DD><DT><B><A NAME="ref_0001010a05000b0a">DPSESSION_NOMESSAGEID</A></B>
</DT><DD>Do not attach data to messages indicating what player the message is from and to whom it is sent. Saves message overhead if this information is not relevant. (For more information, see the <A HREF="dpbu0057.htm" TARGET="TEXT">IDirectPlay3::Receive</A> method.) If this flag is not specified, the message ID will be added. This flag must be specified at the time the session is created. 

 
</DD><DT><B><A NAME="ref_0001010a05000b0b">DPSESSION_PASSWORDREQUIRED</A></B>
</DT><DD>This session is password protected. Any applications wishing to join the session must supply the password in the <A HREF="dpbu0056.htm" TARGET="TEXT">IDirectPlay3::Open</A> call. This is a read-only flag. It will be set automatically by DirectPlay when the host of the session specifies a non-NULL password.
</DD><DT><B><A NAME="ref_0001010a05000b0c">DPSESSION_PRIVATE</A></B>
</DT><DD>This is a private session. It can not respond to enumeration requests unless the request contains a non-NULL, matching password. If this flag is not specified, the session will respond to enumeration requests.
</DD><DT><B><A NAME="ref_0001010a05000b0d">DPSESSION_SECURESERVER</A></B>
</DT><DD>This session is being hosted on a secure server which will require authentication credentials before it can be opened. The host must specify this flag when the session is created. It cannot be changed later through <A HREF="dpbu0066.htm" TARGET="TEXT">IDirectPlay3::SetSessionDesc</A>. This flag can only be used if the DPSESSION_CLIENTSERVER flag is also specified. This flag cannot be used with the DPSESSION_MIGRATEHOST flag.
</DD></DL>
</DD><DT><B><A NAME="ref_0001010a05000b0e">guidInstance</A></B>
</DT><DD>GUID of the session instance.
</DD><DT><B><A NAME="ref_0001010a05000b0f">guidApplication</A></B>
</DT><DD>GUID for the application running in the session instance. It uniquely identifies the application so that DirectPlay connects only to other computers running the same application. This member can be set to GUID_NULL to enumerate sessions for any application.
</DD><DT><B><A NAME="ref_0001010a05000b10">dwMaxPlayers</A></B>
</DT><DD>Maximum number of players allowed in this session. A value of zero means there is no maximum.
</DD><DT><B><A NAME="ref_0001010a05000b11">dwCurrentPlayers</A></B>
</DT><DD>Number of players currently in the session.
</DD><DT><B><A NAME="ref_0001010a05000b12">lpszSessionName</A></B>
</DT><DD>Pointer to a Unicode string containing the name of the session. Use only if a Unicode DirectPlay interface (<A CLASS=tctop HREF="dpbu0023.htm" TARGET="TEXT">IDirectPlay3 Interface</A>) is being used.
</DD><DT><B><A NAME="ref_0001010a05000b13">lpszSessionNameA</A></B>
</DT><DD>Pointer to an ANSI string containing the name of the session. Use only if an ANSI DirectPlay interface (<A CLASS=tctop HREF="dpbu0023.htm" TARGET="TEXT">IDirectPlay3A</A>) is being used.
</DD><DT><B><A NAME="ref_0001010a05000b14">lpszPassword</A></B>
</DT><DD>Pointer to a Unicode string containing the password used to join the session for participation. Use only if a Unicode DirectPlay interface (<A CLASS=tctop HREF="dpbu0023.htm" TARGET="TEXT">IDirectPlay3 Interface</A>) is being used.
</DD><DT><B><A NAME="ref_0001010a05000b15">lpszPasswordA</A></B>
</DT><DD>Pointer to an ANSI string containing the password used to join the session for participation. Use only if an ANSI DirectPlay interface (<A CLASS=tctop HREF="dpbu0023.htm" TARGET="TEXT">IDirectPlay3A</A>) is being used.
</DD><DT><B><A NAME="ref_0001010a05000b16">dwReserved1</A></B> and <B><A NAME="ref_0001010a05000b17">dwReserved2</A></B>
</DT><DD>Must be zero.
</DD><DT><B><A NAME="ref_0001010a05000b18">dwUser1</A></B>, <B><A NAME="ref_0001010a05000b19">dwUser2</A></B>, <B><A NAME="ref_0001010a05000b1a">dwUser3</A></B>, and <B><A NAME="ref_0001010a05000b1b">dwUser4</A></B>
</DT><DD>Application-specific data for the session.
</DD></DL>
<H5>See Also</H5>
<P><A HREF="dpbu0039.htm" TARGET="TEXT">IDirectPlay3::EnumSessions</A>, <A HREF="dpbu0053.htm" TARGET="TEXT">IDirectPlay3::GetSessionDesc</A>, <A HREF="dpbu0056.htm" TARGET="TEXT">IDirectPlay3::Open</A>, <A HREF="dpbu0058.htm" TARGET="TEXT">IDirectPlay3::SecureOpen</A>, <A HREF="dpbu0066.htm" TARGET="TEXT">IDirectPlay3::SetSessionDesc</A>, <A HREF="dpbu0029.htm" TARGET="TEXT">IDirectPlay3::CreatePlayer</A>, <A HREF="dpbu0029.htm#ref_0001010a03000601" TARGET="TEXT">DPPLAYER_SERVERPLAYER</A> 
<P><P><FONT FACE="MS SANS SERIF" SIZE="1" COLOR="BLACK">
<A CLASS=cpslug HREF="copyrite.htm" TARGET="TEXT">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of use.</A>
</FONT>
<BR CLEAR=ALL><P>
</FONT><P>
</BODY></HTML>
