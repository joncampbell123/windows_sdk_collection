Microsoft Win32 SDK for Microsoft Windows

===========================================================
Additional Information for Windows NT Far East Edition User
===========================================================

November 1996


-----------------
Table of Contents
-----------------

1.  Introduction
2.  Installation
3.  Overview of Additional Features for Far East Edition
4.  Additional Samples
5.  Software Compatibility Test Kit (Japanese-specific)
6.  Detail Information


----------------
1.  Introduction
----------------

This document provides the additional information on the development environment for the Windows NT 
4.0 Far East language edition (Japanese, Traditional Chinese, Simplified Chinese, and Korean) operating 
system.


----------------
2.  Installation
----------------

To use SDK for developing Win32 applications for Windows NT Far East language edition, you need the 
following software before installing SDK:
- Windows NT 4.0 Japanese, Traditional Chinese, Simplified Chinese, or Korean edition
- Microsoft Visual C++ 4.x or compatible 32-bit compiler

To install SDK on Windows NT Far East language edition, the following amount of additional disk space 
is required. (In case of English edition, required disk space is about 265MB maximum, and 34MB 
minimum.)

	Platform:	MAX	MIN
	---------------------------
	x86	2MB	1MB
	MIPS	2MB	1MB
	Alpha	2MB	1MB
	PPC	2MB	1MB

The GUI setup program will detect the default language of the system currently running, and then install 
the necessary components.


---------------------------------------------------------
3.  Overview of Additional Features for Far East Edition
---------------------------------------------------------

This release of Win32 SDK includes the following additional features for use with Windows NT 4.0 Far 
East edition.

*  Development Environment (Headers, Libraries, etc.)
*  Localized SDK Tools
*  Localized SDK Tool Kit
*  Additional Documents for Japanese Edition
*  Documents Translated in Japanese
*  Additional Samples
*  Software Compatibility Test Kit for Windows NT 4.0 Japanese Edition


3.1  Development Environment for Far East Edition
--------------------------------------------------

This section describes the difference in the development environment of SDK between English and Far 
East language Edition.

To build the sample application for Far East language edition, please choose [Set Win32 Environment] 
from [Start] - [Program] - [Windows NT SDK Tools].
You can also use setenv.bat with the following syntax:
	setenv <installed SDK path> [MSDEV]
	*  MSDEV optionally specifies the BINS of the MSVC directory.

To support the specific functions in Far East edition, the following files have been added or changed. The 
following sections provide the explanation of what is different between English and Far East Edition.


3.1.1  Headers

Most of the common headers already support the additional features of Far East Edition. You may need to 
use the following different headers when you use some special function in Far East edition. The GUI setup 
program replaces those automatically depending on the default language. The following headers will be 
replaced When you install SDK on the Far East Edition. Those headers has been changed to support 
procedure declarations, constant definitions and macro for the Windows NT 3.x compatible Far East IMM 
component.
IME.H
<changed>Some defines have been added for latest version.

IMM.H
<changed>Some defines of virtual keys has been moved to WINUSER.H as Far East standard.

WINNLS32.H
<changed>The CHT specific define has been changed as Far East common.

WINGDI.H
The paper size definitions for Far East Edition have been added.

WINUSER.H
This file is necessary for the old 32-bit IME APIs on Windows NT 3.x Far East edition.

WINIOCTL.H
The definitions of Japanese-specific media types have been added. You will need this file to use the 
following media:

	8",      256KB,  128 bytes/sector
	3.5" ,   640KB,  512 bytes/sector
	5.25",   640KB,  512 bytes/sector
	5.25",   720KB,  512 bytes/sector
	3.5" ,   1.2MB,  512 bytes/sector
	3.5" ,   1.23MB, 1024 bytes/sector
	5.25",   1.23MB, 1024 bytes/sector
	3.5" MO  128MB   512 bytes/sector
	3.5" MO  230MB   512 bytes/sector

WINCON.H
This file is necessary for Console IME and Grid in console windows.
Note:
This file is provided under \MSTOOLS\SAMPLES\WIN32\WINNT\GRIDMAP, instead of 
\MSTOOLS\INCLUDE.


3.1.2  Libraries

Most of the common libraries already support the additional features of Far East Edition. You may need to 
use the following different libraries when you use some special function in Far East edition. The GUI setup 
program replaces those automatically depending on the default language.

GDI32.LIB
This file is necessary for EUDC API.

USER32.LIB
This file is necessary to use the old 32-bit IME API.


3.1.3  Supported API List

WIN32API.CSV now includes all supported API list for also Far East edition.


3.1.4 Extended Value of GetKeyboardType()

The GetKeyboardType function retrieves information about the current keyboard. Some retune value have 
been extended for the Japanese and Korean edition.

	int GetKeyboardType(
     		int nTypeFlag 	// type of information to retrieve  
 	     );	
 
	Parameters
	nTypeFlag
	Specifies the type of keyboard information to be retrieved. This parameter can be one of the 
following values: 

	 Value	Meaning
  	 0	Keyboard type
 	 1	Keyboard subtype
 	 2	Number of function keys on the keyboard
 
	Return Values
	If the function succeeds, the return value specifies the requested information. 
	If the function fails, the return value is zero. 

	Remarks
	The type may be one of the following values:
 
 	 Value	Meaning
 	 1	IBM(R) PC/XT(R) ( ) or compatible (83-key) keyboard
 	 2	Olivetti(R) "ICO" (102-key) keyboard
  	 3	IBM PC/AT(R) (84-key) or similar keyboard
  	 4	IBM enhanced (101- or 102-key) keyboard
  	 5	Nokia(R) 1050 and similar keyboards
  	 6	Nokia 9140 and similar keyboards
  	 7	Japanese keyboard
 	 8	Korean keyboard

	The subtype is an original equipment manufacturer (OEM)-dependent value. but if the 
keyboard type is 7 (Japanese keyboard) or 8 (Korean 	keyboard), hibyte of subtype contains its 
driver manufacturer indentifier. And, lobyte of subtype contains its keyboard hardware subtype which may 
be 	one of follows.

	Value Meaning
		[ Japanese Keyboard Types ]
		Driver manufacturer indentifier	Keyboard hardware subtype	Description
		0							
		Microsoft
				 			0		
		PC/AT 101 Enhanced keyboard
				 			1		
		AX compatible keyboard
				 			2		
		PC/AT 106 Japanese keyboard
				 			3		
		IBM 5576-002 keyboard
				 			4		
		IBM 5576-001 keyboard

		1							
		AX consortium
							1		
		AX keyboard

		5							
		Fujitsu
							0		
		FMR JIS Keyboard
							1		
		FMR OASYS Keyboard
							2		
		PC/AT OASYS Keyboard

		13							
		NEC
							1		
		PC-9800 standard keyboard
							4		
		PC-9800 note/laptop keyboard
							5		
		PC-9800 106 Japanese keyboard
	
		18							
		Toshiba
							1		
		Toshiba desktop type keyboard
							2		
		Toshiba laptop type keyboard

		[ Korean Keyboard types ]
		Driver manufacturer indentifier Description
		0				  Microsoft		
		
	
		Keyboard hardware subtype	Description
		3				PC/AT 101 Enhanced keyboard (A)
		4				PC/AT 101 Enhanced keyboard (B)
		5				PC/AT 101 Enhanced keyboard (C)
		6				PC/AT 103 Korean keyboard
	 
	The application can also determine the number of function keys on a keyboard from the 
keyboard type. Following are the number of function keys for 	each keyboard type.

	  Type	Number of function keys
  	1	10
  	2	12 (sometimes 18)
  	3	10
  	4	12
  	5	10
  	6	24
  	7,8	Hardware dependent and specified by the OEM


3.2  SDK Tools
--------------

3.2.1 Translated On-line Helps (Japanese-specific)The following SDK tools and on-line helps have been 
localized for the Japanese Edition.

*  Font Editor (FONTEDIT.EXE)
*  Icon, Bitmap, Cursor Editor (IMAGEDIT.EXE)
*  Hotspot Editor (SHED.EXE)
*  File Comparison Utility (WINDIFF.EXE)
*  Windows Debugger (WINDBG.EXE)
*  Dialog Editor (DLGEDIT.EXE)
*  MultiByte To WideChar (UCONVERT.EXE)


3.3  32-bit Setup Toolkit
-------------------------

The 32-bit Setup Toolkit supports the Japanese edition.
The Japanese documents for 32-bit Setup Toolkit are available in \MSTOOLS\MSSETUP\JPN.


3.4  RLMAN 1.88
-----------------------

RLMAN.EXE version 1.88 allows you to generate a localized 32-bit binary with translated resources 
without re-compiling.
This utility extracts the translatable resources from a 32-bit executable file and stores it in a text file 
(called "a language token file"). After the text file has been translated , this utility can generate the new 
and translated binary using the text file. Please see RLMAN.HLP for the usage of this utility.
Please try localizing the resources of some samples in \MSTOOLS\SAMPLES\SDKTOOLS and 
OPENGL using RLMAN. Those sample directories include the language token files (.TOK), where the 
Japanese resource strings are stored. Please see also the MAKEFILEs for these samples; they include the 
command lines to generate the localized binary with the Japanese resources.


----------------------
4.  Additional Samples
----------------------

The following sample programs are added. 


Sample under \MSTOOLS\SAMPLES\OPENGL:

JTEXT
The sample demonstrates how to show Japanese strings using OpenGL. Jtext draws Japanese strings as 
bitmap data. In case of the double-byte character set, it is hard to encode each byte for the characters in 
the ASCII character set. This program creates bitmap images dynamically rather than statically defining 
them, then draws the strings using glBitmap() and the features of a display list.
Related Functions: glRasterPos*(),  glBitmap(),  glNewList(),  glEndList(),  glCallList(), GetDIBits()


Samples under \MSTOOLS\SAMPLES\WIN32:

TATE
This sample outputs a document, specifying a vertical-writing font.
This program uses GetUseFont() to specify a vertical-writing font. Note that, when a vertical-writing font 
is selected, this program calls CreateFontIndirect API with 2700 (270 degree) for lfEscapement and 
lfOrientation in LOGFONT structure.
The output function is StringOut(), which uses GetTextExtentPoint API and TextOut APIs.


Samples under \MSTOOLS\SAMPLES\WIN32\WINNT:

GRIDMAP
This application shows the Unicode mapping for character codes in codepage 932. It also provides a 
search command in Shift-JIS and Unicode. This is also a sample for Grid in console windows. To use 
grids in a console window, you need to build your application with WINCON.H in this sample directory.

MSGTABLE
The MSGTABLE sample demonstrates how to construct and use a message tableresource in your 
application. To know how to implement multi-lingual messages, see messages.mc that includes also 
Japanese strings. 


-------------------------------------------------------
5.  Software Compatibility Test Kit (Japanese-specific)
-------------------------------------------------------

A 16-bit application, Software Compatibility Test Kit (SCT) for Windows NT 4.0 Japanese edition, is 
provided in \SCT\JPN directory on CD-ROM. To install SCT, please run \SCT\INSTALL.BAT with 
"japan" option. To know more detail, please see also \SCT\JPN\README.TXT and SCT.HLP.


----------------------
6.  Detail Information
----------------------

The following documents are provided in Japanese:

\doc\jpn\filefrmt\custcntl.txt
\doc\jpn\filefrmt\enhmeta.hlp
\doc\jpn\filefrmt\resfmt.txt
\doc\jpn\misc\great.wri
\doc\jpn\misc\vdmdbg.hlp
\mstools\bin\jpn\apfcvt.txt
\mstools\bin\jpn\capview.hlp
\mstools\bin\jpn\dlgedit.hlp
\mstools\bin\jpn\edithlp.hlp
\mstools\bin\jpn\fontedit.hlp
\mstools\bin\jpn\imagedit.hlp
\mstools\bin\jpn\mc.hlp
\mstools\bin\jpn\shed.hlp
\mstools\bin\jpn\uconvert,hlp
\mstools\bin\jpn\windbg.hlp
\mstools\bin\jpn\windiff.hlp
\mstools\mssetup\jpn\readme.wri
\mstools\mssetup\jpn\set.hlp
\mstools\mssetup\jpn\setup.wri
\mstools\samples\mm\jpn\readme.txt
(and some other readme.txt under \mstools\samples directory.)

