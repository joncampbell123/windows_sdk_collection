サンプル:  Win32 フォント API 関数のデモ

概要:

TTFONTS サンプルは、フォント システムを学ぶための使いやすく強力なユーティ
リティです。メイン フレーム ウィンドウの上部には、次の操作を可能にする
ボタンの付いたツールバーがあります。

	1.  インストールされているすべてのディスプレイ フォントを列挙する。
	2.  TEXTMETRIC および OUTLINETEXTMETRIC の情報を取得する。
	3.  任意の LOGFONT 構造体に基づいたフォントを作成する。
	4.  GetFontData() API を使って「フォント データ」を取得する。
	5.  デフォルト プリンタで使用可能なすべてのフォントを列挙する。


詳細:

このプログラムは、フォント システムに関する API 呼び出しへの簡単なユーザー 
インターフェースを提供するよう設計されています。これは、意味のない値に
対する保護や、システムの奇異な動作への対策は行っていません。ツールバーの
ボタンの多くは自明であり、1 つのシステム API を表します。

[EnumFonts] ボタンを押すと、すべての書体名が横に表示され、その書体名に
属する各フォントはその下に縦に表示されます。TrueType フォントは、小さな色
の付いた「TT」ビットマップでマークされます。DEVICE_FONTTYPE ビットを持っ
ているフォントは、プリンタの小さなビットマップ イメージでマークされます。
フォント列挙ウィンドウが表示されているとき、ユーザーはマウスの左ボタンを
クリックすることによって、選択されたフォントの情報を [LOGFONT] および 
[TEXTMETRIC] ダイアログへコピーできます。マウスの右ボタンをクリックするか、
または文字を何か入力することによって、ダイアロク ボックスを変更せずにこの
ウィンドウを抜けることができます。 

[Display] ウィンドウは、3 つのモードのどれかで操作できます。これらは、[表示] 
メニューに示されています。最初のモードは、単に画面の中央に「Hello」を書き
込み、背景に罫線を表示します。これは、LOGFONT 構造体の [lfEscapement] 
および [lfOrientation] メンバを使うとき役に立ちます。2 番目のモードは、
TEXTMETRIC 構造体に格納された [tmFirstChar] および [tmLastChar] の値の間の
すべてのグリフを表示します。最後のモードは、TrueType のフォントにのみ
使われます。このモードは、GetFontData を呼び出し、「cmap」の表を見つけ、
この表の個々のコード領域からグリフを表示します。その範囲を移動するには、
[Display] ウィンドウで水平スクロール バーを使います。


注意:

1000 文字以上の Uniode 文字を含むフォントが、Windows NT ディスクで配布され
ています。このサンプル プログラムの機能を十分に発揮させるために、コント
ロール パネルの [フォント] を使って、このフォントをインストールしてください。
フォント ファイル名は l_10646.TTF です。
